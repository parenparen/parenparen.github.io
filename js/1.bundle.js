(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{45:function(t,n,e){var r,i;function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(){var a={version:"3.4.8"};Date.now||(Date.now=function(){return+new Date});var u=[].slice,s=function(t){return u.call(t)},l=document,c=l.documentElement,h=window;try{s(c.childNodes)[0].nodeType}catch(t){s=function(t){for(var n=t.length,e=new Array(n);n--;)e[n]=t[n];return e}}try{l.createElement("div").style.setProperty("opacity",0,"")}catch(t){var f=h.Element.prototype,v=f.setAttribute,p=f.setAttributeNS,g=h.CSSStyleDeclaration.prototype,d=g.setProperty;f.setAttribute=function(t,n){v.call(this,t,n+"")},f.setAttributeNS=function(t,n,e){p.call(this,t,n,e+"")},g.setProperty=function(t,n,e){d.call(this,t,n+"",e)}}function y(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function m(t){return null!=t&&!isNaN(t)}function x(t){return{left:function(n,e,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=n.length);r<i;){var o=r+i>>>1;t(n[o],e)<0?r=o+1:i=o}return r},right:function(n,e,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=n.length);r<i;){var o=r+i>>>1;t(n[o],e)>0?i=o:r=o+1}return r}}}a.ascending=y,a.descending=function(t,n){return n<t?-1:n>t?1:n>=t?0:NaN},a.min=function(t,n){var e,r,i=-1,o=t.length;if(1===arguments.length){for(;++i<o&&!(null!=(e=t[i])&&e<=e);)e=void 0;for(;++i<o;)null!=(r=t[i])&&e>r&&(e=r)}else{for(;++i<o&&!(null!=(e=n.call(t,t[i],i))&&e<=e);)e=void 0;for(;++i<o;)null!=(r=n.call(t,t[i],i))&&e>r&&(e=r)}return e},a.max=function(t,n){var e,r,i=-1,o=t.length;if(1===arguments.length){for(;++i<o&&!(null!=(e=t[i])&&e<=e);)e=void 0;for(;++i<o;)null!=(r=t[i])&&r>e&&(e=r)}else{for(;++i<o&&!(null!=(e=n.call(t,t[i],i))&&e<=e);)e=void 0;for(;++i<o;)null!=(r=n.call(t,t[i],i))&&r>e&&(e=r)}return e},a.extent=function(t,n){var e,r,i,o=-1,a=t.length;if(1===arguments.length){for(;++o<a&&!(null!=(e=i=t[o])&&e<=e);)e=i=void 0;for(;++o<a;)null!=(r=t[o])&&(e>r&&(e=r),i<r&&(i=r))}else{for(;++o<a&&!(null!=(e=i=n.call(t,t[o],o))&&e<=e);)e=void 0;for(;++o<a;)null!=(r=n.call(t,t[o],o))&&(e>r&&(e=r),i<r&&(i=r))}return[e,i]},a.sum=function(t,n){var e,r=0,i=t.length,o=-1;if(1===arguments.length)for(;++o<i;)isNaN(e=+t[o])||(r+=e);else for(;++o<i;)isNaN(e=+n.call(t,t[o],o))||(r+=e);return r},a.mean=function(t,n){var e,r=0,i=t.length,o=-1,a=i;if(1===arguments.length)for(;++o<i;)m(e=t[o])?r+=e:--a;else for(;++o<i;)m(e=n.call(t,t[o],o))?r+=e:--a;return a?r/a:void 0},a.quantile=function(t,n){var e=(t.length-1)*n+1,r=Math.floor(e),i=+t[r-1],o=e-r;return o?i+o*(t[r]-i):i},a.median=function(t,n){return arguments.length>1&&(t=t.map(n)),(t=t.filter(m)).length?a.quantile(t.sort(y),.5):void 0};var b=x(y);function w(t){return t.length}a.bisectLeft=b.left,a.bisect=a.bisectRight=b.right,a.bisector=function(t){return x(1===t.length?function(n,e){return y(t(n),e)}:t)},a.shuffle=function(t){for(var n,e,r=t.length;r;)e=Math.random()*r--|0,n=t[r],t[r]=t[e],t[e]=n;return t},a.permute=function(t,n){for(var e=n.length,r=new Array(e);e--;)r[e]=t[n[e]];return r},a.pairs=function(t){for(var n=0,e=t.length-1,r=t[0],i=new Array(e<0?0:e);n<e;)i[n]=[r,r=t[++n]];return i},a.zip=function(){if(!(r=arguments.length))return[];for(var t=-1,n=a.min(arguments,w),e=new Array(n);++t<n;)for(var r,i=-1,o=e[t]=new Array(r);++i<r;)o[i]=arguments[i][t];return e},a.transpose=function(t){return a.zip.apply(a,t)},a.keys=function(t){var n=[];for(var e in t)n.push(e);return n},a.values=function(t){var n=[];for(var e in t)n.push(t[e]);return n},a.entries=function(t){var n=[];for(var e in t)n.push({key:e,value:t[e]});return n},a.merge=function(t){for(var n,e,r,i=t.length,o=-1,a=0;++o<i;)a+=t[o].length;for(e=new Array(a);--i>=0;)for(n=(r=t[i]).length;--n>=0;)e[--a]=r[n];return e};var M=Math.abs;function k(t,n){try{for(var e in n)Object.defineProperty(t.prototype,e,{value:n[e],enumerable:!1})}catch(e){t.prototype=n}}function _(){}a.range=function(t,n,e){if(arguments.length<3&&(e=1,arguments.length<2&&(n=t,t=0)),(n-t)/e==1/0)throw new Error("infinite range");var r,i=[],o=function(t){var n=1;for(;t*n%1;)n*=10;return n}(M(e)),a=-1;if(t*=o,n*=o,(e*=o)<0)for(;(r=t+e*++a)>n;)i.push(r/o);else for(;(r=t+e*++a)<n;)i.push(r/o);return i},a.map=function(t){var n=new _;if(t instanceof _)t.forEach(function(t,e){n.set(t,e)});else for(var e in t)n.set(e,t[e]);return n},k(_,{has:j,get:function(t){return this[S+t]},set:function(t,n){return this[S+t]=n},remove:function(t){return(t=S+t)in this&&delete this[t]},keys:E,values:function(){var t=[];return this.forEach(function(n,e){t.push(e)}),t},entries:function(){var t=[];return this.forEach(function(n,e){t.push({key:n,value:e})}),t},size:N,empty:C,forEach:function(t){for(var n in this)n.charCodeAt(0)===A&&t.call(this,n.substring(1),this[n])}});var S="\0",A=S.charCodeAt(0);function j(t){return S+t in this}function E(){var t=[];return this.forEach(function(n){t.push(n)}),t}function N(){var t=0;for(var n in this)n.charCodeAt(0)===A&&++t;return t}function C(){for(var t in this)if(t.charCodeAt(0)===A)return!1;return!0}function T(){}function L(t,n,e){return function(){var r=e.apply(n,arguments);return r===n?t:r}}function O(t,n){if(n in t)return n;n=n.charAt(0).toUpperCase()+n.substring(1);for(var e=0,r=z.length;e<r;++e){var i=z[e]+n;if(i in t)return i}}a.nest=function(){var t,n,e={},r=[],i=[];function o(i,a,u){if(u>=r.length)return n?n.call(e,a):t?a.sort(t):a;for(var s,l,c,h,f=-1,v=a.length,p=r[u++],g=new _;++f<v;)(h=g.get(s=p(l=a[f])))?h.push(l):g.set(s,[l]);return i?(l=i(),c=function(t,n){l.set(t,o(i,n,u))}):(l={},c=function(t,n){l[t]=o(i,n,u)}),g.forEach(c),l}return e.map=function(t,n){return o(n,t,0)},e.entries=function(t){return function t(n,e){if(e>=r.length)return n;var o=[],a=i[e++];return n.forEach(function(n,r){o.push({key:n,values:t(r,e)})}),a?o.sort(function(t,n){return a(t.key,n.key)}):o}(o(a.map,t,0),0)},e.key=function(t){return r.push(t),e},e.sortKeys=function(t){return i[r.length-1]=t,e},e.sortValues=function(n){return t=n,e},e.rollup=function(t){return n=t,e},e},a.set=function(t){var n=new T;if(t)for(var e=0,r=t.length;e<r;++e)n.add(t[e]);return n},k(T,{has:j,add:function(t){return this[S+t]=!0,t},remove:function(t){return(t=S+t)in this&&delete this[t]},values:E,size:N,empty:C,forEach:function(t){for(var n in this)n.charCodeAt(0)===A&&t.call(this,n.substring(1))}}),a.behavior={},a.rebind=function(t,n){for(var e,r=1,i=arguments.length;++r<i;)t[e=arguments[r]]=L(t,n,n[e]);return t};var z=["webkit","ms","moz","Moz","o","O"];function P(){}function q(){}function V(t){var n=[],e=new _;function r(){for(var e,r=n,i=-1,o=r.length;++i<o;)(e=r[i].on)&&e.apply(this,arguments);return t}return r.on=function(r,i){var o,a=e.get(r);return arguments.length<2?a&&a.on:(a&&(a.on=null,n=n.slice(0,o=n.indexOf(a)).concat(n.slice(o+1)),e.remove(r)),i&&n.push(e.set(r,{on:i})),t)},r}function D(){a.event.preventDefault()}function R(){for(var t,n=a.event;t=n.sourceEvent;)n=t;return n}function I(t){for(var n=new q,e=0,r=arguments.length;++e<r;)n[arguments[e]]=V(n);return n.of=function(e,r){return function(i){try{var o=i.sourceEvent=a.event;i.target=t,a.event=i,n[i.type].apply(e,r)}finally{a.event=o}}},n}a.dispatch=function(){for(var t=new q,n=-1,e=arguments.length;++n<e;)t[arguments[n]]=V(t);return t},q.prototype.on=function(t,n){var e=t.indexOf("."),r="";if(e>=0&&(r=t.substring(e+1),t=t.substring(0,e)),t)return arguments.length<2?this[t].on(r):this[t].on(r,n);if(2===arguments.length){if(null==n)for(t in this)this.hasOwnProperty(t)&&this[t].on(r,null);return this}},a.event=null,a.requote=function(t){return t.replace(U,"\\$&")};var U=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,F={}.__proto__?function(t,n){t.__proto__=n}:function(t,n){for(var e in n)t[e]=n[e]};function H(t){return F(t,X),t}var G=function(t,n){return n.querySelector(t)},Y=function(t,n){return n.querySelectorAll(t)},W=c[O(c,"matchesSelector")],B=function(t,n){return W.call(t,n)};"function"==typeof Sizzle&&(G=function(t,n){return Sizzle(t,n)[0]||null},Y=Sizzle,B=Sizzle.matchesSelector),a.selection=function(){return vt};var X=a.selection.prototype=[];function Z(t){return"function"==typeof t?t:function(){return G(t,this)}}function $(t){return"function"==typeof t?t:function(){return Y(t,this)}}X.select=function(t){var n,e,r,i,o=[];t=Z(t);for(var a=-1,u=this.length;++a<u;){o.push(n=[]),n.parentNode=(r=this[a]).parentNode;for(var s=-1,l=r.length;++s<l;)(i=r[s])?(n.push(e=t.call(i,i.__data__,s,a)),e&&"__data__"in i&&(e.__data__=i.__data__)):n.push(null)}return H(o)},X.selectAll=function(t){var n,e,r=[];t=$(t);for(var i=-1,o=this.length;++i<o;)for(var a=this[i],u=-1,l=a.length;++u<l;)(e=a[u])&&(r.push(n=s(t.call(e,e.__data__,u,i))),n.parentNode=e);return H(r)};var J={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function K(t,n){return t=a.ns.qualify(t),null==n?t.local?function(){this.removeAttributeNS(t.space,t.local)}:function(){this.removeAttribute(t)}:"function"==typeof n?t.local?function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}:function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}:t.local?function(){this.setAttributeNS(t.space,t.local,n)}:function(){this.setAttribute(t,n)}}function Q(t){return t.trim().replace(/\s+/g," ")}function tt(t){return new RegExp("(?:^|\\s+)"+a.requote(t)+"(?:\\s+|$)","g")}function nt(t){return t.trim().split(/^|\s+/)}function et(t,n){var e=(t=nt(t).map(rt)).length;return"function"==typeof n?function(){for(var r=-1,i=n.apply(this,arguments);++r<e;)t[r](this,i)}:function(){for(var r=-1;++r<e;)t[r](this,n)}}function rt(t){var n=tt(t);return function(e,r){if(i=e.classList)return r?i.add(t):i.remove(t);var i=e.getAttribute("class")||"";r?(n.lastIndex=0,n.test(i)||e.setAttribute("class",Q(i+" "+t))):e.setAttribute("class",Q(i.replace(n," ")))}}function it(t,n,e){return null==n?function(){this.style.removeProperty(t)}:"function"==typeof n?function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}:function(){this.style.setProperty(t,n,e)}}function ot(t,n){return null==n?function(){delete this[t]}:"function"==typeof n?function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}:function(){this[t]=n}}function at(t){return"function"==typeof t?t:(t=a.ns.qualify(t)).local?function(){return this.ownerDocument.createElementNS(t.space,t.local)}:function(){return this.ownerDocument.createElementNS(this.namespaceURI,t)}}function ut(t){return{__data__:t}}function st(t){return function(){return B(this,t)}}function lt(t,n){for(var e=0,r=t.length;e<r;e++)for(var i,o=t[e],a=0,u=o.length;a<u;a++)(i=o[a])&&n(i,a,e);return t}function ct(t){return F(t,ht),t}a.ns={prefix:J,qualify:function(t){var n=t.indexOf(":"),e=t;return n>=0&&(e=t.substring(0,n),t=t.substring(n+1)),J.hasOwnProperty(e)?{space:J[e],local:t}:t}},X.attr=function(t,n){if(arguments.length<2){if("string"==typeof t){var e=this.node();return(t=a.ns.qualify(t)).local?e.getAttributeNS(t.space,t.local):e.getAttribute(t)}for(n in t)this.each(K(n,t[n]));return this}return this.each(K(t,n))},X.classed=function(t,n){if(arguments.length<2){if("string"==typeof t){var e=this.node(),r=(t=nt(t)).length,i=-1;if(n=e.classList){for(;++i<r;)if(!n.contains(t[i]))return!1}else for(n=e.getAttribute("class");++i<r;)if(!tt(t[i]).test(n))return!1;return!0}for(n in t)this.each(et(n,t[n]));return this}return this.each(et(t,n))},X.style=function(t,n,e){var r=arguments.length;if(r<3){if("string"!=typeof t){for(e in r<2&&(n=""),t)this.each(it(e,t[e],n));return this}if(r<2)return h.getComputedStyle(this.node(),null).getPropertyValue(t);e=""}return this.each(it(t,n,e))},X.property=function(t,n){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(n in t)this.each(ot(n,t[n]));return this}return this.each(ot(t,n))},X.text=function(t){return arguments.length?this.each("function"==typeof t?function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},X.html=function(t){return arguments.length?this.each("function"==typeof t?function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},X.append=function(t){return t=at(t),this.select(function(){return this.appendChild(t.apply(this,arguments))})},X.insert=function(t,n){return t=at(t),n=Z(n),this.select(function(){return this.insertBefore(t.apply(this,arguments),n.apply(this,arguments)||null)})},X.remove=function(){return this.each(function(){var t=this.parentNode;t&&t.removeChild(this)})},X.data=function(t,n){var e,r,i=-1,o=this.length;if(!arguments.length){for(t=new Array(o=(e=this[0]).length);++i<o;)(r=e[i])&&(t[i]=r.__data__);return t}function a(t,e){var r,i,o,a=t.length,c=e.length,h=Math.min(a,c),f=new Array(c),v=new Array(c),p=new Array(a);if(n){var g,d=new _,y=new _,m=[];for(r=-1;++r<a;)g=n.call(i=t[r],i.__data__,r),d.has(g)?p[r]=i:d.set(g,i),m.push(g);for(r=-1;++r<c;)g=n.call(e,o=e[r],r),(i=d.get(g))?(f[r]=i,i.__data__=o):y.has(g)||(v[r]=ut(o)),y.set(g,o),d.remove(g);for(r=-1;++r<a;)d.has(m[r])&&(p[r]=t[r])}else{for(r=-1;++r<h;)i=t[r],o=e[r],i?(i.__data__=o,f[r]=i):v[r]=ut(o);for(;r<c;++r)v[r]=ut(e[r]);for(;r<a;++r)p[r]=t[r]}v.update=f,v.parentNode=f.parentNode=p.parentNode=t.parentNode,u.push(v),s.push(f),l.push(p)}var u=ct([]),s=H([]),l=H([]);if("function"==typeof t)for(;++i<o;)a(e=this[i],t.call(e,e.parentNode.__data__,i));else for(;++i<o;)a(e=this[i],t);return s.enter=function(){return u},s.exit=function(){return l},s},X.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},X.filter=function(t){var n,e,r,i=[];"function"!=typeof t&&(t=st(t));for(var o=0,a=this.length;o<a;o++){i.push(n=[]),n.parentNode=(e=this[o]).parentNode;for(var u=0,s=e.length;u<s;u++)(r=e[u])&&t.call(r,r.__data__,u,o)&&n.push(r)}return H(i)},X.order=function(){for(var t=-1,n=this.length;++t<n;)for(var e,r=this[t],i=r.length-1,o=r[i];--i>=0;)(e=r[i])&&(o&&o!==e.nextSibling&&o.parentNode.insertBefore(e,o),o=e);return this},X.sort=function(t){t=function(t){arguments.length||(t=y);return function(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}}.apply(this,arguments);for(var n=-1,e=this.length;++n<e;)this[n].sort(t);return this.order()},X.each=function(t){return lt(this,function(n,e,r){t.call(n,n.__data__,e,r)})},X.call=function(t){var n=s(arguments);return t.apply(n[0]=this,n),this},X.empty=function(){return!this.node()},X.node=function(){for(var t=0,n=this.length;t<n;t++)for(var e=this[t],r=0,i=e.length;r<i;r++){var o=e[r];if(o)return o}return null},X.size=function(){var t=0;return this.each(function(){++t}),t};var ht=[];function ft(){var t=this.__transition__;t&&++t.active}a.selection.enter=ct,a.selection.enter.prototype=ht,ht.append=X.append,ht.empty=X.empty,ht.node=X.node,ht.call=X.call,ht.size=X.size,ht.select=function(t){for(var n,e,r,i,o,a=[],u=-1,s=this.length;++u<s;){r=(i=this[u]).update,a.push(n=[]),n.parentNode=i.parentNode;for(var l=-1,c=i.length;++l<c;)(o=i[l])?(n.push(r[l]=e=t.call(i.parentNode,o.__data__,l,u)),e.__data__=o.__data__):n.push(null)}return H(a)},ht.insert=function(t,n){var e,r,i;return arguments.length<2&&(e=this,n=function(t,n,o){var a,u=e[o].update,s=u.length;for(o!=i&&(i=o,r=0),n>=r&&(r=n+1);!(a=u[r])&&++r<s;);return a}),X.insert.call(this,t,n)},X.transition=function(){for(var t,n,e=gu||++mu,r=[],i=du||{time:Date.now(),ease:vo,delay:0,duration:250},o=-1,a=this.length;++o<a;){r.push(t=[]);for(var u=this[o],s=-1,l=u.length;++s<l;)(n=u[s])&&wu(n,s,e,i),t.push(n)}return pu(r,e)},X.interrupt=function(){return this.each(ft)},a.select=function(t){var n=["string"==typeof t?G(t,l):t];return n.parentNode=c,H([n])},a.selectAll=function(t){var n=s("string"==typeof t?Y(t,l):t);return n.parentNode=c,H([n])};var vt=a.select(c);function pt(t,n,e){var r="__on"+t,i=t.indexOf("."),o=dt;i>0&&(t=t.substring(0,i));var u=gt.get(t);function l(){var n=this[r];n&&(this.removeEventListener(t,n,n.$),delete this[r])}return u&&(t=u,o=yt),i?n?function(){var i=o(n,s(arguments));l.call(this),this.addEventListener(t,this[r]=i,i.$=e),i._=n}:l:n?P:function(){var n,e=new RegExp("^__on([^.]+)"+a.requote(t)+"$");for(var r in this)if(n=r.match(e)){var i=this[r];this.removeEventListener(n[1],i,i.$),delete this[r]}}}X.on=function(t,n,e){var r=arguments.length;if(r<3){if("string"!=typeof t){for(e in r<2&&(n=!1),t)this.each(pt(e,t[e],n));return this}if(r<2)return(r=this.node()["__on"+t])&&r._;e=!1}return this.each(pt(t,n,e))};var gt=a.map({mouseenter:"mouseover",mouseleave:"mouseout"});function dt(t,n){return function(e){var r=a.event;a.event=e,n[0]=this.__data__;try{t.apply(this,n)}finally{a.event=r}}}function yt(t,n){var e=dt(t,n);return function(t){var n=t.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||e.call(this,t)}}gt.forEach(function(t){"on"+t in l&&gt.remove(t)});var mt="onselectstart"in l?null:O(c.style,"userSelect"),xt=0;function bt(){var t=".dragsuppress-"+ ++xt,n="click"+t,e=a.select(h).on("touchmove"+t,D).on("dragstart"+t,D).on("selectstart"+t,D);if(mt){var r=c.style,i=r[mt];r[mt]="none"}return function(o){if(e.on(t,null),mt&&(r[mt]=i),o){var a=function(){e.on(n,null)};e.on(n,function(){D(),a()},!0),setTimeout(a,0)}}}function wt(t,n){n.changedTouches&&(n=n.changedTouches[0]);var e=t.ownerSVGElement||t;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=n.clientX,r.y=n.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var i=t.getBoundingClientRect();return[n.clientX-i.left-t.clientLeft,n.clientY-i.top-t.clientTop]}function Mt(){return a.event.changedTouches[0].identifier}function kt(){return a.event.target}function _t(){return h}a.mouse=function(t){return wt(t,R())},a.touches=function(t,n){return arguments.length<2&&(n=R().touches),n?s(n).map(function(n){var e=wt(t,n);return e.identifier=n.identifier,e}):[]},a.behavior.drag=function(){var t=I(i,"drag","dragstart","dragend"),n=null,e=o(P,a.mouse,_t,"mousemove","mouseup"),r=o(Mt,a.touch,kt,"touchmove","touchend");function i(){this.on("mousedown.drag",e).on("touchstart.drag",r)}function o(e,r,i,o,u){return function(){var s,l=a.event.target,c=this.parentNode,h=t.of(this,arguments),f=0,v=e(),p=".drag"+(null==v?"":"-"+v),g=a.select(i()).on(o+p,function(){var t,n,e=r(c,v);if(!e)return;t=e[0]-y[0],n=e[1]-y[1],f|=t|n,y=e,h({type:"drag",x:e[0]+s[0],y:e[1]+s[1],dx:t,dy:n})}).on(u+p,function(){if(!r(c,v))return;g.on(o+p,null).on(u+p,null),d(f&&a.event.target===l),h({type:"dragend"})}),d=bt(),y=r(c,v);s=n?[(s=n.apply(this,arguments)).x-y[0],s.y-y[1]]:[0,0],h({type:"dragstart"})}}return i.origin=function(t){return arguments.length?(n=t,i):n},a.rebind(i,t,"on")};var St=Math.PI,At=2*St,jt=St/2,Et=1e-6,Nt=Et*Et,Ct=St/180,Tt=180/St;function Lt(t){return t>0?1:t<0?-1:0}function Ot(t,n,e){return(n[0]-t[0])*(e[1]-t[1])-(n[1]-t[1])*(e[0]-t[0])}function zt(t){return t>1?0:t<-1?St:Math.acos(t)}function Pt(t){return t>1?jt:t<-1?-jt:Math.asin(t)}function qt(t){return((t=Math.exp(t))+1/t)/2}function Vt(t){return(t=Math.sin(t/2))*t}var Dt=Math.SQRT2,Rt=2;a.interpolateZoom=function(t,n){var e=t[0],r=t[1],i=t[2],o=n[0],a=n[1],u=n[2],s=o-e,l=a-r,c=s*s+l*l,h=Math.sqrt(c),f=(u*u-i*i+4*c)/(2*i*Rt*h),v=(u*u-i*i-4*c)/(2*u*Rt*h),p=Math.log(Math.sqrt(f*f+1)-f),g=Math.log(Math.sqrt(v*v+1)-v)-p,d=(g||Math.log(u/i))/Dt;function y(t){var n,o=t*d;if(g){var a=qt(p),u=i/(Rt*h)*(a*(n=Dt*o+p,((n=Math.exp(2*n))-1)/(n+1))-function(t){return((t=Math.exp(t))-1/t)/2}(p));return[e+u*s,r+u*l,i*a/qt(Dt*o+p)]}return[e+t*s,r+t*l,i*Math.exp(Dt*o)]}return y.duration=1e3*d,y},a.behavior.zoom=function(){var t,n,e,r,i,o,u,s,l={x:0,y:0,k:1},c=[960,500],f=Ut,v="mousedown.zoom",p="mousemove.zoom",g="mouseup.zoom",d="touchstart.zoom",y=I(m,"zoomstart","zoom","zoomend");function m(t){t.on(v,A).on(Ft+".zoom",E).on(p,N).on("dblclick.zoom",C).on(d,j)}function x(t){return[(t[0]-l.x)/l.k,(t[1]-l.y)/l.k]}function b(t){l.k=Math.max(f[0],Math.min(f[1],t))}function w(t,n){n=function(t){return[t[0]*l.k+l.x,t[1]*l.k+l.y]}(n),l.x+=t[0]-n[0],l.y+=t[1]-n[1]}function M(){o&&o.domain(i.range().map(function(t){return(t-l.x)/l.k}).map(i.invert)),s&&s.domain(u.range().map(function(t){return(t-l.y)/l.k}).map(u.invert))}function k(t){t({type:"zoomstart"})}function _(t){M(),t({type:"zoom",scale:l.k,translate:[l.x,l.y]})}function S(t){t({type:"zoomend"})}function A(){var t=this,n=a.event.target,e=y.of(t,arguments),r=0,i=a.select(h).on(p,function(){r=1,w(a.mouse(t),o),_(e)}).on(g,function(){i.on(p,h===t?N:null).on(g,null),u(r&&a.event.target===n),S(e)}),o=x(a.mouse(t)),u=bt();ft.call(t),k(e)}function j(){var t,n=this,e=y.of(n,arguments),i={},o=0,u=".zoom-"+a.event.changedTouches[0].identifier,s="touchmove"+u,c="touchend"+u,h=[],f=a.select(n).on(v,null).on(d,m),p=bt();function g(){var e=a.touches(n);return t=l.k,e.forEach(function(t){t.identifier in i&&(i[t.identifier]=x(t))}),e}function m(){var t=a.event.target;a.select(t).on(s,M).on(c,E),h.push(t);for(var n=a.event.changedTouches,u=0,f=n.length;u<f;++u)i[n[u].identifier]=null;var v=g(),p=Date.now();if(1===v.length){if(p-r<500){var d=v[0],y=i[d.identifier];b(2*l.k),w(d,y),D(),_(e)}r=p}else if(v.length>1){d=v[0];var m=v[1],x=d[0]-m[0],k=d[1]-m[1];o=x*x+k*k}}function M(){for(var u,s,l,c,h=a.touches(n),f=0,v=h.length;f<v;++f,c=null)if(l=h[f],c=i[l.identifier]){if(s)break;u=l,s=c}if(c){var p=(p=l[0]-u[0])*p+(p=l[1]-u[1])*p,g=o&&Math.sqrt(p/o);u=[(u[0]+l[0])/2,(u[1]+l[1])/2],s=[(s[0]+c[0])/2,(s[1]+c[1])/2],b(g*t)}r=null,w(u,s),_(e)}function E(){if(a.event.touches.length){for(var t=a.event.changedTouches,n=0,r=t.length;n<r;++n)delete i[t[n].identifier];for(var o in i)return void g()}a.selectAll(h).on(u,null),f.on(v,A).on(d,j),p(),S(e)}ft.call(n),m(),k(e)}function E(){var r=y.of(this,arguments);e?clearTimeout(e):(ft.call(this),k(r)),e=setTimeout(function(){e=null,S(r)},50),D();var i=n||a.mouse(this);t||(t=x(i)),b(Math.pow(2,.002*It())*l.k),w(i,t),_(r)}function N(){t=null}function C(){var t=y.of(this,arguments),n=a.mouse(this),e=x(n),r=Math.log(l.k)/Math.LN2;k(t),b(Math.pow(2,a.event.shiftKey?Math.ceil(r)-1:Math.floor(r)+1)),w(n,e),_(t),S(t)}return m.event=function(t){t.each(function(){var t=y.of(this,arguments),n=l;gu?a.select(this).transition().each("start.zoom",function(){l=this.__chart__||{x:0,y:0,k:1},k(t)}).tween("zoom:zoom",function(){var e=c[0],r=c[1],i=e/2,o=r/2,u=a.interpolateZoom([(i-l.x)/l.k,(o-l.y)/l.k,e/l.k],[(i-n.x)/n.k,(o-n.y)/n.k,e/n.k]);return function(n){var r=u(n),a=e/r[2];this.__chart__=l={x:i-r[0]*a,y:o-r[1]*a,k:a},_(t)}}).each("end.zoom",function(){S(t)}):(this.__chart__=l,k(t),_(t),S(t))})},m.translate=function(t){return arguments.length?(l={x:+t[0],y:+t[1],k:l.k},M(),m):[l.x,l.y]},m.scale=function(t){return arguments.length?(l={x:l.x,y:l.y,k:+t},M(),m):l.k},m.scaleExtent=function(t){return arguments.length?(f=null==t?Ut:[+t[0],+t[1]],m):f},m.center=function(t){return arguments.length?(n=t&&[+t[0],+t[1]],m):n},m.size=function(t){return arguments.length?(c=t&&[+t[0],+t[1]],m):c},m.x=function(t){return arguments.length?(o=t,i=t.copy(),l={x:0,y:0,k:1},m):o},m.y=function(t){return arguments.length?(s=t,u=t.copy(),l={x:0,y:0,k:1},m):s},a.rebind(m,y,"on")};var It,Ut=[0,1/0],Ft="onwheel"in l?(It=function(){return-a.event.deltaY*(a.event.deltaMode?120:1)},"wheel"):"onmousewheel"in l?(It=function(){return a.event.wheelDelta},"mousewheel"):(It=function(){return-a.event.detail},"MozMousePixelScroll");function Ht(){}function Gt(t,n,e){return new Yt(t,n,e)}function Yt(t,n,e){this.h=t,this.s=n,this.l=e}Ht.prototype.toString=function(){return this.rgb()+""},a.hsl=function(t,n,e){return 1===arguments.length?t instanceof Yt?Gt(t.h,t.s,t.l):yn(""+t,mn,Gt):Gt(+t,+n,+e)};var Wt=Yt.prototype=new Ht;function Bt(t,n,e){var r,i;function o(t){return Math.round(255*function(t){return t>360?t-=360:t<0&&(t+=360),t<60?r+(i-r)*t/60:t<180?i:t<240?r+(i-r)*(240-t)/60:r}(t))}return t=isNaN(t)?0:(t%=360)<0?t+360:t,n=isNaN(n)?0:n<0?0:n>1?1:n,r=2*(e=e<0?0:e>1?1:e)-(i=e<=.5?e*(1+n):e+n-e*n),vn(o(t+120),o(t),o(t-120))}function Xt(t,n,e){return new Zt(t,n,e)}function Zt(t,n,e){this.h=t,this.c=n,this.l=e}Wt.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),Gt(this.h,this.s,this.l/t)},Wt.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),Gt(this.h,this.s,t*this.l)},Wt.rgb=function(){return Bt(this.h,this.s,this.l)},a.hcl=function(t,n,e){return 1===arguments.length?t instanceof Zt?Xt(t.h,t.c,t.l):un(t instanceof Qt?t.l:(t=xn((t=a.rgb(t)).r,t.g,t.b)).l,t.a,t.b):Xt(+t,+n,+e)};var $t=Zt.prototype=new Ht;function Jt(t,n,e){return isNaN(t)&&(t=0),isNaN(n)&&(n=0),Kt(e,Math.cos(t*=Ct)*n,Math.sin(t)*n)}function Kt(t,n,e){return new Qt(t,n,e)}function Qt(t,n,e){this.l=t,this.a=n,this.b=e}$t.brighter=function(t){return Xt(this.h,this.c,Math.min(100,this.l+tn*(arguments.length?t:1)))},$t.darker=function(t){return Xt(this.h,this.c,Math.max(0,this.l-tn*(arguments.length?t:1)))},$t.rgb=function(){return Jt(this.h,this.c,this.l).rgb()},a.lab=function(t,n,e){return 1===arguments.length?t instanceof Qt?Kt(t.l,t.a,t.b):t instanceof Zt?Jt(t.l,t.c,t.h):xn((t=a.rgb(t)).r,t.g,t.b):Kt(+t,+n,+e)};var tn=18,nn=.95047,en=1,rn=1.08883,on=Qt.prototype=new Ht;function an(t,n,e){var r=(t+16)/116,i=r+n/500,o=r-e/200;return vn(cn(3.2404542*(i=sn(i)*nn)-1.5371385*(r=sn(r)*en)-.4985314*(o=sn(o)*rn)),cn(-.969266*i+1.8760108*r+.041556*o),cn(.0556434*i-.2040259*r+1.0572252*o))}function un(t,n,e){return t>0?Xt(Math.atan2(e,n)*Tt,Math.sqrt(n*n+e*e),t):Xt(NaN,NaN,t)}function sn(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function ln(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function cn(t){return Math.round(255*(t<=.00304?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function hn(t){return vn(t>>16,t>>8&255,255&t)}function fn(t){return hn(t)+""}function vn(t,n,e){return new pn(t,n,e)}function pn(t,n,e){this.r=t,this.g=n,this.b=e}on.brighter=function(t){return Kt(Math.min(100,this.l+tn*(arguments.length?t:1)),this.a,this.b)},on.darker=function(t){return Kt(Math.max(0,this.l-tn*(arguments.length?t:1)),this.a,this.b)},on.rgb=function(){return an(this.l,this.a,this.b)},a.rgb=function(t,n,e){return 1===arguments.length?t instanceof pn?vn(t.r,t.g,t.b):yn(""+t,vn,Bt):vn(~~t,~~n,~~e)};var gn=pn.prototype=new Ht;function dn(t){return t<16?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function yn(t,n,e){var r,i,o,a=0,u=0,s=0;if(r=/([a-z]+)\((.*)\)/i.exec(t))switch(i=r[2].split(","),r[1]){case"hsl":return e(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100);case"rgb":return n(wn(i[0]),wn(i[1]),wn(i[2]))}return(o=Mn.get(t))?n(o.r,o.g,o.b):(null==t||"#"!==t.charAt(0)||isNaN(o=parseInt(t.substring(1),16))||(4===t.length?(a=(3840&o)>>4,a|=a>>4,u=240&o,u|=u>>4,s=15&o,s|=s<<4):7===t.length&&(a=(16711680&o)>>16,u=(65280&o)>>8,s=255&o)),n(a,u,s))}function mn(t,n,e){var r,i,o=Math.min(t/=255,n/=255,e/=255),a=Math.max(t,n,e),u=a-o,s=(a+o)/2;return u?(i=s<.5?u/(a+o):u/(2-a-o),r=t==a?(n-e)/u+(n<e?6:0):n==a?(e-t)/u+2:(t-n)/u+4,r*=60):(r=NaN,i=s>0&&s<1?0:r),Gt(r,i,s)}function xn(t,n,e){var r=ln((.4124564*(t=bn(t))+.3575761*(n=bn(n))+.1804375*(e=bn(e)))/nn),i=ln((.2126729*t+.7151522*n+.072175*e)/en);return Kt(116*i-16,500*(r-i),200*(i-ln((.0193339*t+.119192*n+.9503041*e)/rn)))}function bn(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function wn(t){var n=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*n):n}gn.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var n=this.r,e=this.g,r=this.b,i=30;return n||e||r?(n&&n<i&&(n=i),e&&e<i&&(e=i),r&&r<i&&(r=i),vn(Math.min(255,~~(n/t)),Math.min(255,~~(e/t)),Math.min(255,~~(r/t)))):vn(i,i,i)},gn.darker=function(t){return vn(~~((t=Math.pow(.7,arguments.length?t:1))*this.r),~~(t*this.g),~~(t*this.b))},gn.hsl=function(){return mn(this.r,this.g,this.b)},gn.toString=function(){return"#"+dn(this.r)+dn(this.g)+dn(this.b)};var Mn=a.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});function kn(t){return"function"==typeof t?t:function(){return t}}function _n(t){return t}function Sn(t){return function(n,e,r){return 2===arguments.length&&"function"==typeof e&&(r=e,e=null),An(n,e,t,r)}}function An(t,n,e,r){var i={},o=a.dispatch("beforesend","progress","load","error"),u={},l=new XMLHttpRequest,c=null;function f(){var t,n=l.status;if(!n&&l.responseText||n>=200&&n<300||304===n){try{t=e.call(i,l)}catch(t){return void o.error.call(i,t)}o.load.call(i,t)}else o.error.call(i,l)}return!h.XDomainRequest||"withCredentials"in l||!/^(http(s)?:)?\/\//.test(t)||(l=new XDomainRequest),"onload"in l?l.onload=l.onerror=f:l.onreadystatechange=function(){l.readyState>3&&f()},l.onprogress=function(t){var n=a.event;a.event=t;try{o.progress.call(i,l)}finally{a.event=n}},i.header=function(t,n){return t=(t+"").toLowerCase(),arguments.length<2?u[t]:(null==n?delete u[t]:u[t]=n+"",i)},i.mimeType=function(t){return arguments.length?(n=null==t?null:t+"",i):n},i.responseType=function(t){return arguments.length?(c=t,i):c},i.response=function(t){return e=t,i},["get","post"].forEach(function(t){i[t]=function(){return i.send.apply(i,[t].concat(s(arguments)))}}),i.send=function(e,r,a){if(2===arguments.length&&"function"==typeof r&&(a=r,r=null),l.open(e,t,!0),null==n||"accept"in u||(u.accept=n+",*/*"),l.setRequestHeader)for(var s in u)l.setRequestHeader(s,u[s]);return null!=n&&l.overrideMimeType&&l.overrideMimeType(n),null!=c&&(l.responseType=c),null!=a&&i.on("error",a).on("load",function(t){a(null,t)}),o.beforesend.call(i,l),l.send(null==r?null:r),i},i.abort=function(){return l.abort(),i},a.rebind(i,o,"on"),null==r?i:i.get(function(t){return 1===t.length?function(n,e){t(null==n?e:null)}:t}(r))}Mn.forEach(function(t,n){Mn.set(t,hn(n))}),a.functor=kn,a.xhr=Sn(_n),a.dsv=function(t,n){var e=new RegExp('["'+t+"\n]"),r=t.charCodeAt(0);function i(t,e,r){arguments.length<3&&(r=e,e=null);var i=An(t,n,null==e?o:a(e),r);return i.row=function(t){return arguments.length?i.response(null==(e=t)?o:a(t)):e},i}function o(t){return i.parse(t.responseText)}function a(t){return function(n){return i.parse(n.responseText,t)}}function u(n){return n.map(s).join(t)}function s(t){return e.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}return i.parse=function(t,n){var e;return i.parseRows(t,function(t,r){if(e)return e(t,r-1);var i=new Function("d","return {"+t.map(function(t,n){return JSON.stringify(t)+": d["+n+"]"}).join(",")+"}");e=n?function(t,e){return n(i(t),e)}:i})},i.parseRows=function(t,n){var e,i,o={},a={},u=[],s=t.length,l=0,c=0;function h(){if(l>=s)return a;if(i)return i=!1,o;var n=l;if(34===t.charCodeAt(n)){for(var e=n;e++<s;)if(34===t.charCodeAt(e)){if(34!==t.charCodeAt(e+1))break;++e}return l=e+2,13===(u=t.charCodeAt(e+1))?(i=!0,10===t.charCodeAt(e+2)&&++l):10===u&&(i=!0),t.substring(n+1,e).replace(/""/g,'"')}for(;l<s;){var u,c=1;if(10===(u=t.charCodeAt(l++)))i=!0;else if(13===u)i=!0,10===t.charCodeAt(l)&&(++l,++c);else if(u!==r)continue;return t.substring(n,l-c)}return t.substring(n)}for(;(e=h())!==a;){for(var f=[];e!==o&&e!==a;)f.push(e),e=h();n&&!(f=n(f,c++))||u.push(f)}return u},i.format=function(n){if(Array.isArray(n[0]))return i.formatRows(n);var e=new T,r=[];return n.forEach(function(t){for(var n in t)e.has(n)||r.push(e.add(n))}),[r.map(s).join(t)].concat(n.map(function(n){return r.map(function(t){return s(n[t])}).join(t)})).join("\n")},i.formatRows=function(t){return t.map(u).join("\n")},i},a.csv=a.dsv(",","text/csv"),a.tsv=a.dsv("\t","text/tab-separated-values"),a.touch=function(t,n,e){if(arguments.length<3&&(e=n,n=R().changedTouches),n)for(var r,i=0,o=n.length;i<o;++i)if((r=n[i]).identifier===e)return wt(t,r)};var jn,En,Nn,Cn,Tn,Ln=h[O(h,"requestAnimationFrame")]||function(t){setTimeout(t,17)};function On(){var t=zn(),n=Pn()-t;n>24?(isFinite(n)&&(clearTimeout(Cn),Cn=setTimeout(On,n)),Nn=0):(Nn=1,Ln(On))}function zn(){var t=Date.now();for(Tn=jn;Tn;)t>=Tn.t&&(Tn.f=Tn.c(t-Tn.t)),Tn=Tn.n;return t}function Pn(){for(var t,n=jn,e=1/0;n;)n.f?n=t?t.n=n.n:jn=n.n:(n.t<e&&(e=n.t),n=(t=n).n);return En=t,e}function qn(t,n){return n-(t?Math.ceil(Math.log(t)/Math.LN10):1)}a.timer=function(t,n,e){var r=arguments.length;r<2&&(n=0),r<3&&(e=Date.now());var i={c:t,t:e+n,f:!1,n:null};En?En.n=i:jn=i,En=i,Nn||(Cn=clearTimeout(Cn),Nn=1,Ln(On))},a.timer.flush=function(){zn(),Pn()},a.round=function(t,n){return n?Math.round(t*(n=Math.pow(10,n)))/n:Math.round(t)};var Vn=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"].map(function(t,n){var e=Math.pow(10,3*M(8-n));return{scale:n>8?function(t){return t/e}:function(t){return t*e},symbol:t}});function Dn(t){var n=t.decimal,e=t.thousands,r=t.grouping,i=t.currency,o=r?function(t){for(var n=t.length,i=[],o=0,a=r[0];n>0&&a>0;)i.push(t.substring(n-=a,n+a)),a=r[o=(o+1)%r.length];return i.reverse().join(e)}:_n;return function(t){var e=Rn.exec(t),r=e[1]||" ",u=e[2]||">",s=e[3]||"",l=e[4]||"",c=e[5],h=+e[6],f=e[7],v=e[8],p=e[9],g=1,d="",y="",m=!1;switch(v&&(v=+v.substring(1)),(c||"0"===r&&"="===u)&&(c=r="0",u="=",f&&(h-=Math.floor((h-1)/4))),p){case"n":f=!0,p="g";break;case"%":g=100,y="%",p="f";break;case"p":g=100,y="%",p="r";break;case"b":case"o":case"x":case"X":"#"===l&&(d="0"+p.toLowerCase());case"c":case"d":m=!0,v=0;break;case"s":g=-1,p="r"}"$"===l&&(d=i[0],y=i[1]),"r"!=p||v||(p="g"),null!=v&&("g"==p?v=Math.max(1,Math.min(21,v)):"e"!=p&&"f"!=p||(v=Math.max(0,Math.min(20,v)))),p=In.get(p)||Un;var x=c&&f;return function(t){var e=y;if(m&&t%1)return"";var i=t<0||0===t&&1/t<0?(t=-t,"-"):s;if(g<0){var l=a.formatPrefix(t,v);t=l.scale(t),e=l.symbol+y}else t*=g;var b=(t=p(t,v)).lastIndexOf("."),w=b<0?t:t.substring(0,b),M=b<0?"":n+t.substring(b+1);!c&&f&&(w=o(w));var k=d.length+w.length+M.length+(x?0:i.length),_=k<h?new Array(k=h-k+1).join(r):"";return x&&(w=o(_+w)),i+=d,t=w+M,("<"===u?i+t+_:">"===u?_+i+t:"^"===u?_.substring(0,k>>=1)+i+t+_.substring(k):i+(x?t:_+t))+e}}}a.formatPrefix=function(t,n){var e=0;return t&&(t<0&&(t*=-1),n&&(t=a.round(t,qn(t,n))),e=1+Math.floor(1e-12+Math.log(t)/Math.LN10),e=Math.max(-24,Math.min(24,3*Math.floor((e-1)/3)))),Vn[8+e/3]};var Rn=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,In=a.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,n){return t.toPrecision(n)},e:function(t,n){return t.toExponential(n)},f:function(t,n){return t.toFixed(n)},r:function(t,n){return(t=a.round(t,qn(t,n))).toFixed(Math.max(0,Math.min(20,qn(t*(1+1e-15),n))))}});function Un(t){return t+""}var Fn=a.time={},Hn=Date;function Gn(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}Gn.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){Yn.setUTCDate.apply(this._,arguments)},setDay:function(){Yn.setUTCDay.apply(this._,arguments)},setFullYear:function(){Yn.setUTCFullYear.apply(this._,arguments)},setHours:function(){Yn.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){Yn.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){Yn.setUTCMinutes.apply(this._,arguments)},setMonth:function(){Yn.setUTCMonth.apply(this._,arguments)},setSeconds:function(){Yn.setUTCSeconds.apply(this._,arguments)},setTime:function(){Yn.setTime.apply(this._,arguments)}};var Yn=Date.prototype;function Wn(t,n,e){function r(n){var e=t(n),r=o(e,1);return n-e<r-n?e:r}function i(e){return n(e=t(new Hn(e-1)),1),e}function o(t,e){return n(t=new Hn(+t),e),t}function a(t,r,o){var a=i(t),u=[];if(o>1)for(;a<r;)e(a)%o||u.push(new Date(+a)),n(a,1);else for(;a<r;)u.push(new Date(+a)),n(a,1);return u}t.floor=t,t.round=r,t.ceil=i,t.offset=o,t.range=a;var u=t.utc=Bn(t);return u.floor=u,u.round=Bn(r),u.ceil=Bn(i),u.offset=Bn(o),u.range=function(t,n,e){try{Hn=Gn;var r=new Gn;return r._=t,a(r,n,e)}finally{Hn=Date}},t}function Bn(t){return function(n,e){try{Hn=Gn;var r=new Gn;return r._=n,t(r,e)._}finally{Hn=Date}}}function Xn(t){var n=t.dateTime,e=t.date,r=t.time,i=t.periods,o=t.days,u=t.shortDays,s=t.months,l=t.shortMonths;function c(t){var n=t.length;function e(e){for(var r,i,o,a=[],u=-1,s=0;++u<n;)37===t.charCodeAt(u)&&(a.push(t.substring(s,u)),null!=(i=Zn[r=t.charAt(++u)])&&(r=t.charAt(++u)),(o=w[r])&&(r=o(e,null==i?"e"===r?" ":"0":i)),a.push(r),s=u+1);return a.push(t.substring(s,u)),a.join("")}return e.parse=function(n){var e={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(h(e,t,n,0)!=n.length)return null;"p"in e&&(e.H=e.H%12+12*e.p);var r=null!=e.Z&&Hn!==Gn,i=new(r?Gn:Hn);return"j"in e?i.setFullYear(e.y,0,e.j):"w"in e&&("W"in e||"U"in e)?(i.setFullYear(e.y,0,1),i.setFullYear(e.y,0,"W"in e?(e.w+6)%7+7*e.W-(i.getDay()+5)%7:e.w+7*e.U-(i.getDay()+6)%7)):i.setFullYear(e.y,e.m,e.d),i.setHours(e.H+Math.floor(e.Z/100),e.M+e.Z%100,e.S,e.L),r?i._:i},e.toString=function(){return t},e}function h(t,n,e,r){for(var i,o,a,u=0,s=n.length,l=e.length;u<s;){if(r>=l)return-1;if(37===(i=n.charCodeAt(u++))){if(a=n.charAt(u++),!(o=M[a in Zn?n.charAt(u++):a])||(r=o(t,e,r))<0)return-1}else if(i!=e.charCodeAt(r++))return-1}return r}c.utc=function(t){var n=c(t);function e(t){try{var e=new(Hn=Gn);return e._=t,n(e)}finally{Hn=Date}}return e.parse=function(t){try{Hn=Gn;var e=n.parse(t);return e&&e._}finally{Hn=Date}},e.toString=n.toString,e},c.multi=c.utc.multi=de;var f=a.map(),v=Qn(o),p=te(o),g=Qn(u),d=te(u),y=Qn(s),m=te(s),x=Qn(l),b=te(l);i.forEach(function(t,n){f.set(t.toLowerCase(),n)});var w={a:function(t){return u[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return l[t.getMonth()]},B:function(t){return s[t.getMonth()]},c:c(n),d:function(t,n){return Kn(t.getDate(),n,2)},e:function(t,n){return Kn(t.getDate(),n,2)},H:function(t,n){return Kn(t.getHours(),n,2)},I:function(t,n){return Kn(t.getHours()%12||12,n,2)},j:function(t,n){return Kn(1+Fn.dayOfYear(t),n,3)},L:function(t,n){return Kn(t.getMilliseconds(),n,3)},m:function(t,n){return Kn(t.getMonth()+1,n,2)},M:function(t,n){return Kn(t.getMinutes(),n,2)},p:function(t){return i[+(t.getHours()>=12)]},S:function(t,n){return Kn(t.getSeconds(),n,2)},U:function(t,n){return Kn(Fn.sundayOfYear(t),n,2)},w:function(t){return t.getDay()},W:function(t,n){return Kn(Fn.mondayOfYear(t),n,2)},x:c(e),X:c(r),y:function(t,n){return Kn(t.getFullYear()%100,n,2)},Y:function(t,n){return Kn(t.getFullYear()%1e4,n,4)},Z:pe,"%":function(){return"%"}},M={a:function(t,n,e){g.lastIndex=0;var r=g.exec(n.substring(e));return r?(t.w=d.get(r[0].toLowerCase()),e+r[0].length):-1},A:function(t,n,e){v.lastIndex=0;var r=v.exec(n.substring(e));return r?(t.w=p.get(r[0].toLowerCase()),e+r[0].length):-1},b:function(t,n,e){x.lastIndex=0;var r=x.exec(n.substring(e));return r?(t.m=b.get(r[0].toLowerCase()),e+r[0].length):-1},B:function(t,n,e){y.lastIndex=0;var r=y.exec(n.substring(e));return r?(t.m=m.get(r[0].toLowerCase()),e+r[0].length):-1},c:function(t,n,e){return h(t,w.c.toString(),n,e)},d:se,e:se,H:ce,I:ce,j:le,L:ve,m:ue,M:he,p:function(t,n,e){var r=f.get(n.substring(e,e+=2).toLowerCase());return null==r?-1:(t.p=r,e)},S:fe,U:ee,w:ne,W:re,x:function(t,n,e){return h(t,w.x.toString(),n,e)},X:function(t,n,e){return h(t,w.X.toString(),n,e)},y:oe,Y:ie,Z:ae,"%":ge};return c}Fn.year=Wn(function(t){return(t=Fn.day(t)).setMonth(0,1),t},function(t,n){t.setFullYear(t.getFullYear()+n)},function(t){return t.getFullYear()}),Fn.years=Fn.year.range,Fn.years.utc=Fn.year.utc.range,Fn.day=Wn(function(t){var n=new Hn(2e3,0);return n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n},function(t,n){t.setDate(t.getDate()+n)},function(t){return t.getDate()-1}),Fn.days=Fn.day.range,Fn.days.utc=Fn.day.utc.range,Fn.dayOfYear=function(t){var n=Fn.year(t);return Math.floor((t-n-6e4*(t.getTimezoneOffset()-n.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(t,n){n=7-n;var e=Fn[t]=Wn(function(t){return(t=Fn.day(t)).setDate(t.getDate()-(t.getDay()+n)%7),t},function(t,n){t.setDate(t.getDate()+7*Math.floor(n))},function(t){var e=Fn.year(t).getDay();return Math.floor((Fn.dayOfYear(t)+(e+n)%7)/7)-(e!==n)});Fn[t+"s"]=e.range,Fn[t+"s"].utc=e.utc.range,Fn[t+"OfYear"]=function(t){var e=Fn.year(t).getDay();return Math.floor((Fn.dayOfYear(t)+(e+n)%7)/7)}}),Fn.week=Fn.sunday,Fn.weeks=Fn.sunday.range,Fn.weeks.utc=Fn.sunday.utc.range,Fn.weekOfYear=Fn.sundayOfYear;var Zn={"-":"",_:" ",0:"0"},$n=/^\s*\d+/,Jn=/^%/;function Kn(t,n,e){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<e?new Array(e-o+1).join(n)+i:i)}function Qn(t){return new RegExp("^(?:"+t.map(a.requote).join("|")+")","i")}function te(t){for(var n=new _,e=-1,r=t.length;++e<r;)n.set(t[e].toLowerCase(),e);return n}function ne(t,n,e){$n.lastIndex=0;var r=$n.exec(n.substring(e,e+1));return r?(t.w=+r[0],e+r[0].length):-1}function ee(t,n,e){$n.lastIndex=0;var r=$n.exec(n.substring(e));return r?(t.U=+r[0],e+r[0].length):-1}function re(t,n,e){$n.lastIndex=0;var r=$n.exec(n.substring(e));return r?(t.W=+r[0],e+r[0].length):-1}function ie(t,n,e){$n.lastIndex=0;var r=$n.exec(n.substring(e,e+4));return r?(t.y=+r[0],e+r[0].length):-1}function oe(t,n,e){$n.lastIndex=0;var r,i=$n.exec(n.substring(e,e+2));return i?(t.y=(r=+i[0])+(r>68?1900:2e3),e+i[0].length):-1}function ae(t,n,e){return/^[+-]\d{4}$/.test(n=n.substring(e,e+5))?(t.Z=-n,e+5):-1}function ue(t,n,e){$n.lastIndex=0;var r=$n.exec(n.substring(e,e+2));return r?(t.m=r[0]-1,e+r[0].length):-1}function se(t,n,e){$n.lastIndex=0;var r=$n.exec(n.substring(e,e+2));return r?(t.d=+r[0],e+r[0].length):-1}function le(t,n,e){$n.lastIndex=0;var r=$n.exec(n.substring(e,e+3));return r?(t.j=+r[0],e+r[0].length):-1}function ce(t,n,e){$n.lastIndex=0;var r=$n.exec(n.substring(e,e+2));return r?(t.H=+r[0],e+r[0].length):-1}function he(t,n,e){$n.lastIndex=0;var r=$n.exec(n.substring(e,e+2));return r?(t.M=+r[0],e+r[0].length):-1}function fe(t,n,e){$n.lastIndex=0;var r=$n.exec(n.substring(e,e+2));return r?(t.S=+r[0],e+r[0].length):-1}function ve(t,n,e){$n.lastIndex=0;var r=$n.exec(n.substring(e,e+3));return r?(t.L=+r[0],e+r[0].length):-1}function pe(t){var n=t.getTimezoneOffset(),e=n>0?"-":"+",r=~~(M(n)/60),i=M(n)%60;return e+Kn(r,"0",2)+Kn(i,"0",2)}function ge(t,n,e){Jn.lastIndex=0;var r=Jn.exec(n.substring(e,e+1));return r?e+r[0].length:-1}function de(t){for(var n=t.length,e=-1;++e<n;)t[e][0]=this(t[e][0]);return function(n){for(var e=0,r=t[e];!r[1](n);)r=t[++e];return r[0](n)}}a.locale=function(t){return{numberFormat:Dn(t),timeFormat:Xn(t)}};var ye=a.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function me(){}a.format=ye.numberFormat,a.geo={},me.prototype={s:0,t:0,add:function(t){be(t,this.t,xe),be(xe.s,this.s,this),this.s?this.t+=xe.t:this.s=xe.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var xe=new me;function be(t,n,e){var r=e.s=t+n,i=r-t,o=r-i;e.t=t-o+(n-i)}function we(t,n){t&&ke.hasOwnProperty(t.type)&&ke[t.type](t,n)}a.geo.stream=function(t,n){t&&Me.hasOwnProperty(t.type)?Me[t.type](t,n):we(t,n)};var Me={Feature:function(t,n){we(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)we(e[r].geometry,n)}},ke={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)t=e[r],n.point(t[0],t[1],t[2])},LineString:function(t,n){_e(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)_e(e[r],n,0)},Polygon:function(t,n){Se(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)Se(e[r],n)},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)we(e[r],n)}};function _e(t,n,e){var r,i=-1,o=t.length-e;for(n.lineStart();++i<o;)r=t[i],n.point(r[0],r[1],r[2]);n.lineEnd()}function Se(t,n){var e=-1,r=t.length;for(n.polygonStart();++e<r;)_e(t[e],n,1);n.polygonEnd()}a.geo.area=function(t){return Ae=0,a.geo.stream(t,Re),Ae};var Ae,je,Ee,Ne,Ce,Te,Le,Oe,ze,Pe,qe,Ve,De=new me,Re={sphere:function(){Ae+=4*St},point:P,lineStart:P,lineEnd:P,polygonStart:function(){De.reset(),Re.lineStart=Ie},polygonEnd:function(){var t=2*De;Ae+=t<0?4*St+t:t,Re.lineStart=Re.lineEnd=Re.point=P}};function Ie(){var t,n,e,r,i;function o(t,n){n=n*Ct/2+St/4;var o=(t*=Ct)-e,a=o>=0?1:-1,u=a*o,s=Math.cos(n),l=Math.sin(n),c=i*l,h=r*s+c*Math.cos(u),f=c*a*Math.sin(u);De.add(Math.atan2(f,h)),e=t,r=s,i=l}Re.point=function(a,u){Re.point=o,e=(t=a)*Ct,r=Math.cos(u=(n=u)*Ct/2+St/4),i=Math.sin(u)},Re.lineEnd=function(){o(t,n)}}function Ue(t){var n=t[0],e=t[1],r=Math.cos(e);return[r*Math.cos(n),r*Math.sin(n),Math.sin(e)]}function Fe(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function He(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function Ge(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function Ye(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function We(t){var n=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}function Be(t){return[Math.atan2(t[1],t[0]),Pt(t[2])]}function Xe(t,n){return M(t[0]-n[0])<Et&&M(t[1]-n[1])<Et}a.geo.bounds=function(){var t,n,e,r,i,o,u,s,l,c,h,f={point:v,lineStart:g,lineEnd:d,polygonStart:function(){f.point=y,f.lineStart=m,f.lineEnd=x,l=0,Re.polygonStart()},polygonEnd:function(){Re.polygonEnd(),f.point=v,f.lineStart=g,f.lineEnd=d,De<0?(t=-(e=180),n=-(r=90)):l>Et?r=90:l<-Et&&(n=-90),h[0]=t,h[1]=e}};function v(i,o){c.push(h=[t=i,e=i]),o<n&&(n=o),o>r&&(r=o)}function p(o,a){var u=Ue([o*Ct,a*Ct]);if(s){var l=He(s,u),c=He([l[1],-l[0],0],l);We(c),c=Be(c);var h=o-i,f=h>0?1:-1,p=c[0]*Tt*f,g=M(h)>180;if(g^(f*i<p&&p<f*o))(d=c[1]*Tt)>r&&(r=d);else if(g^(f*i<(p=(p+360)%360-180)&&p<f*o)){var d;(d=-c[1]*Tt)<n&&(n=d)}else a<n&&(n=a),a>r&&(r=a);g?o<i?b(t,o)>b(t,e)&&(e=o):b(o,e)>b(t,e)&&(t=o):e>=t?(o<t&&(t=o),o>e&&(e=o)):o>i?b(t,o)>b(t,e)&&(e=o):b(o,e)>b(t,e)&&(t=o)}else v(o,a);s=u,i=o}function g(){f.point=p}function d(){h[0]=t,h[1]=e,f.point=v,s=null}function y(t,n){if(s){var e=t-i;l+=M(e)>180?e+(e>0?360:-360):e}else o=t,u=n;Re.point(t,n),p(t,n)}function m(){Re.lineStart()}function x(){y(o,u),Re.lineEnd(),M(l)>Et&&(t=-(e=180)),h[0]=t,h[1]=e,s=null}function b(t,n){return(n-=t)<0?n+360:n}function w(t,n){return t[0]-n[0]}function k(t,n){return n[0]<=n[1]?n[0]<=t&&t<=n[1]:t<n[0]||n[1]<t}return function(i){if(r=e=-(t=n=1/0),c=[],a.geo.stream(i,f),l=c.length){c.sort(w);for(var o=1,u=[g=c[0]];o<l;++o)k((v=c[o])[0],g)||k(v[1],g)?(b(g[0],v[1])>b(g[0],g[1])&&(g[1]=v[1]),b(v[0],g[1])>b(g[0],g[1])&&(g[0]=v[0])):u.push(g=v);for(var s,l,v,p=-1/0,g=(o=0,u[l=u.length-1]);o<=l;g=v,++o)v=u[o],(s=b(g[1],v[0]))>p&&(p=s,t=v[0],e=g[1])}return c=h=null,t===1/0||n===1/0?[[NaN,NaN],[NaN,NaN]]:[[t,n],[e,r]]}}(),a.geo.centroid=function(t){je=Ee=Ne=Ce=Te=Le=Oe=ze=Pe=qe=Ve=0,a.geo.stream(t,Ze);var n=Pe,e=qe,r=Ve,i=n*n+e*e+r*r;return i<Nt&&(n=Le,e=Oe,r=ze,Ee<Et&&(n=Ne,e=Ce,r=Te),(i=n*n+e*e+r*r)<Nt)?[NaN,NaN]:[Math.atan2(e,n)*Tt,Pt(r/Math.sqrt(i))*Tt]};var Ze={sphere:P,point:$e,lineStart:Ke,lineEnd:Qe,polygonStart:function(){Ze.lineStart=tr},polygonEnd:function(){Ze.lineStart=Ke}};function $e(t,n){t*=Ct;var e=Math.cos(n*=Ct);Je(e*Math.cos(t),e*Math.sin(t),Math.sin(n))}function Je(t,n,e){Ne+=(t-Ne)/++je,Ce+=(n-Ce)/je,Te+=(e-Te)/je}function Ke(){var t,n,e;function r(r,i){r*=Ct;var o=Math.cos(i*=Ct),a=o*Math.cos(r),u=o*Math.sin(r),s=Math.sin(i),l=Math.atan2(Math.sqrt((l=n*s-e*u)*l+(l=e*a-t*s)*l+(l=t*u-n*a)*l),t*a+n*u+e*s);Ee+=l,Le+=l*(t+(t=a)),Oe+=l*(n+(n=u)),ze+=l*(e+(e=s)),Je(t,n,e)}Ze.point=function(i,o){i*=Ct;var a=Math.cos(o*=Ct);t=a*Math.cos(i),n=a*Math.sin(i),e=Math.sin(o),Ze.point=r,Je(t,n,e)}}function Qe(){Ze.point=$e}function tr(){var t,n,e,r,i;function o(t,n){t*=Ct;var o=Math.cos(n*=Ct),a=o*Math.cos(t),u=o*Math.sin(t),s=Math.sin(n),l=r*s-i*u,c=i*a-e*s,h=e*u-r*a,f=Math.sqrt(l*l+c*c+h*h),v=e*a+r*u+i*s,p=f&&-zt(v)/f,g=Math.atan2(f,v);Pe+=p*l,qe+=p*c,Ve+=p*h,Ee+=g,Le+=g*(e+(e=a)),Oe+=g*(r+(r=u)),ze+=g*(i+(i=s)),Je(e,r,i)}Ze.point=function(a,u){t=a,n=u,Ze.point=o,a*=Ct;var s=Math.cos(u*=Ct);e=s*Math.cos(a),r=s*Math.sin(a),i=Math.sin(u),Je(e,r,i)},Ze.lineEnd=function(){o(t,n),Ze.lineEnd=Qe,Ze.point=$e}}function nr(){return!0}function er(t,n,e,r,i){var o=[],a=[];if(t.forEach(function(t){if(!((n=t.length-1)<=0)){var n,e=t[0],r=t[n];if(Xe(e,r)){i.lineStart();for(var u=0;u<n;++u)i.point((e=t[u])[0],e[1]);i.lineEnd()}else{var s=new ir(e,t,null,!0),l=new ir(e,null,s,!1);s.o=l,o.push(s),a.push(l),s=new ir(r,t,null,!1),l=new ir(r,null,s,!0),s.o=l,o.push(s),a.push(l)}}}),a.sort(n),rr(o),rr(a),o.length){for(var u=0,s=e,l=a.length;u<l;++u)a[u].e=s=!s;for(var c,h,f=o[0];;){for(var v=f,p=!0;v.v;)if((v=v.n)===f)return;c=v.z,i.lineStart();do{if(v.v=v.o.v=!0,v.e){if(p)for(u=0,l=c.length;u<l;++u)i.point((h=c[u])[0],h[1]);else r(v.x,v.n.x,1,i);v=v.n}else{if(p)for(u=(c=v.p.z).length-1;u>=0;--u)i.point((h=c[u])[0],h[1]);else r(v.x,v.p.x,-1,i);v=v.p}c=(v=v.o).z,p=!p}while(!v.v);i.lineEnd()}}}function rr(t){if(n=t.length){for(var n,e,r=0,i=t[0];++r<n;)i.n=e=t[r],e.p=i,i=e;i.n=e=t[0],e.p=i}}function ir(t,n,e,r){this.x=t,this.z=n,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function or(t,n,e,r){return function(i,o){var u,s=n(o),l=i.invert(r[0],r[1]),c={point:h,lineStart:v,lineEnd:p,polygonStart:function(){c.point=b,c.lineStart=w,c.lineEnd=M,u=[],g=[]},polygonEnd:function(){c.point=h,c.lineStart=v,c.lineEnd=p,u=a.merge(u);var t=function(t,n){var e=t[0],r=t[1],i=[Math.sin(e),-Math.cos(e),0],o=0,a=0;De.reset();for(var u=0,s=n.length;u<s;++u){var l=n[u],c=l.length;if(c)for(var h=l[0],f=h[0],v=h[1]/2+St/4,p=Math.sin(v),g=Math.cos(v),d=1;;){d===c&&(d=0);var y=(t=l[d])[0],m=t[1]/2+St/4,x=Math.sin(m),b=Math.cos(m),w=y-f,M=w>=0?1:-1,k=M*w,_=k>St,S=p*x;if(De.add(Math.atan2(S*M*Math.sin(k),g*b+S*Math.cos(k))),o+=_?w+M*At:w,_^f>=e^y>=e){var A=He(Ue(h),Ue(t));We(A);var j=He(i,A);We(j);var E=(_^w>=0?-1:1)*Pt(j[2]);(r>E||r===E&&(A[0]||A[1]))&&(a+=_^w>=0?1:-1)}if(!d++)break;f=y,p=x,g=b,h=t}}return(o<-Et||o<Et&&De<0)^1&a}(l,g);u.length?(x||(o.polygonStart(),x=!0),er(u,sr,t,e,o)):t&&(x||(o.polygonStart(),x=!0),o.lineStart(),e(null,null,1,o),o.lineEnd()),x&&(o.polygonEnd(),x=!1),u=g=null},sphere:function(){o.polygonStart(),o.lineStart(),e(null,null,1,o),o.lineEnd(),o.polygonEnd()}};function h(n,e){var r=i(n,e);t(n=r[0],e=r[1])&&o.point(n,e)}function f(t,n){var e=i(t,n);s.point(e[0],e[1])}function v(){c.point=f,s.lineStart()}function p(){c.point=h,s.lineEnd()}var g,d,y=ur(),m=n(y),x=!1;function b(t,n){d.push([t,n]);var e=i(t,n);m.point(e[0],e[1])}function w(){m.lineStart(),d=[]}function M(){b(d[0][0],d[0][1]),m.lineEnd();var t,n=m.clean(),e=y.buffer(),r=e.length;if(d.pop(),g.push(d),d=null,r)if(1&n){var i,a=-1;if((r=(t=e[0]).length-1)>0){for(x||(o.polygonStart(),x=!0),o.lineStart();++a<r;)o.point((i=t[a])[0],i[1]);o.lineEnd()}}else r>1&&2&n&&e.push(e.pop().concat(e.shift())),u.push(e.filter(ar))}return c}}function ar(t){return t.length>1}function ur(){var t,n=[];return{lineStart:function(){n.push(t=[])},point:function(n,e){t.push([n,e])},lineEnd:P,buffer:function(){var e=n;return n=[],t=null,e},rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))}}}function sr(t,n){return((t=t.x)[0]<0?t[1]-jt-Et:jt-t[1])-((n=n.x)[0]<0?n[1]-jt-Et:jt-n[1])}var lr=or(nr,function(t){var n,e=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),n=1},point:function(o,a){var u=o>0?St:-St,s=M(o-e);M(s-St)<Et?(t.point(e,r=(r+a)/2>0?jt:-jt),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(u,r),t.point(o,r),n=0):i!==u&&s>=St&&(M(e-i)<Et&&(e-=i*Et),M(o-u)<Et&&(o-=u*Et),r=function(t,n,e,r){var i,o,a=Math.sin(t-e);return M(a)>Et?Math.atan((Math.sin(n)*(o=Math.cos(r))*Math.sin(e)-Math.sin(r)*(i=Math.cos(n))*Math.sin(t))/(i*o*a)):(n+r)/2}(e,r,o,a),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(u,r),n=0),t.point(e=o,r=a),i=u},lineEnd:function(){t.lineEnd(),e=r=NaN},clean:function(){return 2-n}}},function(t,n,e,r){var i;if(null==t)i=e*jt,r.point(-St,i),r.point(0,i),r.point(St,i),r.point(St,0),r.point(St,-i),r.point(0,-i),r.point(-St,-i),r.point(-St,0),r.point(-St,i);else if(M(t[0]-n[0])>Et){var o=t[0]<n[0]?St:-St;i=e*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(n[0],n[1])},[-St,-St/2]);function cr(t,n,e,r){return function(i){var o,a=i.a,u=i.b,s=a.x,l=a.y,c=0,h=1,f=u.x-s,v=u.y-l;if(o=t-s,f||!(o>0)){if(o/=f,f<0){if(o<c)return;o<h&&(h=o)}else if(f>0){if(o>h)return;o>c&&(c=o)}if(o=e-s,f||!(o<0)){if(o/=f,f<0){if(o>h)return;o>c&&(c=o)}else if(f>0){if(o<c)return;o<h&&(h=o)}if(o=n-l,v||!(o>0)){if(o/=v,v<0){if(o<c)return;o<h&&(h=o)}else if(v>0){if(o>h)return;o>c&&(c=o)}if(o=r-l,v||!(o<0)){if(o/=v,v<0){if(o>h)return;o>c&&(c=o)}else if(v>0){if(o<c)return;o<h&&(h=o)}return c>0&&(i.a={x:s+c*f,y:l+c*v}),h<1&&(i.b={x:s+h*f,y:l+h*v}),i}}}}}}var hr=1e9;function fr(t,n,e,r){return function(s){var l,c,h,f,v,p,g,d,y,m,x,b=s,w=ur(),M=cr(t,n,e,r),k={point:A,lineStart:function(){k.point=j,c&&c.push(h=[]);m=!0,y=!1,g=d=NaN},lineEnd:function(){l&&(j(f,v),p&&y&&w.rejoin(),l.push(w.buffer()));k.point=A,y&&s.lineEnd()},polygonStart:function(){s=w,l=[],c=[],x=!0},polygonEnd:function(){s=b,l=a.merge(l);var n=function(t){for(var n=0,e=c.length,r=t[1],i=0;i<e;++i)for(var o,a=1,u=c[i],s=u.length,l=u[0];a<s;++a)o=u[a],l[1]<=r?o[1]>r&&Ot(l,o,t)>0&&++n:o[1]<=r&&Ot(l,o,t)<0&&--n,l=o;return 0!==n}([t,r]),e=x&&n,i=l.length;(e||i)&&(s.polygonStart(),e&&(s.lineStart(),_(null,null,1,s),s.lineEnd()),i&&er(l,o,n,_,s),s.polygonEnd()),l=c=h=null}};function _(o,a,s,l){var c=0,h=0;if(null==o||(c=i(o,s))!==(h=i(a,s))||u(o,a)<0^s>0)do{l.point(0===c||3===c?t:e,c>1?r:n)}while((c=(c+s+4)%4)!==h);else l.point(a[0],a[1])}function S(i,o){return t<=i&&i<=e&&n<=o&&o<=r}function A(t,n){S(t,n)&&s.point(t,n)}function j(t,n){var e=S(t=Math.max(-hr,Math.min(hr,t)),n=Math.max(-hr,Math.min(hr,n)));if(c&&h.push([t,n]),m)f=t,v=n,p=e,m=!1,e&&(s.lineStart(),s.point(t,n));else if(e&&y)s.point(t,n);else{var r={a:{x:g,y:d},b:{x:t,y:n}};M(r)?(y||(s.lineStart(),s.point(r.a.x,r.a.y)),s.point(r.b.x,r.b.y),e||s.lineEnd(),x=!1):e&&(s.lineStart(),s.point(t,n),x=!1)}g=t,d=n,y=e}return k};function i(r,i){return M(r[0]-t)<Et?i>0?0:3:M(r[0]-e)<Et?i>0?2:1:M(r[1]-n)<Et?i>0?1:0:i>0?3:2}function o(t,n){return u(t.x,n.x)}function u(t,n){var e=i(t,1),r=i(n,1);return e!==r?e-r:0===e?n[1]-t[1]:1===e?t[0]-n[0]:2===e?t[1]-n[1]:n[0]-t[0]}}function vr(t,n){function e(e,r){return e=t(e,r),n(e[0],e[1])}return t.invert&&n.invert&&(e.invert=function(e,r){return(e=n.invert(e,r))&&t.invert(e[0],e[1])}),e}function pr(t){var n=0,e=St/3,r=Dr(t),i=r(n,e);return i.parallels=function(t){return arguments.length?r(n=t[0]*St/180,e=t[1]*St/180):[n/St*180,e/St*180]},i}function gr(t,n){var e=Math.sin(t),r=(e+Math.sin(n))/2,i=1+e*(2*r-e),o=Math.sqrt(i)/r;function a(t,n){var e=Math.sqrt(i-2*r*Math.sin(n))/r;return[e*Math.sin(t*=r),o-e*Math.cos(t)]}return a.invert=function(t,n){var e=o-n;return[Math.atan2(t,e)/r,Pt((i-(t*t+e*e)*r*r)/(2*r))]},a}a.geo.clipExtent=function(){var t,n,e,r,i,o,a={stream:function(t){return i&&(i.valid=!1),(i=o(t)).valid=!0,i},extent:function(u){return arguments.length?(o=fr(t=+u[0][0],n=+u[0][1],e=+u[1][0],r=+u[1][1]),i&&(i.valid=!1,i=null),a):[[t,n],[e,r]]}};return a.extent([[0,0],[960,500]])},(a.geo.conicEqualArea=function(){return pr(gr)}).raw=gr,a.geo.albers=function(){return a.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},a.geo.albersUsa=function(){var t,n,e,r,i=a.geo.albers(),o=a.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),u=a.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),s={point:function(n,e){t=[n,e]}};function l(i){var o=i[0],a=i[1];return t=null,n(o,a),t||(e(o,a),t)||r(o,a),t}return l.invert=function(t){var n=i.scale(),e=i.translate(),r=(t[0]-e[0])/n,a=(t[1]-e[1])/n;return(a>=.12&&a<.234&&r>=-.425&&r<-.214?o:a>=.166&&a<.234&&r>=-.214&&r<-.115?u:i).invert(t)},l.stream=function(t){var n=i.stream(t),e=o.stream(t),r=u.stream(t);return{point:function(t,i){n.point(t,i),e.point(t,i),r.point(t,i)},sphere:function(){n.sphere(),e.sphere(),r.sphere()},lineStart:function(){n.lineStart(),e.lineStart(),r.lineStart()},lineEnd:function(){n.lineEnd(),e.lineEnd(),r.lineEnd()},polygonStart:function(){n.polygonStart(),e.polygonStart(),r.polygonStart()},polygonEnd:function(){n.polygonEnd(),e.polygonEnd(),r.polygonEnd()}}},l.precision=function(t){return arguments.length?(i.precision(t),o.precision(t),u.precision(t),l):i.precision()},l.scale=function(t){return arguments.length?(i.scale(t),o.scale(.35*t),u.scale(t),l.translate(i.translate())):i.scale()},l.translate=function(t){if(!arguments.length)return i.translate();var a=i.scale(),c=+t[0],h=+t[1];return n=i.translate(t).clipExtent([[c-.455*a,h-.238*a],[c+.455*a,h+.238*a]]).stream(s).point,e=o.translate([c-.307*a,h+.201*a]).clipExtent([[c-.425*a+Et,h+.12*a+Et],[c-.214*a-Et,h+.234*a-Et]]).stream(s).point,r=u.translate([c-.205*a,h+.212*a]).clipExtent([[c-.214*a+Et,h+.166*a+Et],[c-.115*a-Et,h+.234*a-Et]]).stream(s).point,l},l.scale(1070)};var dr,yr,mr,xr,br,wr,Mr={point:P,lineStart:P,lineEnd:P,polygonStart:function(){yr=0,Mr.lineStart=kr},polygonEnd:function(){Mr.lineStart=Mr.lineEnd=Mr.point=P,dr+=M(yr/2)}};function kr(){var t,n,e,r;function i(t,n){yr+=r*t-e*n,e=t,r=n}Mr.point=function(o,a){Mr.point=i,t=e=o,n=r=a},Mr.lineEnd=function(){i(t,n)}}var _r={point:function(t,n){t<mr&&(mr=t);t>br&&(br=t);n<xr&&(xr=n);n>wr&&(wr=n)},lineStart:P,lineEnd:P,polygonStart:P,polygonEnd:P};function Sr(){var t=Ar(4.5),n=[],e={point:r,lineStart:function(){e.point=i},lineEnd:a,polygonStart:function(){e.lineEnd=u},polygonEnd:function(){e.lineEnd=a,e.point=r},pointRadius:function(n){return t=Ar(n),e},result:function(){if(n.length){var t=n.join("");return n=[],t}}};function r(e,r){n.push("M",e,",",r,t)}function i(t,r){n.push("M",t,",",r),e.point=o}function o(t,e){n.push("L",t,",",e)}function a(){e.point=r}function u(){n.push("Z")}return e}function Ar(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}var jr,Er={point:Nr,lineStart:Cr,lineEnd:Tr,polygonStart:function(){Er.lineStart=Lr},polygonEnd:function(){Er.point=Nr,Er.lineStart=Cr,Er.lineEnd=Tr}};function Nr(t,n){Ne+=t,Ce+=n,++Te}function Cr(){var t,n;function e(e,r){var i=e-t,o=r-n,a=Math.sqrt(i*i+o*o);Le+=a*(t+e)/2,Oe+=a*(n+r)/2,ze+=a,Nr(t=e,n=r)}Er.point=function(r,i){Er.point=e,Nr(t=r,n=i)}}function Tr(){Er.point=Nr}function Lr(){var t,n,e,r;function i(t,n){var i=t-e,o=n-r,a=Math.sqrt(i*i+o*o);Le+=a*(e+t)/2,Oe+=a*(r+n)/2,ze+=a,Pe+=(a=r*t-e*n)*(e+t),qe+=a*(r+n),Ve+=3*a,Nr(e=t,r=n)}Er.point=function(o,a){Er.point=i,Nr(t=e=o,n=r=a)},Er.lineEnd=function(){i(t,n)}}function Or(t){var n=4.5,e={point:r,lineStart:function(){e.point=i},lineEnd:a,polygonStart:function(){e.lineEnd=u},polygonEnd:function(){e.lineEnd=a,e.point=r},pointRadius:function(t){return n=t,e},result:P};function r(e,r){t.moveTo(e,r),t.arc(e,r,n,0,At)}function i(n,r){t.moveTo(n,r),e.point=o}function o(n,e){t.lineTo(n,e)}function a(){e.point=r}function u(){t.closePath()}return e}function zr(t){var n=.5,e=Math.cos(30*Ct),r=16;function i(n){return(r?function(n){var e,i,a,u,s,l,c,h,f,v,p,g,d={point:y,lineStart:m,lineEnd:b,polygonStart:function(){n.polygonStart(),d.lineStart=w},polygonEnd:function(){n.polygonEnd(),d.lineStart=m}};function y(e,r){e=t(e,r),n.point(e[0],e[1])}function m(){h=NaN,d.point=x,n.lineStart()}function x(e,i){var a=Ue([e,i]),u=t(e,i);o(h,f,c,v,p,g,h=u[0],f=u[1],c=e,v=a[0],p=a[1],g=a[2],r,n),n.point(h,f)}function b(){d.point=y,n.lineEnd()}function w(){m(),d.point=M,d.lineEnd=k}function M(t,n){x(e=t,n),i=h,a=f,u=v,s=p,l=g,d.point=x}function k(){o(h,f,c,v,p,g,i,a,e,u,s,l,r,n),d.lineEnd=b,b()}return d}:function(n){return qr(n,function(e,r){e=t(e,r),n.point(e[0],e[1])})})(n)}function o(r,i,a,u,s,l,c,h,f,v,p,g,d,y){var m=c-r,x=h-i,b=m*m+x*x;if(b>4*n&&d--){var w=u+v,k=s+p,_=l+g,S=Math.sqrt(w*w+k*k+_*_),A=Math.asin(_/=S),j=M(M(_)-1)<Et||M(a-f)<Et?(a+f)/2:Math.atan2(k,w),E=t(j,A),N=E[0],C=E[1],T=N-r,L=C-i,O=x*T-m*L;(O*O/b>n||M((m*T+x*L)/b-.5)>.3||u*v+s*p+l*g<e)&&(o(r,i,a,u,s,l,N,C,j,w/=S,k/=S,_,d,y),y.point(N,C),o(N,C,j,w,k,_,c,h,f,v,p,g,d,y))}}return i.precision=function(t){return arguments.length?(r=(n=t*t)>0&&16,i):Math.sqrt(n)},i}function Pr(t){this.stream=t}function qr(t,n){return{point:n,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function Vr(t){return Dr(function(){return t})()}function Dr(t){var n,e,r,i,o,u,s=zr(function(t,e){return[(t=n(t,e))[0]*l+i,o-t[1]*l]}),l=150,c=480,h=250,f=0,v=0,p=0,g=0,d=0,y=lr,m=_n,x=null,b=null;function w(t){return[(t=r(t[0]*Ct,t[1]*Ct))[0]*l+i,o-t[1]*l]}function k(t){return(t=r.invert((t[0]-i)/l,(o-t[1])/l))&&[t[0]*Tt,t[1]*Tt]}function _(){r=vr(e=Fr(p,g,d),n);var t=n(f,v);return i=c-t[0]*l,o=h+t[1]*l,S()}function S(){return u&&(u.valid=!1,u=null),w}return w.stream=function(t){return u&&(u.valid=!1),(u=Rr(y(e,s(m(t))))).valid=!0,u},w.clipAngle=function(t){return arguments.length?(y=null==t?(x=t,lr):function(t){var n=Math.cos(t),e=n>0,r=M(n)>Et;return or(i,function(t){var n,u,s,l,c;return{lineStart:function(){l=s=!1,c=1},point:function(h,f){var v,p=[h,f],g=i(h,f),d=e?g?0:a(h,f):g?a(h+(h<0?St:-St),f):0;if(!n&&(l=s=g)&&t.lineStart(),g!==s&&(v=o(n,p),(Xe(n,v)||Xe(p,v))&&(p[0]+=Et,p[1]+=Et,g=i(p[0],p[1]))),g!==s)c=0,g?(t.lineStart(),v=o(p,n),t.point(v[0],v[1])):(v=o(n,p),t.point(v[0],v[1]),t.lineEnd()),n=v;else if(r&&n&&e^g){var y;d&u||!(y=o(p,n,!0))||(c=0,e?(t.lineStart(),t.point(y[0][0],y[0][1]),t.point(y[1][0],y[1][1]),t.lineEnd()):(t.point(y[1][0],y[1][1]),t.lineEnd(),t.lineStart(),t.point(y[0][0],y[0][1])))}!g||n&&Xe(n,p)||t.point(p[0],p[1]),n=p,s=g,u=d},lineEnd:function(){s&&t.lineEnd(),n=null},clean:function(){return c|(l&&s)<<1}}},Wr(t,6*Ct),e?[0,-t]:[-St,t-St]);function i(t,e){return Math.cos(t)*Math.cos(e)>n}function o(t,e,r){var i=[1,0,0],o=He(Ue(t),Ue(e)),a=Fe(o,o),u=o[0],s=a-u*u;if(!s)return!r&&t;var l=n*a/s,c=-n*u/s,h=He(i,o),f=Ye(i,l);Ge(f,Ye(o,c));var v=h,p=Fe(f,v),g=Fe(v,v),d=p*p-g*(Fe(f,f)-1);if(!(d<0)){var y=Math.sqrt(d),m=Ye(v,(-p-y)/g);if(Ge(m,f),m=Be(m),!r)return m;var x,b=t[0],w=e[0],k=t[1],_=e[1];w<b&&(x=b,b=w,w=x);var S=w-b,A=M(S-St)<Et;if(!A&&_<k&&(x=k,k=_,_=x),A||S<Et?A?k+_>0^m[1]<(M(m[0]-b)<Et?k:_):k<=m[1]&&m[1]<=_:S>St^(b<=m[0]&&m[0]<=w)){var j=Ye(v,(-p+y)/g);return Ge(j,f),[m,Be(j)]}}}function a(n,r){var i=e?t:St-t,o=0;return n<-i?o|=1:n>i&&(o|=2),r<-i?o|=4:r>i&&(o|=8),o}}((x=+t)*Ct),S()):x},w.clipExtent=function(t){return arguments.length?(b=t,m=t?fr(t[0][0],t[0][1],t[1][0],t[1][1]):_n,S()):b},w.scale=function(t){return arguments.length?(l=+t,_()):l},w.translate=function(t){return arguments.length?(c=+t[0],h=+t[1],_()):[c,h]},w.center=function(t){return arguments.length?(f=t[0]%360*Ct,v=t[1]%360*Ct,_()):[f*Tt,v*Tt]},w.rotate=function(t){return arguments.length?(p=t[0]%360*Ct,g=t[1]%360*Ct,d=t.length>2?t[2]%360*Ct:0,_()):[p*Tt,g*Tt,d*Tt]},a.rebind(w,s,"precision"),function(){return n=t.apply(this,arguments),w.invert=n.invert&&k,_()}}function Rr(t){return qr(t,function(n,e){t.point(n*Ct,e*Ct)})}function Ir(t,n){return[t,n]}function Ur(t,n){return[t>St?t-At:t<-St?t+At:t,n]}function Fr(t,n,e){return t?n||e?vr(Gr(t),Yr(n,e)):Gr(t):n||e?Yr(n,e):Ur}function Hr(t){return function(n,e){return[(n+=t)>St?n-At:n<-St?n+At:n,e]}}function Gr(t){var n=Hr(t);return n.invert=Hr(-t),n}function Yr(t,n){var e=Math.cos(t),r=Math.sin(t),i=Math.cos(n),o=Math.sin(n);function a(t,n){var a=Math.cos(n),u=Math.cos(t)*a,s=Math.sin(t)*a,l=Math.sin(n),c=l*e+u*r;return[Math.atan2(s*i-c*o,u*e-l*r),Pt(c*i+s*o)]}return a.invert=function(t,n){var a=Math.cos(n),u=Math.cos(t)*a,s=Math.sin(t)*a,l=Math.sin(n),c=l*i-s*o;return[Math.atan2(s*i+l*o,u*e+c*r),Pt(c*e-u*r)]},a}function Wr(t,n){var e=Math.cos(t),r=Math.sin(t);return function(i,o,a,u){var s=a*n;null!=i?(i=Br(e,i),o=Br(e,o),(a>0?i<o:i>o)&&(i+=a*At)):(i=t+a*At,o=t-.5*s);for(var l,c=i;a>0?c>o:c<o;c-=s)u.point((l=Be([e,-r*Math.cos(c),-r*Math.sin(c)]))[0],l[1])}}function Br(t,n){var e=Ue(n);e[0]-=t,We(e);var r=zt(-e[1]);return((-e[2]<0?-r:r)+2*Math.PI-Et)%(2*Math.PI)}function Xr(t,n,e){var r=a.range(t,n-Et,e).concat(n);return function(t){return r.map(function(n){return[t,n]})}}function Zr(t,n,e){var r=a.range(t,n-Et,e).concat(n);return function(t){return r.map(function(n){return[n,t]})}}function $r(t){return t.source}function Jr(t){return t.target}a.geo.path=function(){var t,n,e,r,i,o=4.5;function u(t){return t&&("function"==typeof o&&r.pointRadius(+o.apply(this,arguments)),i&&i.valid||(i=e(r)),a.geo.stream(t,i)),r.result()}function s(){return i=null,u}return u.area=function(t){return dr=0,a.geo.stream(t,e(Mr)),dr},u.centroid=function(t){return Ne=Ce=Te=Le=Oe=ze=Pe=qe=Ve=0,a.geo.stream(t,e(Er)),Ve?[Pe/Ve,qe/Ve]:ze?[Le/ze,Oe/ze]:Te?[Ne/Te,Ce/Te]:[NaN,NaN]},u.bounds=function(t){return br=wr=-(mr=xr=1/0),a.geo.stream(t,e(_r)),[[mr,xr],[br,wr]]},u.projection=function(n){return arguments.length?(e=(t=n)?n.stream||(r=n,i=zr(function(t,n){return r([t*Tt,n*Tt])}),function(t){return Rr(i(t))}):_n,s()):t;var r,i},u.context=function(t){return arguments.length?(r=null==(n=t)?new Sr:new Or(t),"function"!=typeof o&&r.pointRadius(o),s()):n},u.pointRadius=function(t){return arguments.length?(o="function"==typeof t?t:(r.pointRadius(+t),+t),u):o},u.projection(a.geo.albersUsa()).context(null)},a.geo.transform=function(t){return{stream:function(n){var e=new Pr(n);for(var r in t)e[r]=t[r];return e}}},Pr.prototype={point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},a.geo.projection=Vr,a.geo.projectionMutator=Dr,(a.geo.equirectangular=function(){return Vr(Ir)}).raw=Ir.invert=Ir,a.geo.rotation=function(t){function n(n){return(n=t(n[0]*Ct,n[1]*Ct))[0]*=Tt,n[1]*=Tt,n}return t=Fr(t[0]%360*Ct,t[1]*Ct,t.length>2?t[2]*Ct:0),n.invert=function(n){return(n=t.invert(n[0]*Ct,n[1]*Ct))[0]*=Tt,n[1]*=Tt,n},n},Ur.invert=Ir,a.geo.circle=function(){var t,n,e=[0,0],r=6;function i(){var t="function"==typeof e?e.apply(this,arguments):e,r=Fr(-t[0]*Ct,-t[1]*Ct,0).invert,i=[];return n(null,null,1,{point:function(t,n){i.push(t=r(t,n)),t[0]*=Tt,t[1]*=Tt}}),{type:"Polygon",coordinates:[i]}}return i.origin=function(t){return arguments.length?(e=t,i):e},i.angle=function(e){return arguments.length?(n=Wr((t=+e)*Ct,r*Ct),i):t},i.precision=function(e){return arguments.length?(n=Wr(t*Ct,(r=+e)*Ct),i):r},i.angle(90)},a.geo.distance=function(t,n){var e,r=(n[0]-t[0])*Ct,i=t[1]*Ct,o=n[1]*Ct,a=Math.sin(r),u=Math.cos(r),s=Math.sin(i),l=Math.cos(i),c=Math.sin(o),h=Math.cos(o);return Math.atan2(Math.sqrt((e=h*a)*e+(e=l*c-s*h*u)*e),s*c+l*h*u)},a.geo.graticule=function(){var t,n,e,r,i,o,u,s,l,c,h,f,v=10,p=v,g=90,d=360,y=2.5;function m(){return{type:"MultiLineString",coordinates:x()}}function x(){return a.range(Math.ceil(r/g)*g,e,g).map(h).concat(a.range(Math.ceil(s/d)*d,u,d).map(f)).concat(a.range(Math.ceil(n/v)*v,t,v).filter(function(t){return M(t%g)>Et}).map(l)).concat(a.range(Math.ceil(o/p)*p,i,p).filter(function(t){return M(t%d)>Et}).map(c))}return m.lines=function(){return x().map(function(t){return{type:"LineString",coordinates:t}})},m.outline=function(){return{type:"Polygon",coordinates:[h(r).concat(f(u).slice(1),h(e).reverse().slice(1),f(s).reverse().slice(1))]}},m.extent=function(t){return arguments.length?m.majorExtent(t).minorExtent(t):m.minorExtent()},m.majorExtent=function(t){return arguments.length?(r=+t[0][0],e=+t[1][0],s=+t[0][1],u=+t[1][1],r>e&&(t=r,r=e,e=t),s>u&&(t=s,s=u,u=t),m.precision(y)):[[r,s],[e,u]]},m.minorExtent=function(e){return arguments.length?(n=+e[0][0],t=+e[1][0],o=+e[0][1],i=+e[1][1],n>t&&(e=n,n=t,t=e),o>i&&(e=o,o=i,i=e),m.precision(y)):[[n,o],[t,i]]},m.step=function(t){return arguments.length?m.majorStep(t).minorStep(t):m.minorStep()},m.majorStep=function(t){return arguments.length?(g=+t[0],d=+t[1],m):[g,d]},m.minorStep=function(t){return arguments.length?(v=+t[0],p=+t[1],m):[v,p]},m.precision=function(a){return arguments.length?(y=+a,l=Xr(o,i,90),c=Zr(n,t,y),h=Xr(s,u,90),f=Zr(r,e,y),m):y},m.majorExtent([[-180,-90+Et],[180,90-Et]]).minorExtent([[-180,-80-Et],[180,80+Et]])},a.geo.greatArc=function(){var t,n,e=$r,r=Jr;function i(){return{type:"LineString",coordinates:[t||e.apply(this,arguments),n||r.apply(this,arguments)]}}return i.distance=function(){return a.geo.distance(t||e.apply(this,arguments),n||r.apply(this,arguments))},i.source=function(n){return arguments.length?(e=n,t="function"==typeof n?null:n,i):e},i.target=function(t){return arguments.length?(r=t,n="function"==typeof t?null:t,i):r},i.precision=function(){return arguments.length?i:0},i},a.geo.interpolate=function(t,n){return e=t[0]*Ct,r=t[1]*Ct,i=n[0]*Ct,o=n[1]*Ct,a=Math.cos(r),u=Math.sin(r),s=Math.cos(o),l=Math.sin(o),c=a*Math.cos(e),h=a*Math.sin(e),f=s*Math.cos(i),v=s*Math.sin(i),p=2*Math.asin(Math.sqrt(Vt(o-r)+a*s*Vt(i-e))),g=1/Math.sin(p),(d=p?function(t){var n=Math.sin(t*=p)*g,e=Math.sin(p-t)*g,r=e*c+n*f,i=e*h+n*v,o=e*u+n*l;return[Math.atan2(i,r)*Tt,Math.atan2(o,Math.sqrt(r*r+i*i))*Tt]}:function(){return[e*Tt,r*Tt]}).distance=p,d;var e,r,i,o,a,u,s,l,c,h,f,v,p,g,d},a.geo.length=function(t){return jr=0,a.geo.stream(t,Kr),jr};var Kr={sphere:P,point:P,lineStart:function(){var t,n,e;function r(r,i){var o=Math.sin(i*=Ct),a=Math.cos(i),u=M((r*=Ct)-t),s=Math.cos(u);jr+=Math.atan2(Math.sqrt((u=a*Math.sin(u))*u+(u=e*o-n*a*s)*u),n*o+e*a*s),t=r,n=o,e=a}Kr.point=function(i,o){t=i*Ct,n=Math.sin(o*=Ct),e=Math.cos(o),Kr.point=r},Kr.lineEnd=function(){Kr.point=Kr.lineEnd=P}},lineEnd:P,polygonStart:P,polygonEnd:P};function Qr(t,n){function e(n,e){var r=Math.cos(n),i=Math.cos(e),o=t(r*i);return[o*i*Math.sin(n),o*Math.sin(e)]}return e.invert=function(t,e){var r=Math.sqrt(t*t+e*e),i=n(r),o=Math.sin(i),a=Math.cos(i);return[Math.atan2(t*o,r*a),Math.asin(r&&e*o/r)]},e}var ti=Qr(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(a.geo.azimuthalEqualArea=function(){return Vr(ti)}).raw=ti;var ni=Qr(function(t){var n=Math.acos(t);return n&&n/Math.sin(n)},_n);function ei(t,n){var e=Math.cos(t),r=function(t){return Math.tan(St/4+t/2)},i=t===n?Math.sin(t):Math.log(e/Math.cos(n))/Math.log(r(n)/r(t)),o=e*Math.pow(r(t),i)/i;if(!i)return oi;function a(t,n){o>0?n<-jt+Et&&(n=-jt+Et):n>jt-Et&&(n=jt-Et);var e=o/Math.pow(r(n),i);return[e*Math.sin(i*t),o-e*Math.cos(i*t)]}return a.invert=function(t,n){var e=o-n,r=Lt(i)*Math.sqrt(t*t+e*e);return[Math.atan2(t,e)/i,2*Math.atan(Math.pow(o/r,1/i))-jt]},a}function ri(t,n){var e=Math.cos(t),r=t===n?Math.sin(t):(e-Math.cos(n))/(n-t),i=e/r+t;if(M(r)<Et)return Ir;function o(t,n){var e=i-n;return[e*Math.sin(r*t),i-e*Math.cos(r*t)]}return o.invert=function(t,n){var e=i-n;return[Math.atan2(t,e)/r,i-Lt(r)*Math.sqrt(t*t+e*e)]},o}(a.geo.azimuthalEquidistant=function(){return Vr(ni)}).raw=ni,(a.geo.conicConformal=function(){return pr(ei)}).raw=ei,(a.geo.conicEquidistant=function(){return pr(ri)}).raw=ri;var ii=Qr(function(t){return 1/t},Math.atan);function oi(t,n){return[t,Math.log(Math.tan(St/4+n/2))]}function ai(t){var n,e=Vr(t),r=e.scale,i=e.translate,o=e.clipExtent;return e.scale=function(){var t=r.apply(e,arguments);return t===e?n?e.clipExtent(null):e:t},e.translate=function(){var t=i.apply(e,arguments);return t===e?n?e.clipExtent(null):e:t},e.clipExtent=function(t){var a=o.apply(e,arguments);if(a===e){if(n=null==t){var u=St*r(),s=i();o([[s[0]-u,s[1]-u],[s[0]+u,s[1]+u]])}}else n&&(a=null);return a},e.clipExtent(null)}(a.geo.gnomonic=function(){return Vr(ii)}).raw=ii,oi.invert=function(t,n){return[t,2*Math.atan(Math.exp(n))-jt]},(a.geo.mercator=function(){return ai(oi)}).raw=oi;var ui=Qr(function(){return 1},Math.asin);(a.geo.orthographic=function(){return Vr(ui)}).raw=ui;var si=Qr(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});function li(t,n){return[Math.log(Math.tan(St/4+n/2)),-t]}function ci(t){return t[0]}function hi(t){return t[1]}function fi(t){for(var n=t.length,e=[0,1],r=2,i=2;i<n;i++){for(;r>1&&Ot(t[e[r-2]],t[e[r-1]],t[i])<=0;)--r;e[r++]=i}return e.slice(0,r)}function vi(t,n){return t[0]-n[0]||t[1]-n[1]}(a.geo.stereographic=function(){return Vr(si)}).raw=si,li.invert=function(t,n){return[-n,2*Math.atan(Math.exp(t))-jt]},(a.geo.transverseMercator=function(){var t=ai(li),n=t.center,e=t.rotate;return t.center=function(t){return t?n([-t[1],t[0]]):[-(t=n())[1],t[0]]},t.rotate=function(t){return t?e([t[0],t[1],t.length>2?t[2]+90:90]):[(t=e())[0],t[1],t[2]-90]},t.rotate([0,0])}).raw=li,a.geom={},a.geom.hull=function(t){var n=ci,e=hi;if(arguments.length)return r(t);function r(t){if(t.length<3)return[];var r,i=kn(n),o=kn(e),a=t.length,u=[],s=[];for(r=0;r<a;r++)u.push([+i.call(this,t[r],r),+o.call(this,t[r],r),r]);for(u.sort(vi),r=0;r<a;r++)s.push([u[r][0],-u[r][1]]);var l=fi(u),c=fi(s),h=c[0]===l[0],f=c[c.length-1]===l[l.length-1],v=[];for(r=l.length-1;r>=0;--r)v.push(t[u[l[r]][2]]);for(r=+h;r<c.length-f;++r)v.push(t[u[c[r]][2]]);return v}return r.x=function(t){return arguments.length?(n=t,r):n},r.y=function(t){return arguments.length?(e=t,r):e},r},a.geom.polygon=function(t){return F(t,pi),t};var pi=a.geom.polygon.prototype=[];function gi(t,n,e){return(e[0]-n[0])*(t[1]-n[1])<(e[1]-n[1])*(t[0]-n[0])}function di(t,n,e,r){var i=t[0],o=e[0],a=n[0]-i,u=r[0]-o,s=t[1],l=e[1],c=n[1]-s,h=r[1]-l,f=(u*(s-l)-h*(i-o))/(h*a-u*c);return[i+f*a,s+f*c]}function yi(t){var n=t[0],e=t[t.length-1];return!(n[0]-e[0]||n[1]-e[1])}pi.area=function(){for(var t,n=-1,e=this.length,r=this[e-1],i=0;++n<e;)t=r,r=this[n],i+=t[1]*r[0]-t[0]*r[1];return.5*i},pi.centroid=function(t){var n,e,r=-1,i=this.length,o=0,a=0,u=this[i-1];for(arguments.length||(t=-1/(6*this.area()));++r<i;)n=u,u=this[r],e=n[0]*u[1]-u[0]*n[1],o+=(n[0]+u[0])*e,a+=(n[1]+u[1])*e;return[o*t,a*t]},pi.clip=function(t){for(var n,e,r,i,o,a,u=yi(t),s=-1,l=this.length-yi(this),c=this[l-1];++s<l;){for(n=t.slice(),t.length=0,i=this[s],o=n[(r=n.length-u)-1],e=-1;++e<r;)gi(a=n[e],c,i)?(gi(o,c,i)||t.push(di(o,a,c,i)),t.push(a)):gi(o,c,i)&&t.push(di(o,a,c,i)),o=a;u&&t.push(t[0]),c=i}return t};var mi,xi,bi,wi,Mi,ki=[],_i=[];function Si(){Hi(this),this.edge=this.site=this.circle=null}function Ai(t){var n=ki.pop()||new Si;return n.site=t,n}function ji(t){qi(t),bi.remove(t),ki.push(t),Hi(t)}function Ei(t){var n=t.circle,e=n.x,r=n.cy,i={x:e,y:r},o=t.P,a=t.N,u=[t];ji(t);for(var s=o;s.circle&&M(e-s.circle.x)<Et&&M(r-s.circle.cy)<Et;)o=s.P,u.unshift(s),ji(s),s=o;u.unshift(s),qi(s);for(var l=a;l.circle&&M(e-l.circle.x)<Et&&M(r-l.circle.cy)<Et;)a=l.N,u.push(l),ji(l),l=a;u.push(l),qi(l);var c,h=u.length;for(c=1;c<h;++c)l=u[c],s=u[c-1],Ii(l.edge,s.site,l.site,i);s=u[0],(l=u[h-1]).edge=Ri(s.site,l.site,null,i),Pi(s),Pi(l)}function Ni(t){for(var n,e,r,i,o=t.x,a=t.y,u=bi._;u;)if((r=Ci(u,a)-o)>Et)u=u.L;else{if(!((i=o-Ti(u,a))>Et)){r>-Et?(n=u.P,e=u):i>-Et?(n=u,e=u.N):n=e=u;break}if(!u.R){n=u;break}u=u.R}var s=Ai(t);if(bi.insert(n,s),n||e){if(n===e)return qi(n),e=Ai(n.site),bi.insert(s,e),s.edge=e.edge=Ri(n.site,s.site),Pi(n),void Pi(e);if(e){qi(n),qi(e);var l=n.site,c=l.x,h=l.y,f=t.x-c,v=t.y-h,p=e.site,g=p.x-c,d=p.y-h,y=2*(f*d-v*g),m=f*f+v*v,x=g*g+d*d,b={x:(d*m-v*x)/y+c,y:(f*x-g*m)/y+h};Ii(e.edge,l,p,b),s.edge=Ri(l,t,null,b),e.edge=Ri(t,p,null,b),Pi(n),Pi(e)}else s.edge=Ri(n.site,s.site)}}function Ci(t,n){var e=t.site,r=e.x,i=e.y,o=i-n;if(!o)return r;var a=t.P;if(!a)return-1/0;var u=(e=a.site).x,s=e.y,l=s-n;if(!l)return u;var c=u-r,h=1/o-1/l,f=c/l;return h?(-f+Math.sqrt(f*f-2*h*(c*c/(-2*l)-s+l/2+i-o/2)))/h+r:(r+u)/2}function Ti(t,n){var e=t.N;if(e)return Ci(e,n);var r=t.site;return r.y===n?r.x:1/0}function Li(t){this.site=t,this.edges=[]}function Oi(t,n){return n.angle-t.angle}function zi(){Hi(this),this.x=this.y=this.arc=this.site=this.cy=null}function Pi(t){var n=t.P,e=t.N;if(n&&e){var r=n.site,i=t.site,o=e.site;if(r!==o){var a=i.x,u=i.y,s=r.x-a,l=r.y-u,c=o.x-a,h=2*(s*(d=o.y-u)-l*c);if(!(h>=-Nt)){var f=s*s+l*l,v=c*c+d*d,p=(d*f-l*v)/h,g=(s*v-c*f)/h,d=g+u,y=_i.pop()||new zi;y.arc=t,y.site=i,y.x=p+a,y.y=d+Math.sqrt(p*p+g*g),y.cy=d,t.circle=y;for(var m=null,x=Mi._;x;)if(y.y<x.y||y.y===x.y&&y.x<=x.x){if(!x.L){m=x.P;break}x=x.L}else{if(!x.R){m=x;break}x=x.R}Mi.insert(m,y),m||(wi=y)}}}}function qi(t){var n=t.circle;n&&(n.P||(wi=n.N),Mi.remove(n),_i.push(n),Hi(n),t.circle=null)}function Vi(t,n){var e=t.b;if(e)return!0;var r,i,o=t.a,a=n[0][0],u=n[1][0],s=n[0][1],l=n[1][1],c=t.l,h=t.r,f=c.x,v=c.y,p=h.x,g=h.y,d=(f+p)/2,y=(v+g)/2;if(g===v){if(d<a||d>=u)return;if(f>p){if(o){if(o.y>=l)return}else o={x:d,y:s};e={x:d,y:l}}else{if(o){if(o.y<s)return}else o={x:d,y:l};e={x:d,y:s}}}else if(i=y-(r=(f-p)/(g-v))*d,r<-1||r>1)if(f>p){if(o){if(o.y>=l)return}else o={x:(s-i)/r,y:s};e={x:(l-i)/r,y:l}}else{if(o){if(o.y<s)return}else o={x:(l-i)/r,y:l};e={x:(s-i)/r,y:s}}else if(v<g){if(o){if(o.x>=u)return}else o={x:a,y:r*a+i};e={x:u,y:r*u+i}}else{if(o){if(o.x<a)return}else o={x:u,y:r*u+i};e={x:a,y:r*a+i}}return t.a=o,t.b=e,!0}function Di(t,n){this.l=t,this.r=n,this.a=this.b=null}function Ri(t,n,e,r){var i=new Di(t,n);return mi.push(i),e&&Ii(i,t,n,e),r&&Ii(i,n,t,r),xi[t.i].edges.push(new Ui(i,t,n)),xi[n.i].edges.push(new Ui(i,n,t)),i}function Ii(t,n,e,r){t.a||t.b?t.l===e?t.b=r:t.a=r:(t.a=r,t.l=n,t.r=e)}function Ui(t,n,e){var r=t.a,i=t.b;this.edge=t,this.site=n,this.angle=e?Math.atan2(e.y-n.y,e.x-n.x):t.l===n?Math.atan2(i.x-r.x,r.y-i.y):Math.atan2(r.x-i.x,i.y-r.y)}function Fi(){this._=null}function Hi(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function Gi(t,n){var e=n,r=n.R,i=e.U;i?i.L===e?i.L=r:i.R=r:t._=r,r.U=i,e.U=r,e.R=r.L,e.R&&(e.R.U=e),r.L=e}function Yi(t,n){var e=n,r=n.L,i=e.U;i?i.L===e?i.L=r:i.R=r:t._=r,r.U=i,e.U=r,e.L=r.R,e.L&&(e.L.U=e),r.R=e}function Wi(t){for(;t.L;)t=t.L;return t}function Bi(t,n){var e,r,i,o=t.sort(Xi).pop();for(mi=[],xi=new Array(t.length),bi=new Fi,Mi=new Fi;;)if(i=wi,o&&(!i||o.y<i.y||o.y===i.y&&o.x<i.x))o.x===e&&o.y===r||(xi[o.i]=new Li(o),Ni(o),e=o.x,r=o.y),o=t.pop();else{if(!i)break;Ei(i.arc)}n&&(function(t){for(var n,e=mi,r=cr(t[0][0],t[0][1],t[1][0],t[1][1]),i=e.length;i--;)(!Vi(n=e[i],t)||!r(n)||M(n.a.x-n.b.x)<Et&&M(n.a.y-n.b.y)<Et)&&(n.a=n.b=null,e.splice(i,1))}(n),function(t){for(var n,e,r,i,o,a,u,s,l,c,h=t[0][0],f=t[1][0],v=t[0][1],p=t[1][1],g=xi,d=g.length;d--;)if((o=g[d])&&o.prepare())for(s=(u=o.edges).length,a=0;a<s;)r=(c=u[a].end()).x,i=c.y,n=(l=u[++a%s].start()).x,e=l.y,(M(r-n)>Et||M(i-e)>Et)&&(u.splice(a,0,new Ui((y=o.site,m=c,x=M(r-h)<Et&&p-i>Et?{x:h,y:M(n-h)<Et?e:p}:M(i-p)<Et&&f-r>Et?{x:M(e-p)<Et?n:f,y:p}:M(r-f)<Et&&i-v>Et?{x:f,y:M(n-f)<Et?e:v}:M(i-v)<Et&&r-h>Et?{x:M(e-v)<Et?n:h,y:v}:null,b=void 0,b=new Di(y,null),b.a=m,b.b=x,mi.push(b),b),o.site,null)),++s);var y,m,x,b}(n));var a={cells:xi,edges:mi};return bi=Mi=mi=xi=null,a}function Xi(t,n){return n.y-t.y||n.x-t.x}Li.prototype.prepare=function(){for(var t,n=this.edges,e=n.length;e--;)(t=n[e].edge).b&&t.a||n.splice(e,1);return n.sort(Oi),n.length},Ui.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},Fi.prototype={insert:function(t,n){var e,r,i;if(t){if(n.P=t,n.N=t.N,t.N&&(t.N.P=n),t.N=n,t.R){for(t=t.R;t.L;)t=t.L;t.L=n}else t.R=n;e=t}else this._?(t=Wi(this._),n.P=null,n.N=t,t.P=t.L=n,e=t):(n.P=n.N=null,this._=n,e=null);for(n.L=n.R=null,n.U=e,n.C=!0,t=n;e&&e.C;)e===(r=e.U).L?(i=r.R)&&i.C?(e.C=i.C=!1,r.C=!0,t=r):(t===e.R&&(Gi(this,e),e=(t=e).U),e.C=!1,r.C=!0,Yi(this,r)):(i=r.L)&&i.C?(e.C=i.C=!1,r.C=!0,t=r):(t===e.L&&(Yi(this,e),e=(t=e).U),e.C=!1,r.C=!0,Gi(this,r)),e=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var n,e,r,i=t.U,o=t.L,a=t.R;if(e=o?a?Wi(a):o:a,i?i.L===t?i.L=e:i.R=e:this._=e,o&&a?(r=e.C,e.C=t.C,e.L=o,o.U=e,e!==a?(i=e.U,e.U=t.U,t=e.R,i.L=t,e.R=a,a.U=e):(e.U=i,i=e,t=e.R)):(r=t.C,t=e),t&&(t.U=i),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if((n=i.R).C&&(n.C=!1,i.C=!0,Gi(this,i),n=i.R),n.L&&n.L.C||n.R&&n.R.C){n.R&&n.R.C||(n.L.C=!1,n.C=!0,Yi(this,n),n=i.R),n.C=i.C,i.C=n.R.C=!1,Gi(this,i),t=this._;break}}else if((n=i.L).C&&(n.C=!1,i.C=!0,Yi(this,i),n=i.L),n.L&&n.L.C||n.R&&n.R.C){n.L&&n.L.C||(n.R.C=!1,n.C=!0,Gi(this,n),n=i.L),n.C=i.C,i.C=n.L.C=!1,Yi(this,i),t=this._;break}n.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}},a.geom.voronoi=function(t){var n=ci,e=hi,r=n,i=e,o=Zi;if(t)return a(t);function a(t){var n=new Array(t.length),e=o[0][0],r=o[0][1],i=o[1][0],a=o[1][1];return Bi(u(t),o).cells.forEach(function(o,u){var s=o.edges,l=o.site;(n[u]=s.length?s.map(function(t){var n=t.start();return[n.x,n.y]}):l.x>=e&&l.x<=i&&l.y>=r&&l.y<=a?[[e,a],[i,a],[i,r],[e,r]]:[]).point=t[u]}),n}function u(t){return t.map(function(t,n){return{x:Math.round(r(t,n)/Et)*Et,y:Math.round(i(t,n)/Et)*Et,i:n}})}return a.links=function(t){return Bi(u(t)).edges.filter(function(t){return t.l&&t.r}).map(function(n){return{source:t[n.l.i],target:t[n.r.i]}})},a.triangles=function(t){var n=[];return Bi(u(t)).cells.forEach(function(e,r){for(var i,o,a,u,s=e.site,l=e.edges.sort(Oi),c=-1,h=l.length,f=l[h-1].edge,v=f.l===s?f.r:f.l;++c<h;)f,i=v,v=(f=l[c].edge).l===s?f.r:f.l,r<i.i&&r<v.i&&(a=i,u=v,((o=s).x-u.x)*(a.y-o.y)-(o.x-a.x)*(u.y-o.y)<0)&&n.push([t[r],t[i.i],t[v.i]])}),n},a.x=function(t){return arguments.length?(r=kn(n=t),a):n},a.y=function(t){return arguments.length?(i=kn(e=t),a):e},a.clipExtent=function(t){return arguments.length?(o=null==t?Zi:t,a):o===Zi?null:o},a.size=function(t){return arguments.length?a.clipExtent(t&&[[0,0],t]):o===Zi?null:o&&o[1]},a};var Zi=[[-1e6,-1e6],[1e6,1e6]];function $i(t){return t.x}function Ji(t){return t.y}function Ki(t,n){t=a.rgb(t),n=a.rgb(n);var e=t.r,r=t.g,i=t.b,o=n.r-e,u=n.g-r,s=n.b-i;return function(t){return"#"+dn(Math.round(e+o*t))+dn(Math.round(r+u*t))+dn(Math.round(i+s*t))}}function Qi(t,n){var e,r={},i={};for(e in t)e in n?r[e]=io(t[e],n[e]):i[e]=t[e];for(e in n)e in t||(i[e]=n[e]);return function(t){for(e in r)i[e]=r[e](t);return i}}function to(t,n){return n-=t=+t,function(e){return t+n*e}}function no(t,n){var e,r,i,o=eo.lastIndex=ro.lastIndex=0,a=-1,u=[],s=[];for(t+="",n+="";(e=eo.exec(t))&&(r=ro.exec(n));)(i=r.index)>o&&(i=n.substring(o,i),u[a]?u[a]+=i:u[++a]=i),(e=e[0])===(r=r[0])?u[a]?u[a]+=r:u[++a]=r:(u[++a]=null,s.push({i:a,x:to(e,r)})),o=ro.lastIndex;return o<n.length&&(i=n.substring(o),u[a]?u[a]+=i:u[++a]=i),u.length<2?s[0]?(n=s[0].x,function(t){return n(t)+""}):function(){return n}:(n=s.length,function(t){for(var e,r=0;r<n;++r)u[(e=s[r]).i]=e.x(t);return u.join("")})}a.geom.delaunay=function(t){return a.geom.voronoi().triangles(t)},a.geom.quadtree=function(t,n,e,r,i){var o,a=ci,u=hi;if(o=arguments.length)return a=$i,u=Ji,3===o&&(i=e,r=n,e=n=0),s(t);function s(t){var s,l,c,h,f,v,p,g,d,y=kn(a),m=kn(u);if(null!=n)v=n,p=e,g=r,d=i;else if(g=d=-(v=p=1/0),l=[],c=[],f=t.length,o)for(h=0;h<f;++h)(s=t[h]).x<v&&(v=s.x),s.y<p&&(p=s.y),s.x>g&&(g=s.x),s.y>d&&(d=s.y),l.push(s.x),c.push(s.y);else for(h=0;h<f;++h){var x=+y(s=t[h],h),b=+m(s,h);x<v&&(v=x),b<p&&(p=b),x>g&&(g=x),b>d&&(d=b),l.push(x),c.push(b)}var w=g-v,k=d-p;function _(t,n,e,r,i,o,a,u){if(!isNaN(e)&&!isNaN(r))if(t.leaf){var s=t.x,l=t.y;if(null!=s)if(M(s-e)+M(l-r)<.01)S(t,n,e,r,i,o,a,u);else{var c=t.point;t.x=t.y=t.point=null,S(t,c,s,l,i,o,a,u),S(t,n,e,r,i,o,a,u)}else t.x=e,t.y=r,t.point=n}else S(t,n,e,r,i,o,a,u)}function S(t,n,e,r,i,o,a,u){var s=.5*(i+a),l=.5*(o+u),c=e>=s,h=r>=l,f=(h<<1)+c;t.leaf=!1,c?i=s:a=s,h?o=l:u=l,_(t=t.nodes[f]||(t.nodes[f]={leaf:!0,nodes:[],point:null,x:null,y:null}),n,e,r,i,o,a,u)}w>k?d=p+w:g=v+k;var A={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(t){_(A,t,+y(t,++h),+m(t,h),v,p,g,d)}};if(A.visit=function(t){!function t(n,e,r,i,o,a){if(!n(e,r,i,o,a)){var u=.5*(r+o),s=.5*(i+a),l=e.nodes;l[0]&&t(n,l[0],r,i,u,s),l[1]&&t(n,l[1],u,i,o,s),l[2]&&t(n,l[2],r,s,u,a),l[3]&&t(n,l[3],u,s,o,a)}}(t,A,v,p,g,d)},h=-1,null==n){for(;++h<f;)_(A,t[h],l[h],c[h],v,p,g,d);--h}else t.forEach(A.add);return l=c=t=s=null,A}return s.x=function(t){return arguments.length?(a=t,s):a},s.y=function(t){return arguments.length?(u=t,s):u},s.extent=function(t){return arguments.length?(null==t?n=e=r=i=null:(n=+t[0][0],e=+t[0][1],r=+t[1][0],i=+t[1][1]),s):null==n?null:[[n,e],[r,i]]},s.size=function(t){return arguments.length?(null==t?n=e=r=i=null:(n=e=0,r=+t[0],i=+t[1]),s):null==n?null:[r-n,i-e]},s},a.interpolateRgb=Ki,a.interpolateObject=Qi,a.interpolateNumber=to,a.interpolateString=no;var eo=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ro=new RegExp(eo.source,"g");function io(t,n){for(var e,r=a.interpolators.length;--r>=0&&!(e=a.interpolators[r](t,n)););return e}function oo(t,n){var e,r=[],i=[],o=t.length,a=n.length,u=Math.min(t.length,n.length);for(e=0;e<u;++e)r.push(io(t[e],n[e]));for(;e<o;++e)i[e]=t[e];for(;e<a;++e)i[e]=n[e];return function(t){for(e=0;e<u;++e)i[e]=r[e](t);return i}}a.interpolate=io,a.interpolators=[function(t,n){var e=o(n);return("string"===e?Mn.has(n)||/^(#|rgb\(|hsl\()/.test(n)?Ki:no:n instanceof Ht?Ki:Array.isArray(n)?oo:"object"===e&&isNaN(n)?Qi:to)(t,n)}],a.interpolateArray=oo;var ao=function(){return _n},uo=a.map({linear:ao,poly:function(t){return function(n){return Math.pow(n,t)}},quad:function(){return ho},cubic:function(){return fo},sin:function(){return po},exp:function(){return go},circle:function(){return yo},elastic:function(t,n){var e;arguments.length<2&&(n=.45);arguments.length?e=n/At*Math.asin(1/t):(t=1,e=n/4);return function(r){return 1+t*Math.pow(2,-10*r)*Math.sin((r-e)*At/n)}},back:function(t){t||(t=1.70158);return function(n){return n*n*((t+1)*n-t)}},bounce:function(){return mo}}),so=a.map({in:_n,out:lo,"in-out":co,"out-in":function(t){return co(lo(t))}});function lo(t){return function(n){return 1-t(1-n)}}function co(t){return function(n){return.5*(n<.5?t(2*n):2-t(2-2*n))}}function ho(t){return t*t}function fo(t){return t*t*t}function vo(t){if(t<=0)return 0;if(t>=1)return 1;var n=t*t,e=n*t;return 4*(t<.5?e:3*(t-n)+e-.75)}function po(t){return 1-Math.cos(t*jt)}function go(t){return Math.pow(2,10*(t-1))}function yo(t){return 1-Math.sqrt(1-t*t)}function mo(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function xo(t,n){return n-=t,function(e){return Math.round(t+n*e)}}function bo(t){var n,e,r,i=[t.a,t.b],o=[t.c,t.d],a=Mo(i),u=wo(i,o),s=Mo(((n=o)[0]+=(r=-u)*(e=i)[0],n[1]+=r*e[1],n))||0;i[0]*o[1]<o[0]*i[1]&&(i[0]*=-1,i[1]*=-1,a*=-1,u*=-1),this.rotate=(a?Math.atan2(i[1],i[0]):Math.atan2(-o[0],o[1]))*Tt,this.translate=[t.e,t.f],this.scale=[a,s],this.skew=s?Math.atan2(u,s)*Tt:0}function wo(t,n){return t[0]*n[0]+t[1]*n[1]}function Mo(t){var n=Math.sqrt(wo(t,t));return n&&(t[0]/=n,t[1]/=n),n}a.ease=function(t){var n,e=t.indexOf("-"),r=e>=0?t.substring(0,e):t,i=e>=0?t.substring(e+1):"in";return r=uo.get(r)||ao,i=so.get(i)||_n,n=i(r.apply(null,u.call(arguments,1))),function(t){return t<=0?0:t>=1?1:n(t)}},a.interpolateHcl=function(t,n){t=a.hcl(t),n=a.hcl(n);var e=t.h,r=t.c,i=t.l,o=n.h-e,u=n.c-r,s=n.l-i;isNaN(u)&&(u=0,r=isNaN(r)?n.c:r);isNaN(o)?(o=0,e=isNaN(e)?n.h:e):o>180?o-=360:o<-180&&(o+=360);return function(t){return Jt(e+o*t,r+u*t,i+s*t)+""}},a.interpolateHsl=function(t,n){t=a.hsl(t),n=a.hsl(n);var e=t.h,r=t.s,i=t.l,o=n.h-e,u=n.s-r,s=n.l-i;isNaN(u)&&(u=0,r=isNaN(r)?n.s:r);isNaN(o)?(o=0,e=isNaN(e)?n.h:e):o>180?o-=360:o<-180&&(o+=360);return function(t){return Bt(e+o*t,r+u*t,i+s*t)+""}},a.interpolateLab=function(t,n){t=a.lab(t),n=a.lab(n);var e=t.l,r=t.a,i=t.b,o=n.l-e,u=n.a-r,s=n.b-i;return function(t){return an(e+o*t,r+u*t,i+s*t)+""}},a.interpolateRound=xo,a.transform=function(t){var n=l.createElementNS(a.ns.prefix.svg,"g");return(a.transform=function(t){if(null!=t){n.setAttribute("transform",t);var e=n.transform.baseVal.consolidate()}return new bo(e?e.matrix:ko)})(t)},bo.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var ko={a:1,b:0,c:0,d:1,e:0,f:0};function _o(t,n){var e,r=[],i=[],o=a.transform(t),u=a.transform(n),s=o.translate,l=u.translate,c=o.rotate,h=u.rotate,f=o.skew,v=u.skew,p=o.scale,g=u.scale;return s[0]!=l[0]||s[1]!=l[1]?(r.push("translate(",null,",",null,")"),i.push({i:1,x:to(s[0],l[0])},{i:3,x:to(s[1],l[1])})):l[0]||l[1]?r.push("translate("+l+")"):r.push(""),c!=h?(c-h>180?h+=360:h-c>180&&(c+=360),i.push({i:r.push(r.pop()+"rotate(",null,")")-2,x:to(c,h)})):h&&r.push(r.pop()+"rotate("+h+")"),f!=v?i.push({i:r.push(r.pop()+"skewX(",null,")")-2,x:to(f,v)}):v&&r.push(r.pop()+"skewX("+v+")"),p[0]!=g[0]||p[1]!=g[1]?(e=r.push(r.pop()+"scale(",null,",",null,")"),i.push({i:e-4,x:to(p[0],g[0])},{i:e-2,x:to(p[1],g[1])})):1==g[0]&&1==g[1]||r.push(r.pop()+"scale("+g+")"),e=i.length,function(t){for(var n,o=-1;++o<e;)r[(n=i[o]).i]=n.x(t);return r.join("")}}function So(t,n){return n=n-(t=+t)?1/(n-t):0,function(e){return(e-t)*n}}function Ao(t,n){return n=n-(t=+t)?1/(n-t):0,function(e){return Math.max(0,Math.min(1,(e-t)*n))}}function jo(t){for(var n=t.source,e=t.target,r=function(t,n){if(t===n)return t;var e=Eo(t),r=Eo(n),i=e.pop(),o=r.pop(),a=null;for(;i===o;)a=i,i=e.pop(),o=r.pop();return a}(n,e),i=[n];n!==r;)n=n.parent,i.push(n);for(var o=i.length;e!==r;)i.splice(o,0,e),e=e.parent;return i}function Eo(t){for(var n=[],e=t.parent;null!=e;)n.push(t),t=e,e=e.parent;return n.push(t),n}function No(t){t.fixed|=2}function Co(t){t.fixed&=-7}function To(t){t.fixed|=4,t.px=t.x,t.py=t.y}function Lo(t){t.fixed&=-5}a.interpolateTransform=_o,a.layout={},a.layout.bundle=function(){return function(t){for(var n=[],e=-1,r=t.length;++e<r;)n.push(jo(t[e]));return n}},a.layout.chord=function(){var t,n,e,r,i,o,u,s={},l=0;function c(){var s,c,f,v,p,g={},d=[],y=a.range(r),m=[];for(t=[],n=[],s=0,v=-1;++v<r;){for(c=0,p=-1;++p<r;)c+=e[v][p];d.push(c),m.push(a.range(r)),s+=c}for(i&&y.sort(function(t,n){return i(d[t],d[n])}),o&&m.forEach(function(t,n){t.sort(function(t,r){return o(e[n][t],e[n][r])})}),s=(At-l*r)/s,c=0,v=-1;++v<r;){for(f=c,p=-1;++p<r;){var x=y[v],b=m[x][p],w=e[x][b],M=c,k=c+=w*s;g[x+"-"+b]={index:x,subindex:b,startAngle:M,endAngle:k,value:w}}n[x]={index:x,startAngle:f,endAngle:c,value:(c-f)/s},c+=l}for(v=-1;++v<r;)for(p=v-1;++p<r;){var _=g[v+"-"+p],S=g[p+"-"+v];(_.value||S.value)&&t.push(_.value<S.value?{source:S,target:_}:{source:_,target:S})}u&&h()}function h(){t.sort(function(t,n){return u((t.source.value+t.target.value)/2,(n.source.value+n.target.value)/2)})}return s.matrix=function(i){return arguments.length?(r=(e=i)&&e.length,t=n=null,s):e},s.padding=function(e){return arguments.length?(l=e,t=n=null,s):l},s.sortGroups=function(e){return arguments.length?(i=e,t=n=null,s):i},s.sortSubgroups=function(n){return arguments.length?(o=n,t=null,s):o},s.sortChords=function(n){return arguments.length?(u=n,t&&h(),s):u},s.chords=function(){return t||c(),t},s.groups=function(){return n||c(),n},s},a.layout.force=function(){var t,n,e,r,i,o={},u=a.dispatch("start","tick","end"),s=[1,1],l=.9,c=Oo,h=zo,f=-30,v=Po,p=.1,g=.64,d=[],y=[];function m(t){return function(n,e,r,i){if(n.point!==t){var o=n.cx-t.x,a=n.cy-t.y,u=i-e,s=o*o+a*a;if(u*u/g<s){if(s<v){var l=n.charge/s;t.px-=o*l,t.py-=a*l}return!0}if(n.point&&s&&s<v){l=n.pointCharge/s;t.px-=o*l,t.py-=a*l}}return!n.charge}}function x(t){t.px=a.event.x,t.py=a.event.y,o.resume()}return o.tick=function(){if((n*=.99)<.005)return u.end({type:"end",alpha:n=0}),!0;var t,o,c,h,v,g,x,b,w,M=d.length,k=y.length;for(o=0;o<k;++o)h=(c=y[o]).source,(g=(b=(v=c.target).x-h.x)*b+(w=v.y-h.y)*w)&&(b*=g=n*r[o]*((g=Math.sqrt(g))-e[o])/g,w*=g,v.x-=b*(x=h.weight/(v.weight+h.weight)),v.y-=w*x,h.x+=b*(x=1-x),h.y+=w*x);if((x=n*p)&&(b=s[0]/2,w=s[1]/2,o=-1,x))for(;++o<M;)(c=d[o]).x+=(b-c.x)*x,c.y+=(w-c.y)*x;if(f)for(!function t(n,e,r){var i=0,o=0;n.charge=0;if(!n.leaf)for(var a,u=n.nodes,s=u.length,l=-1;++l<s;)null!=(a=u[l])&&(t(a,e,r),n.charge+=a.charge,i+=a.charge*a.cx,o+=a.charge*a.cy);if(n.point){n.leaf||(n.point.x+=Math.random()-.5,n.point.y+=Math.random()-.5);var c=e*r[n.point.index];n.charge+=n.pointCharge=c,i+=c*n.point.x,o+=c*n.point.y}n.cx=i/n.charge;n.cy=o/n.charge}(t=a.geom.quadtree(d),n,i),o=-1;++o<M;)(c=d[o]).fixed||t.visit(m(c));for(o=-1;++o<M;)(c=d[o]).fixed?(c.x=c.px,c.y=c.py):(c.x-=(c.px-(c.px=c.x))*l,c.y-=(c.py-(c.py=c.y))*l);u.tick({type:"tick",alpha:n})},o.nodes=function(t){return arguments.length?(d=t,o):d},o.links=function(t){return arguments.length?(y=t,o):y},o.size=function(t){return arguments.length?(s=t,o):s},o.linkDistance=function(t){return arguments.length?(c="function"==typeof t?t:+t,o):c},o.distance=o.linkDistance,o.linkStrength=function(t){return arguments.length?(h="function"==typeof t?t:+t,o):h},o.friction=function(t){return arguments.length?(l=+t,o):l},o.charge=function(t){return arguments.length?(f="function"==typeof t?t:+t,o):f},o.chargeDistance=function(t){return arguments.length?(v=t*t,o):Math.sqrt(v)},o.gravity=function(t){return arguments.length?(p=+t,o):p},o.theta=function(t){return arguments.length?(g=t*t,o):Math.sqrt(g)},o.alpha=function(t){return arguments.length?(t=+t,n?n=t>0?t:0:t>0&&(u.start({type:"start",alpha:n=t}),a.timer(o.tick)),o):n},o.start=function(){var t,n,a,u=d.length,l=y.length,v=s[0],p=s[1];for(t=0;t<u;++t)(a=d[t]).index=t,a.weight=0;for(t=0;t<l;++t)"number"==typeof(a=y[t]).source&&(a.source=d[a.source]),"number"==typeof a.target&&(a.target=d[a.target]),++a.source.weight,++a.target.weight;for(t=0;t<u;++t)a=d[t],isNaN(a.x)&&(a.x=g("x",v)),isNaN(a.y)&&(a.y=g("y",p)),isNaN(a.px)&&(a.px=a.x),isNaN(a.py)&&(a.py=a.y);if(e=[],"function"==typeof c)for(t=0;t<l;++t)e[t]=+c.call(this,y[t],t);else for(t=0;t<l;++t)e[t]=c;if(r=[],"function"==typeof h)for(t=0;t<l;++t)r[t]=+h.call(this,y[t],t);else for(t=0;t<l;++t)r[t]=h;if(i=[],"function"==typeof f)for(t=0;t<u;++t)i[t]=+f.call(this,d[t],t);else for(t=0;t<u;++t)i[t]=f;function g(e,r){if(!n){for(n=new Array(u),s=0;s<u;++s)n[s]=[];for(s=0;s<l;++s){var i=y[s];n[i.source.index].push(i.target),n[i.target.index].push(i.source)}}for(var o,a=n[t],s=-1,l=a.length;++s<l;)if(!isNaN(o=a[s][e]))return o;return Math.random()*r}return o.resume()},o.resume=function(){return o.alpha(.1)},o.stop=function(){return o.alpha(0)},o.drag=function(){if(t||(t=a.behavior.drag().origin(_n).on("dragstart.force",No).on("drag.force",x).on("dragend.force",Co)),!arguments.length)return t;this.on("mouseover.force",To).on("mouseout.force",Lo).call(t)},a.rebind(o,u,"on")};var Oo=20,zo=1,Po=1/0;function qo(t,n){return a.rebind(t,n,"sort","children","value"),t.nodes=t,t.links=Fo,t}function Vo(t,n){for(var e=[t];null!=(t=e.pop());)if(n(t),(i=t.children)&&(r=i.length))for(var r,i;--r>=0;)e.push(i[r])}function Do(t,n){for(var e=[t],r=[];null!=(t=e.pop());)if(r.push(t),(o=t.children)&&(i=o.length))for(var i,o,a=-1;++a<i;)e.push(o[a]);for(;null!=(t=r.pop());)n(t)}function Ro(t){return t.children}function Io(t){return t.value}function Uo(t,n){return n.value-t.value}function Fo(t){return a.merge(t.map(function(t){return(t.children||[]).map(function(n){return{source:t,target:n}})}))}a.layout.hierarchy=function(){var t=Uo,n=Ro,e=Io;function r(i){var o,a=[i],u=[];for(i.depth=0;null!=(o=a.pop());)if(u.push(o),(l=n.call(r,o,o.depth))&&(s=l.length)){for(var s,l,c;--s>=0;)a.push(c=l[s]),c.parent=o,c.depth=o.depth+1;e&&(o.value=0),o.children=l}else e&&(o.value=+e.call(r,o,o.depth)||0),delete o.children;return Do(i,function(n){var r,i;t&&(r=n.children)&&r.sort(t),e&&(i=n.parent)&&(i.value+=n.value)}),u}return r.sort=function(n){return arguments.length?(t=n,r):t},r.children=function(t){return arguments.length?(n=t,r):n},r.value=function(t){return arguments.length?(e=t,r):e},r.revalue=function(t){return e&&(Vo(t,function(t){t.children&&(t.value=0)}),Do(t,function(t){var n;t.children||(t.value=+e.call(r,t,t.depth)||0),(n=t.parent)&&(n.value+=t.value)})),t},r},a.layout.partition=function(){var t=a.layout.hierarchy(),n=[1,1];function e(e,r){var i=t.call(this,e,r);return function t(n,e,r,i){var o=n.children;if(n.x=e,n.y=n.depth*i,n.dx=r,n.dy=i,o&&(a=o.length)){var a,u,s,l=-1;for(r=n.value?r/n.value:0;++l<a;)t(u=o[l],e,s=u.value*r,i),e+=s}}(i[0],0,n[0],n[1]/function t(n){var e=n.children,r=0;if(e&&(i=e.length))for(var i,o=-1;++o<i;)r=Math.max(r,t(e[o]));return 1+r}(i[0])),i}return e.size=function(t){return arguments.length?(n=t,e):n},qo(e,t)},a.layout.pie=function(){var t=Number,n=Ho,e=0,r=At;function i(o){var u=o.map(function(n,e){return+t.call(i,n,e)}),s=+("function"==typeof e?e.apply(this,arguments):e),l=(("function"==typeof r?r.apply(this,arguments):r)-s)/a.sum(u),c=a.range(o.length);null!=n&&c.sort(n===Ho?function(t,n){return u[n]-u[t]}:function(t,e){return n(o[t],o[e])});var h=[];return c.forEach(function(t){var n;h[t]={data:o[t],value:n=u[t],startAngle:s,endAngle:s+=n*l}}),h}return i.value=function(n){return arguments.length?(t=n,i):t},i.sort=function(t){return arguments.length?(n=t,i):n},i.startAngle=function(t){return arguments.length?(e=t,i):e},i.endAngle=function(t){return arguments.length?(r=t,i):r},i};var Ho={};function Go(t){return t.x}function Yo(t){return t.y}function Wo(t,n,e){t.y0=n,t.y=e}a.layout.stack=function(){var t=_n,n=Zo,e=$o,r=Wo,i=Go,o=Yo;function u(s,l){var c=s.map(function(n,e){return t.call(u,n,e)}),h=c.map(function(t){return t.map(function(t,n){return[i.call(u,t,n),o.call(u,t,n)]})}),f=n.call(u,h,l);c=a.permute(c,f),h=a.permute(h,f);var v,p,g,d=e.call(u,h,l),y=c.length,m=c[0].length;for(p=0;p<m;++p)for(r.call(u,c[0][p],g=d[p],h[0][p][1]),v=1;v<y;++v)r.call(u,c[v][p],g+=h[v-1][p][1],h[v][p][1]);return s}return u.values=function(n){return arguments.length?(t=n,u):t},u.order=function(t){return arguments.length?(n="function"==typeof t?t:Bo.get(t)||Zo,u):n},u.offset=function(t){return arguments.length?(e="function"==typeof t?t:Xo.get(t)||$o,u):e},u.x=function(t){return arguments.length?(i=t,u):i},u.y=function(t){return arguments.length?(o=t,u):o},u.out=function(t){return arguments.length?(r=t,u):r},u};var Bo=a.map({"inside-out":function(t){var n,e,r=t.length,i=t.map(Jo),o=t.map(Ko),u=a.range(r).sort(function(t,n){return i[t]-i[n]}),s=0,l=0,c=[],h=[];for(n=0;n<r;++n)e=u[n],s<l?(s+=o[e],c.push(e)):(l+=o[e],h.push(e));return h.reverse().concat(c)},reverse:function(t){return a.range(t.length).reverse()},default:Zo}),Xo=a.map({silhouette:function(t){var n,e,r,i=t.length,o=t[0].length,a=[],u=0,s=[];for(e=0;e<o;++e){for(n=0,r=0;n<i;n++)r+=t[n][e][1];r>u&&(u=r),a.push(r)}for(e=0;e<o;++e)s[e]=(u-a[e])/2;return s},wiggle:function(t){var n,e,r,i,o,a,u,s,l,c=t.length,h=t[0],f=h.length,v=[];for(v[0]=s=l=0,e=1;e<f;++e){for(n=0,i=0;n<c;++n)i+=t[n][e][1];for(n=0,o=0,u=h[e][0]-h[e-1][0];n<c;++n){for(r=0,a=(t[n][e][1]-t[n][e-1][1])/(2*u);r<n;++r)a+=(t[r][e][1]-t[r][e-1][1])/u;o+=a*t[n][e][1]}v[e]=s-=i?o/i*u:0,s<l&&(l=s)}for(e=0;e<f;++e)v[e]-=l;return v},expand:function(t){var n,e,r,i=t.length,o=t[0].length,a=1/i,u=[];for(e=0;e<o;++e){for(n=0,r=0;n<i;n++)r+=t[n][e][1];if(r)for(n=0;n<i;n++)t[n][e][1]/=r;else for(n=0;n<i;n++)t[n][e][1]=a}for(e=0;e<o;++e)u[e]=0;return u},zero:$o});function Zo(t){return a.range(t.length)}function $o(t){for(var n=-1,e=t[0].length,r=[];++n<e;)r[n]=0;return r}function Jo(t){for(var n,e=1,r=0,i=t[0][1],o=t.length;e<o;++e)(n=t[e][1])>i&&(r=e,i=n);return r}function Ko(t){return t.reduce(Qo,0)}function Qo(t,n){return t+n[1]}function ta(t,n){return na(t,Math.ceil(Math.log(n.length)/Math.LN2+1))}function na(t,n){for(var e=-1,r=+t[0],i=(t[1]-r)/n,o=[];++e<=n;)o[e]=i*e+r;return o}function ea(t){return[a.min(t),a.max(t)]}function ra(t,n){return t.value-n.value}function ia(t,n){var e=t._pack_next;t._pack_next=n,n._pack_prev=t,n._pack_next=e,e._pack_prev=n}function oa(t,n){t._pack_next=n,n._pack_prev=t}function aa(t,n){var e=n.x-t.x,r=n.y-t.y,i=t.r+n.r;return.999*i*i>e*e+r*r}function ua(t){if((n=t.children)&&(s=n.length)){var n,e,r,i,o,a,u,s,l=1/0,c=-1/0,h=1/0,f=-1/0;if(n.forEach(sa),(e=n[0]).x=-e.r,e.y=0,x(e),s>1&&((r=n[1]).x=r.r,r.y=0,x(r),s>2))for(ca(e,r,i=n[2]),x(i),ia(e,i),e._pack_prev=i,ia(i,r),r=e._pack_next,o=3;o<s;o++){ca(e,r,i=n[o]);var v=0,p=1,g=1;for(a=r._pack_next;a!==r;a=a._pack_next,p++)if(aa(a,i)){v=1;break}if(1==v)for(u=e._pack_prev;u!==a._pack_prev&&!aa(u,i);u=u._pack_prev,g++);v?(p<g||p==g&&r.r<e.r?oa(e,r=a):oa(e=u,r),o--):(ia(e,i),r=i,x(i))}var d=(l+c)/2,y=(h+f)/2,m=0;for(o=0;o<s;o++)(i=n[o]).x-=d,i.y-=y,m=Math.max(m,i.r+Math.sqrt(i.x*i.x+i.y*i.y));t.r=m,n.forEach(la)}function x(t){l=Math.min(t.x-t.r,l),c=Math.max(t.x+t.r,c),h=Math.min(t.y-t.r,h),f=Math.max(t.y+t.r,f)}}function sa(t){t._pack_next=t._pack_prev=t}function la(t){delete t._pack_next,delete t._pack_prev}function ca(t,n,e){var r=t.r+e.r,i=n.x-t.x,o=n.y-t.y;if(r&&(i||o)){var a=n.r+e.r,u=i*i+o*o,s=.5+((r*=r)-(a*=a))/(2*u),l=Math.sqrt(Math.max(0,2*a*(r+u)-(r-=u)*r-a*a))/(2*u);e.x=t.x+s*i+l*o,e.y=t.y+s*o-l*i}else e.x=t.x+r,e.y=t.y}function ha(t,n){return t.parent==n.parent?1:2}function fa(t){var n=t.children;return n.length?n[0]:t.t}function va(t){var n,e=t.children;return(n=e.length)?e[n-1]:t.t}function pa(t,n,e){var r=e/(n.i-t.i);n.c-=r,n.s+=e,t.c+=r,n.z+=e,n.m+=e}function ga(t,n,e){return t.a.parent===n.parent?t.a:e}function da(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function ya(t,n){var e=t.x+n[3],r=t.y+n[0],i=t.dx-n[1]-n[3],o=t.dy-n[0]-n[2];return i<0&&(e+=i/2,i=0),o<0&&(r+=o/2,o=0),{x:e,y:r,dx:i,dy:o}}function ma(t){var n=t[0],e=t[t.length-1];return n<e?[n,e]:[e,n]}function xa(t){return t.rangeExtent?t.rangeExtent():ma(t.range())}function ba(t,n,e,r){var i=e(t[0],t[1]),o=r(n[0],n[1]);return function(t){return o(i(t))}}function wa(t,n){var e,r=0,i=t.length-1,o=t[r],a=t[i];return a<o&&(e=r,r=i,i=e,e=o,o=a,a=e),t[r]=n.floor(o),t[i]=n.ceil(a),t}a.layout.histogram=function(){var t=!0,n=Number,e=ea,r=ta;function i(i,o){for(var u,s,l=[],c=i.map(n,this),h=e.call(this,c,o),f=r.call(this,h,c,o),v=(o=-1,c.length),p=f.length-1,g=t?1:1/v;++o<p;)(u=l[o]=[]).dx=f[o+1]-(u.x=f[o]),u.y=0;if(p>0)for(o=-1;++o<v;)(s=c[o])>=h[0]&&s<=h[1]&&((u=l[a.bisect(f,s,1,p)-1]).y+=g,u.push(i[o]));return l}return i.value=function(t){return arguments.length?(n=t,i):n},i.range=function(t){return arguments.length?(e=kn(t),i):e},i.bins=function(t){return arguments.length?(r="number"==typeof t?function(n){return na(n,t)}:kn(t),i):r},i.frequency=function(n){return arguments.length?(t=!!n,i):t},i},a.layout.pack=function(){var t,n=a.layout.hierarchy().sort(ra),e=0,r=[1,1];function i(i,o){var a=n.call(this,i,o),u=a[0],s=r[0],l=r[1],c=null==t?Math.sqrt:"function"==typeof t?t:function(){return t};if(u.x=u.y=0,Do(u,function(t){t.r=+c(t.value)}),Do(u,ua),e){var h=e*(t?1:Math.max(2*u.r/s,2*u.r/l))/2;Do(u,function(t){t.r+=h}),Do(u,ua),Do(u,function(t){t.r-=h})}return function t(n,e,r,i){var o=n.children;n.x=e+=i*n.x;n.y=r+=i*n.y;n.r*=i;if(o)for(var a=-1,u=o.length;++a<u;)t(o[a],e,r,i)}(u,s/2,l/2,t?1:1/Math.max(2*u.r/s,2*u.r/l)),a}return i.size=function(t){return arguments.length?(r=t,i):r},i.radius=function(n){return arguments.length?(t=null==n||"function"==typeof n?n:+n,i):t},i.padding=function(t){return arguments.length?(e=+t,i):e},qo(i,n)},a.layout.tree=function(){var t=a.layout.hierarchy().sort(null).value(null),n=ha,e=[1,1],r=null;function i(i,a){var l=t.call(this,i,a),c=l[0],h=function(t){var n,e={A:null,children:[t]},r=[e];for(;null!=(n=r.pop());)for(var i,o=n.children,a=0,u=o.length;a<u;++a)r.push((o[a]=i={_:o[a],parent:n,children:(i=o[a].children)&&i.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:a}).a=i);return e.children[0]}(c);if(Do(h,o),h.parent.m=-h.z,Vo(h,u),r)Vo(c,s);else{var f=c,v=c,p=c;Vo(c,function(t){t.x<f.x&&(f=t),t.x>v.x&&(v=t),t.depth>p.depth&&(p=t)});var g=n(f,v)/2-f.x,d=e[0]/(v.x+n(v,f)/2+g),y=e[1]/(p.depth||1);Vo(c,function(t){t.x=(t.x+g)*d,t.y=t.depth*y})}return l}function o(t){var e=t.children,r=t.parent.children,i=t.i?r[t.i-1]:null;if(e.length){!function(t){var n,e=0,r=0,i=t.children,o=i.length;for(;--o>=0;)(n=i[o]).z+=e,n.m+=e,e+=n.s+(r+=n.c)}(t);var o=(e[0].z+e[e.length-1].z)/2;i?(t.z=i.z+n(t._,i._),t.m=t.z-o):t.z=o}else i&&(t.z=i.z+n(t._,i._));t.parent.A=function(t,e,r){if(e){for(var i,o=t,a=t,u=e,s=o.parent.children[0],l=o.m,c=a.m,h=u.m,f=s.m;u=va(u),o=fa(o),u&&o;)s=fa(s),(a=va(a)).a=t,(i=u.z+h-o.z-l+n(u._,o._))>0&&(pa(ga(u,t,r),t,i),l+=i,c+=i),h+=u.m,l+=o.m,f+=s.m,c+=a.m;u&&!va(a)&&(a.t=u,a.m+=h-c),o&&!fa(s)&&(s.t=o,s.m+=l-f,r=t)}return r}(t,i,t.parent.A||r[0])}function u(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function s(t){t.x*=e[0],t.y=t.depth*e[1]}return i.separation=function(t){return arguments.length?(n=t,i):n},i.size=function(t){return arguments.length?(r=null==(e=t)?s:null,i):r?null:e},i.nodeSize=function(t){return arguments.length?(r=null==(e=t)?null:s,i):r?e:null},qo(i,t)},a.layout.cluster=function(){var t=a.layout.hierarchy().sort(null).value(null),n=ha,e=[1,1],r=!1;function i(i,o){var u,s=t.call(this,i,o),l=s[0],c=0;Do(l,function(t){var e=t.children;e&&e.length?(t.x=function(t){return t.reduce(function(t,n){return t+n.x},0)/t.length}(e),t.y=function(t){return 1+a.max(t,function(t){return t.y})}(e)):(t.x=u?c+=n(t,u):0,t.y=0,u=t)});var h=function t(n){var e=n.children;return e&&e.length?t(e[0]):n}(l),f=function t(n){var e,r=n.children;return r&&(e=r.length)?t(r[e-1]):n}(l),v=h.x-n(h,f)/2,p=f.x+n(f,h)/2;return Do(l,r?function(t){t.x=(t.x-l.x)*e[0],t.y=(l.y-t.y)*e[1]}:function(t){t.x=(t.x-v)/(p-v)*e[0],t.y=(1-(l.y?t.y/l.y:1))*e[1]}),s}return i.separation=function(t){return arguments.length?(n=t,i):n},i.size=function(t){return arguments.length?(r=null==(e=t),i):r?null:e},i.nodeSize=function(t){return arguments.length?(r=null!=(e=t),i):r?e:null},qo(i,t)},a.layout.treemap=function(){var t,n=a.layout.hierarchy(),e=Math.round,r=[1,1],i=null,u=da,s=!1,l="squarify",c=.5*(1+Math.sqrt(5));function h(t,n){for(var e,r,i=-1,o=t.length;++i<o;)r=(e=t[i]).value*(n<0?0:n),e.area=isNaN(r)||r<=0?0:r}function f(t){var n=t.children;if(n&&n.length){var e,r,i,o=u(t),a=[],s=n.slice(),c=1/0,v="slice"===l?o.dx:"dice"===l?o.dy:"slice-dice"===l?1&t.depth?o.dy:o.dx:Math.min(o.dx,o.dy);for(h(s,o.dx*o.dy/t.value),a.area=0;(i=s.length)>0;)a.push(e=s[i-1]),a.area+=e.area,"squarify"!==l||(r=p(a,v))<=c?(s.pop(),c=r):(a.area-=a.pop().area,g(a,v,o,!1),v=Math.min(o.dx,o.dy),a.length=a.area=0,c=1/0);a.length&&(g(a,v,o,!0),a.length=a.area=0),n.forEach(f)}}function v(t){var n=t.children;if(n&&n.length){var e,r=u(t),i=n.slice(),o=[];for(h(i,r.dx*r.dy/t.value),o.area=0;e=i.pop();)o.push(e),o.area+=e.area,null!=e.z&&(g(o,e.z?r.dx:r.dy,r,!i.length),o.length=o.area=0);n.forEach(v)}}function p(t,n){for(var e,r=t.area,i=0,o=1/0,a=-1,u=t.length;++a<u;)(e=t[a].area)&&(e<o&&(o=e),e>i&&(i=e));return n*=n,(r*=r)?Math.max(n*i*c/r,r/(n*o*c)):1/0}function g(t,n,r,i){var o,a=-1,u=t.length,s=r.x,l=r.y,c=n?e(t.area/n):0;if(n==r.dx){for((i||c>r.dy)&&(c=r.dy);++a<u;)(o=t[a]).x=s,o.y=l,o.dy=c,s+=o.dx=Math.min(r.x+r.dx-s,c?e(o.area/c):0);o.z=!0,o.dx+=r.x+r.dx-s,r.y+=c,r.dy-=c}else{for((i||c>r.dx)&&(c=r.dx);++a<u;)(o=t[a]).x=s,o.y=l,o.dx=c,l+=o.dy=Math.min(r.y+r.dy-l,c?e(o.area/c):0);o.z=!1,o.dy+=r.y+r.dy-l,r.x+=c,r.dx-=c}}function d(e){var i=t||n(e),o=i[0];return o.x=0,o.y=0,o.dx=r[0],o.dy=r[1],t&&n.revalue(o),h([o],o.dx*o.dy/o.value),(t?v:f)(o),s&&(t=i),i}return d.size=function(t){return arguments.length?(r=t,d):r},d.padding=function(t){if(!arguments.length)return i;function n(n){return ya(n,t)}var e;return u=null==(i=t)?da:"function"===(e=o(t))?function(n){var e=t.call(d,n,n.depth);return null==e?da(n):ya(n,"number"==typeof e?[e,e,e,e]:e)}:"number"===e?(t=[t,t,t,t],n):n,d},d.round=function(t){return arguments.length?(e=t?Math.round:Number,d):e!=Number},d.sticky=function(n){return arguments.length?(s=n,t=null,d):s},d.ratio=function(t){return arguments.length?(c=t,d):c},d.mode=function(t){return arguments.length?(l=t+"",d):l},qo(d,n)},a.random={normal:function(t,n){var e=arguments.length;return e<2&&(n=1),e<1&&(t=0),function(){var e,r,i;do{i=(e=2*Math.random()-1)*e+(r=2*Math.random()-1)*r}while(!i||i>1);return t+n*e*Math.sqrt(-2*Math.log(i)/i)}},logNormal:function(){var t=a.random.normal.apply(a,arguments);return function(){return Math.exp(t())}},bates:function(t){var n=a.random.irwinHall(t);return function(){return n()/t}},irwinHall:function(t){return function(){for(var n=0,e=0;e<t;e++)n+=Math.random();return n}}},a.scale={};var Ma={floor:_n,ceil:_n};function ka(t,n,e,r){var i=[],o=[],u=0,s=Math.min(t.length,n.length)-1;for(t[s]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++u<=s;)i.push(e(t[u-1],t[u])),o.push(r(n[u-1],n[u]));return function(n){var e=a.bisect(t,n,1,s)-1;return o[e](i[e](n))}}function _a(t,n){return a.rebind(t,n,"range","rangeRound","interpolate","clamp")}function Sa(t,n){return wa(t,(e=Aa(t,n)[2])?{floor:function(t){return Math.floor(t/e)*e},ceil:function(t){return Math.ceil(t/e)*e}}:Ma);var e}function Aa(t,n){null==n&&(n=10);var e=ma(t),r=e[1]-e[0],i=Math.pow(10,Math.floor(Math.log(r/n)/Math.LN10)),o=n/r*i;return o<=.15?i*=10:o<=.35?i*=5:o<=.75&&(i*=2),e[0]=Math.ceil(e[0]/i)*i,e[1]=Math.floor(e[1]/i)*i+.5*i,e[2]=i,e}function ja(t,n){return a.range.apply(a,Aa(t,n))}function Ea(t,n,e){var r=Aa(t,n);if(e){var i=Rn.exec(e);if(i.shift(),"s"===i[8]){var o=a.formatPrefix(Math.max(M(r[0]),M(r[1])));return i[7]||(i[7]="."+Ca(o.scale(r[2]))),i[8]="f",e=a.format(i.join("")),function(t){return e(o.scale(t))+o.symbol}}i[7]||(i[7]="."+function(t,n){var e=Ca(n[2]);return t in Na?Math.abs(e-Ca(Math.max(M(n[0]),M(n[1]))))+ +("e"!==t):e-2*("%"===t)}(i[8],r)),e=i.join("")}else e=",."+Ca(r[2])+"f";return a.format(e)}a.scale.linear=function(){return function t(n,e,r,i){var o,a;function u(){var t=Math.min(n.length,e.length)>2?ka:ba,u=i?Ao:So;return o=t(n,e,u,r),a=t(e,n,u,io),s}function s(t){return o(t)}s.invert=function(t){return a(t)};s.domain=function(t){return arguments.length?(n=t.map(Number),u()):n};s.range=function(t){return arguments.length?(e=t,u()):e};s.rangeRound=function(t){return s.range(t).interpolate(xo)};s.clamp=function(t){return arguments.length?(i=t,u()):i};s.interpolate=function(t){return arguments.length?(r=t,u()):r};s.ticks=function(t){return ja(n,t)};s.tickFormat=function(t,e){return Ea(n,t,e)};s.nice=function(t){return Sa(n,t),u()};s.copy=function(){return t(n,e,r,i)};return u()}([0,1],[0,1],io,!1)};var Na={s:1,g:1,p:1,r:1,e:1};function Ca(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}a.scale.log=function(){return function t(n,e,r,i){function o(t){return(r?Math.log(t<0?0:t):-Math.log(t>0?0:-t))/Math.log(e)}function u(t){return r?Math.pow(e,t):-Math.pow(e,-t)}function s(t){return n(o(t))}s.invert=function(t){return u(n.invert(t))};s.domain=function(t){return arguments.length?(r=t[0]>=0,n.domain((i=t.map(Number)).map(o)),s):i};s.base=function(t){return arguments.length?(e=+t,n.domain(i.map(o)),s):e};s.nice=function(){var t=wa(i.map(o),r?Math:La);return n.domain(t),i=t.map(u),s};s.ticks=function(){var t=ma(i),n=[],a=t[0],s=t[1],l=Math.floor(o(a)),c=Math.ceil(o(s)),h=e%1?2:e;if(isFinite(c-l)){if(r){for(;l<c;l++)for(var f=1;f<h;f++)n.push(u(l)*f);n.push(u(l))}else for(n.push(u(l));l++<c;)for(var f=h-1;f>0;f--)n.push(u(l)*f);for(l=0;n[l]<a;l++);for(c=n.length;n[c-1]>s;c--);n=n.slice(l,c)}return n};s.tickFormat=function(t,n){if(!arguments.length)return Ta;arguments.length<2?n=Ta:"function"!=typeof n&&(n=a.format(n));var e,i=Math.max(.1,t/s.ticks().length),l=r?(e=1e-12,Math.ceil):(e=-1e-12,Math.floor);return function(t){return t/u(l(o(t)+e))<=i?n(t):""}};s.copy=function(){return t(n.copy(),e,r,i)};return _a(s,n)}(a.scale.linear().domain([0,1]),10,!0,[1,10])};var Ta=a.format(".0e"),La={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};function Oa(t){return function(n){return n<0?-Math.pow(-n,t):Math.pow(n,t)}}a.scale.pow=function(){return function t(n,e,r){var i=Oa(e),o=Oa(1/e);function a(t){return n(i(t))}a.invert=function(t){return o(n.invert(t))};a.domain=function(t){return arguments.length?(n.domain((r=t.map(Number)).map(i)),a):r};a.ticks=function(t){return ja(r,t)};a.tickFormat=function(t,n){return Ea(r,t,n)};a.nice=function(t){return a.domain(Sa(r,t))};a.exponent=function(t){return arguments.length?(i=Oa(e=t),o=Oa(1/e),n.domain(r.map(i)),a):e};a.copy=function(){return t(n.copy(),e,r)};return _a(a,n)}(a.scale.linear(),1,[0,1])},a.scale.sqrt=function(){return a.scale.pow().exponent(.5)},a.scale.ordinal=function(){return function t(n,e){var r,i,o;function u(t){return i[((r.get(t)||("range"===e.t?r.set(t,n.push(t)):NaN))-1)%i.length]}function s(t,e){return a.range(n.length).map(function(n){return t+e*n})}u.domain=function(t){if(!arguments.length)return n;n=[],r=new _;for(var i,o=-1,a=t.length;++o<a;)r.has(i=t[o])||r.set(i,n.push(i));return u[e.t].apply(u,e.a)};u.range=function(t){return arguments.length?(i=t,o=0,e={t:"range",a:arguments},u):i};u.rangePoints=function(t,r){arguments.length<2&&(r=0);var a=t[0],l=t[1],c=(l-a)/(Math.max(1,n.length-1)+r);return i=s(n.length<2?(a+l)/2:a+c*r/2,c),o=0,e={t:"rangePoints",a:arguments},u};u.rangeBands=function(t,r,a){arguments.length<2&&(r=0),arguments.length<3&&(a=r);var l=t[1]<t[0],c=t[l-0],h=t[1-l],f=(h-c)/(n.length-r+2*a);return i=s(c+f*a,f),l&&i.reverse(),o=f*(1-r),e={t:"rangeBands",a:arguments},u};u.rangeRoundBands=function(t,r,a){arguments.length<2&&(r=0),arguments.length<3&&(a=r);var l=t[1]<t[0],c=t[l-0],h=t[1-l],f=Math.floor((h-c)/(n.length-r+2*a)),v=h-c-(n.length-r)*f;return i=s(c+Math.round(v/2),f),l&&i.reverse(),o=Math.round(f*(1-r)),e={t:"rangeRoundBands",a:arguments},u};u.rangeBand=function(){return o};u.rangeExtent=function(){return ma(e.a[0])};u.copy=function(){return t(n,e)};return u.domain(n)}([],{t:"range",a:[[]]})},a.scale.category10=function(){return a.scale.ordinal().range(za)},a.scale.category20=function(){return a.scale.ordinal().range(Pa)},a.scale.category20b=function(){return a.scale.ordinal().range(qa)},a.scale.category20c=function(){return a.scale.ordinal().range(Va)};var za=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(fn),Pa=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(fn),qa=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(fn),Va=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(fn);a.scale.quantile=function(){return function t(n,e){var r;function i(){var t=0,i=e.length;for(r=[];++t<i;)r[t-1]=a.quantile(n,t/i);return o}function o(t){if(!isNaN(t=+t))return e[a.bisect(r,t)]}o.domain=function(t){return arguments.length?(n=t.filter(m).sort(y),i()):n};o.range=function(t){return arguments.length?(e=t,i()):e};o.quantiles=function(){return r};o.invertExtent=function(t){return(t=e.indexOf(t))<0?[NaN,NaN]:[t>0?r[t-1]:n[0],t<r.length?r[t]:n[n.length-1]]};o.copy=function(){return t(n,e)};return i()}([],[])},a.scale.quantize=function(){return function t(n,e,r){var i,o;function a(t){return r[Math.max(0,Math.min(o,Math.floor(i*(t-n))))]}function u(){return i=r.length/(e-n),o=r.length-1,a}a.domain=function(t){return arguments.length?(n=+t[0],e=+t[t.length-1],u()):[n,e]};a.range=function(t){return arguments.length?(r=t,u()):r};a.invertExtent=function(t){return[t=(t=r.indexOf(t))<0?NaN:t/i+n,t+1/i]};a.copy=function(){return t(n,e,r)};return u()}(0,1,[0,1])},a.scale.threshold=function(){return function t(n,e){function r(t){if(t<=t)return e[a.bisect(n,t)]}r.domain=function(t){return arguments.length?(n=t,r):n};r.range=function(t){return arguments.length?(e=t,r):e};r.invertExtent=function(t){return t=e.indexOf(t),[n[t-1],n[t]]};r.copy=function(){return t(n,e)};return r}([.5],[0,1])},a.scale.identity=function(){return function t(n){function e(t){return+t}e.invert=e;e.domain=e.range=function(t){return arguments.length?(n=t.map(e),e):n};e.ticks=function(t){return ja(n,t)};e.tickFormat=function(t,e){return Ea(n,t,e)};e.copy=function(){return t(n)};return e}([0,1])},a.svg={},a.svg.arc=function(){var t=Ia,n=Ua,e=Fa,r=Ha;function i(){var i=t.apply(this,arguments),o=n.apply(this,arguments),a=e.apply(this,arguments)+Da,u=r.apply(this,arguments)+Da,s=(u<a&&(s=a,a=u,u=s),u-a),l=s<St?"0":"1",c=Math.cos(a),h=Math.sin(a),f=Math.cos(u),v=Math.sin(u);return s>=Ra?i?"M0,"+o+"A"+o+","+o+" 0 1,1 0,"+-o+"A"+o+","+o+" 0 1,1 0,"+o+"M0,"+i+"A"+i+","+i+" 0 1,0 0,"+-i+"A"+i+","+i+" 0 1,0 0,"+i+"Z":"M0,"+o+"A"+o+","+o+" 0 1,1 0,"+-o+"A"+o+","+o+" 0 1,1 0,"+o+"Z":i?"M"+o*c+","+o*h+"A"+o+","+o+" 0 "+l+",1 "+o*f+","+o*v+"L"+i*f+","+i*v+"A"+i+","+i+" 0 "+l+",0 "+i*c+","+i*h+"Z":"M"+o*c+","+o*h+"A"+o+","+o+" 0 "+l+",1 "+o*f+","+o*v+"L0,0Z"}return i.innerRadius=function(n){return arguments.length?(t=kn(n),i):t},i.outerRadius=function(t){return arguments.length?(n=kn(t),i):n},i.startAngle=function(t){return arguments.length?(e=kn(t),i):e},i.endAngle=function(t){return arguments.length?(r=kn(t),i):r},i.centroid=function(){var i=(t.apply(this,arguments)+n.apply(this,arguments))/2,o=(e.apply(this,arguments)+r.apply(this,arguments))/2+Da;return[Math.cos(o)*i,Math.sin(o)*i]},i};var Da=-jt,Ra=At-Et;function Ia(t){return t.innerRadius}function Ua(t){return t.outerRadius}function Fa(t){return t.startAngle}function Ha(t){return t.endAngle}function Ga(t){var n=ci,e=hi,r=nr,i=Wa,o=i.key,a=.7;function u(o){var u,s=[],l=[],c=-1,h=o.length,f=kn(n),v=kn(e);function p(){s.push("M",i(t(l),a))}for(;++c<h;)r.call(this,u=o[c],c)?l.push([+f.call(this,u,c),+v.call(this,u,c)]):l.length&&(p(),l=[]);return l.length&&p(),s.length?s.join(""):null}return u.x=function(t){return arguments.length?(n=t,u):n},u.y=function(t){return arguments.length?(e=t,u):e},u.defined=function(t){return arguments.length?(r=t,u):r},u.interpolate=function(t){return arguments.length?(o="function"==typeof t?i=t:(i=Ya.get(t)||Wa).key,u):o},u.tension=function(t){return arguments.length?(a=t,u):a},u}a.svg.line=function(){return Ga(_n)};var Ya=a.map({linear:Wa,"linear-closed":function(t){return Wa(t)+"Z"},step:function(t){var n=0,e=t.length,r=t[0],i=[r[0],",",r[1]];for(;++n<e;)i.push("H",(r[0]+(r=t[n])[0])/2,"V",r[1]);e>1&&i.push("H",r[0]);return i.join("")},"step-before":Ba,"step-after":Xa,basis:Ja,"basis-open":function(t){if(t.length<4)return Wa(t);var n,e=[],r=-1,i=t.length,o=[0],a=[0];for(;++r<3;)n=t[r],o.push(n[0]),a.push(n[1]);e.push(Ka(nu,o)+","+Ka(nu,a)),--r;for(;++r<i;)n=t[r],o.shift(),o.push(n[0]),a.shift(),a.push(n[1]),eu(e,o,a);return e.join("")},"basis-closed":function(t){var n,e,r=-1,i=t.length,o=i+4,a=[],u=[];for(;++r<4;)e=t[r%i],a.push(e[0]),u.push(e[1]);n=[Ka(nu,a),",",Ka(nu,u)],--r;for(;++r<o;)e=t[r%i],a.shift(),a.push(e[0]),u.shift(),u.push(e[1]),eu(n,a,u);return n.join("")},bundle:function(t,n){var e=t.length-1;if(e)for(var r,i,o=t[0][0],a=t[0][1],u=t[e][0]-o,s=t[e][1]-a,l=-1;++l<=e;)r=t[l],i=l/e,r[0]=n*r[0]+(1-n)*(o+i*u),r[1]=n*r[1]+(1-n)*(a+i*s);return Ja(t)},cardinal:function(t,n){return t.length<3?Wa(t):t[0]+Za(t,$a(t,n))},"cardinal-open":function(t,n){return t.length<4?Wa(t):t[1]+Za(t.slice(1,t.length-1),$a(t,n))},"cardinal-closed":function(t,n){return t.length<3?Wa(t):t[0]+Za((t.push(t[0]),t),$a([t[t.length-2]].concat(t,[t[1]]),n))},monotone:function(t){return t.length<3?Wa(t):t[0]+Za(t,function(t){var n,e,r,i,o=[],a=function(t){var n=0,e=t.length-1,r=[],i=t[0],o=t[1],a=r[0]=ru(i,o);for(;++n<e;)r[n]=(a+(a=ru(i=o,o=t[n+1])))/2;return r[n]=a,r}(t),u=-1,s=t.length-1;for(;++u<s;)n=ru(t[u],t[u+1]),M(n)<Et?a[u]=a[u+1]=0:(e=a[u]/n,r=a[u+1]/n,(i=e*e+r*r)>9&&(i=3*n/Math.sqrt(i),a[u]=i*e,a[u+1]=i*r));u=-1;for(;++u<=s;)i=(t[Math.min(s,u+1)][0]-t[Math.max(0,u-1)][0])/(6*(1+a[u]*a[u])),o.push([i||0,a[u]*i||0]);return o}(t))}});function Wa(t){return t.join("L")}function Ba(t){for(var n=0,e=t.length,r=t[0],i=[r[0],",",r[1]];++n<e;)i.push("V",(r=t[n])[1],"H",r[0]);return i.join("")}function Xa(t){for(var n=0,e=t.length,r=t[0],i=[r[0],",",r[1]];++n<e;)i.push("H",(r=t[n])[0],"V",r[1]);return i.join("")}function Za(t,n){if(n.length<1||t.length!=n.length&&t.length!=n.length+2)return Wa(t);var e=t.length!=n.length,r="",i=t[0],o=t[1],a=n[0],u=a,s=1;if(e&&(r+="Q"+(o[0]-2*a[0]/3)+","+(o[1]-2*a[1]/3)+","+o[0]+","+o[1],i=t[1],s=2),n.length>1){u=n[1],o=t[s],s++,r+="C"+(i[0]+a[0])+","+(i[1]+a[1])+","+(o[0]-u[0])+","+(o[1]-u[1])+","+o[0]+","+o[1];for(var l=2;l<n.length;l++,s++)o=t[s],u=n[l],r+="S"+(o[0]-u[0])+","+(o[1]-u[1])+","+o[0]+","+o[1]}if(e){var c=t[s];r+="Q"+(o[0]+2*u[0]/3)+","+(o[1]+2*u[1]/3)+","+c[0]+","+c[1]}return r}function $a(t,n){for(var e,r=[],i=(1-n)/2,o=t[0],a=t[1],u=1,s=t.length;++u<s;)e=o,o=a,a=t[u],r.push([i*(a[0]-e[0]),i*(a[1]-e[1])]);return r}function Ja(t){if(t.length<3)return Wa(t);var n=1,e=t.length,r=t[0],i=r[0],o=r[1],a=[i,i,i,(r=t[1])[0]],u=[o,o,o,r[1]],s=[i,",",o,"L",Ka(nu,a),",",Ka(nu,u)];for(t.push(t[e-1]);++n<=e;)r=t[n],a.shift(),a.push(r[0]),u.shift(),u.push(r[1]),eu(s,a,u);return t.pop(),s.push("L",r),s.join("")}function Ka(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]+t[3]*n[3]}Ya.forEach(function(t,n){n.key=t,n.closed=/-closed$/.test(t)});var Qa=[0,2/3,1/3,0],tu=[0,1/3,2/3,0],nu=[0,1/6,2/3,1/6];function eu(t,n,e){t.push("C",Ka(Qa,n),",",Ka(Qa,e),",",Ka(tu,n),",",Ka(tu,e),",",Ka(nu,n),",",Ka(nu,e))}function ru(t,n){return(n[1]-t[1])/(n[0]-t[0])}function iu(t){for(var n,e,r,i=-1,o=t.length;++i<o;)e=(n=t[i])[0],r=n[1]+Da,n[0]=e*Math.cos(r),n[1]=e*Math.sin(r);return t}function ou(t){var n=ci,e=ci,r=0,i=hi,o=nr,a=Wa,u=a.key,s=a,l="L",c=.7;function h(u){var h,f,v,p=[],g=[],d=[],y=-1,m=u.length,x=kn(n),b=kn(r),w=n===e?function(){return f}:kn(e),M=r===i?function(){return v}:kn(i);function k(){p.push("M",a(t(d),c),l,s(t(g.reverse()),c),"Z")}for(;++y<m;)o.call(this,h=u[y],y)?(g.push([f=+x.call(this,h,y),v=+b.call(this,h,y)]),d.push([+w.call(this,h,y),+M.call(this,h,y)])):g.length&&(k(),g=[],d=[]);return g.length&&k(),p.length?p.join(""):null}return h.x=function(t){return arguments.length?(n=e=t,h):e},h.x0=function(t){return arguments.length?(n=t,h):n},h.x1=function(t){return arguments.length?(e=t,h):e},h.y=function(t){return arguments.length?(r=i=t,h):i},h.y0=function(t){return arguments.length?(r=t,h):r},h.y1=function(t){return arguments.length?(i=t,h):i},h.defined=function(t){return arguments.length?(o=t,h):o},h.interpolate=function(t){return arguments.length?(u="function"==typeof t?a=t:(a=Ya.get(t)||Wa).key,s=a.reverse||a,l=a.closed?"M":"L",h):u},h.tension=function(t){return arguments.length?(c=t,h):c},h}function au(t){return t.radius}function uu(t){return[t.x,t.y]}function su(){return 64}function lu(){return"circle"}function cu(t){var n=Math.sqrt(t/St);return"M0,"+n+"A"+n+","+n+" 0 1,1 0,"+-n+"A"+n+","+n+" 0 1,1 0,"+n+"Z"}a.svg.line.radial=function(){var t=Ga(iu);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},Ba.reverse=Xa,Xa.reverse=Ba,a.svg.area=function(){return ou(_n)},a.svg.area.radial=function(){var t=ou(iu);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},a.svg.chord=function(){var t=$r,n=Jr,e=au,r=Fa,i=Ha;function o(e,r){var i,o,l=a(this,t,e,r),c=a(this,n,e,r);return"M"+l.p0+u(l.r,l.p1,l.a1-l.a0)+(o=c,(i=l).a0==o.a0&&i.a1==o.a1?s(l.r,l.p1,l.r,l.p0):s(l.r,l.p1,c.r,c.p0)+u(c.r,c.p1,c.a1-c.a0)+s(c.r,c.p1,l.r,l.p0))+"Z"}function a(t,n,o,a){var u=n.call(t,o,a),s=e.call(t,u,a),l=r.call(t,u,a)+Da,c=i.call(t,u,a)+Da;return{r:s,a0:l,a1:c,p0:[s*Math.cos(l),s*Math.sin(l)],p1:[s*Math.cos(c),s*Math.sin(c)]}}function u(t,n,e){return"A"+t+","+t+" 0 "+ +(e>St)+",1 "+n}function s(t,n,e,r){return"Q 0,0 "+r}return o.radius=function(t){return arguments.length?(e=kn(t),o):e},o.source=function(n){return arguments.length?(t=kn(n),o):t},o.target=function(t){return arguments.length?(n=kn(t),o):n},o.startAngle=function(t){return arguments.length?(r=kn(t),o):r},o.endAngle=function(t){return arguments.length?(i=kn(t),o):i},o},a.svg.diagonal=function(){var t=$r,n=Jr,e=uu;function r(r,i){var o=t.call(this,r,i),a=n.call(this,r,i),u=(o.y+a.y)/2,s=[o,{x:o.x,y:u},{x:a.x,y:u},a];return"M"+(s=s.map(e))[0]+"C"+s[1]+" "+s[2]+" "+s[3]}return r.source=function(n){return arguments.length?(t=kn(n),r):t},r.target=function(t){return arguments.length?(n=kn(t),r):n},r.projection=function(t){return arguments.length?(e=t,r):e},r},a.svg.diagonal.radial=function(){var t=a.svg.diagonal(),n=uu,e=t.projection;return t.projection=function(t){return arguments.length?e(function(t){return function(){var n=t.apply(this,arguments),e=n[0],r=n[1]+Da;return[e*Math.cos(r),e*Math.sin(r)]}}(n=t)):n},t},a.svg.symbol=function(){var t=lu,n=su;function e(e,r){return(hu.get(t.call(this,e,r))||cu)(n.call(this,e,r))}return e.type=function(n){return arguments.length?(t=kn(n),e):t},e.size=function(t){return arguments.length?(n=kn(t),e):n},e};var hu=a.map({circle:cu,cross:function(t){var n=Math.sqrt(t/5)/2;return"M"+-3*n+","+-n+"H"+-n+"V"+-3*n+"H"+n+"V"+-n+"H"+3*n+"V"+n+"H"+n+"V"+3*n+"H"+-n+"V"+n+"H"+-3*n+"Z"},diamond:function(t){var n=Math.sqrt(t/(2*vu)),e=n*vu;return"M0,"+-n+"L"+e+",0 0,"+n+" "+-e+",0Z"},square:function(t){var n=Math.sqrt(t)/2;return"M"+-n+","+-n+"L"+n+","+-n+" "+n+","+n+" "+-n+","+n+"Z"},"triangle-down":function(t){var n=Math.sqrt(t/fu),e=n*fu/2;return"M0,"+e+"L"+n+","+-e+" "+-n+","+-e+"Z"},"triangle-up":function(t){var n=Math.sqrt(t/fu),e=n*fu/2;return"M0,"+-e+"L"+n+","+e+" "+-n+","+e+"Z"}});a.svg.symbolTypes=hu.keys();var fu=Math.sqrt(3),vu=Math.tan(30*Ct);function pu(t,n){return F(t,yu),t.id=n,t}var gu,du,yu=[],mu=0;function xu(t,n,e,r){var i=t.id;return lt(t,"function"==typeof e?function(t,o,a){t.__transition__[i].tween.set(n,r(e.call(t,t.__data__,o,a)))}:(e=r(e),function(t){t.__transition__[i].tween.set(n,e)}))}function bu(t){return null==t&&(t=""),function(){this.textContent=t}}function wu(t,n,e,r){var i=t.__transition__||(t.__transition__={active:0,count:0}),o=i[e];if(!o){var u=r.time;o=i[e]={tween:new _,time:u,ease:r.ease,delay:r.delay,duration:r.duration},++i.count,a.timer(function(r){var s=t.__data__,l=o.ease,c=o.delay,h=o.duration,f=Tn,v=[];if(f.t=c+u,c<=r)return p(r-c);function p(r){if(i.active>e)return d();i.active=e,o.event&&o.event.start.call(t,s,n),o.tween.forEach(function(e,r){(r=r.call(t,s,n))&&v.push(r)}),a.timer(function(){return f.c=g(r||1)?nr:g,1},0,u)}function g(r){if(i.active!==e)return d();for(var a=r/h,u=l(a),c=v.length;c>0;)v[--c].call(t,u);return a>=1?(o.event&&o.event.end.call(t,s,n),d()):void 0}function d(){return--i.count?delete i[e]:delete t.__transition__,1}f.c=p},0,u)}}yu.call=X.call,yu.empty=X.empty,yu.node=X.node,yu.size=X.size,a.transition=function(t){return arguments.length?gu?t.transition():t:vt.transition()},a.transition.prototype=yu,yu.select=function(t){var n,e,r,i=this.id,o=[];t=Z(t);for(var a=-1,u=this.length;++a<u;){o.push(n=[]);for(var s=this[a],l=-1,c=s.length;++l<c;)(r=s[l])&&(e=t.call(r,r.__data__,l,a))?("__data__"in r&&(e.__data__=r.__data__),wu(e,l,i,r.__transition__[i]),n.push(e)):n.push(null)}return pu(o,i)},yu.selectAll=function(t){var n,e,r,i,o,a=this.id,u=[];t=$(t);for(var s=-1,l=this.length;++s<l;)for(var c=this[s],h=-1,f=c.length;++h<f;)if(r=c[h]){o=r.__transition__[a],e=t.call(r,r.__data__,h,s),u.push(n=[]);for(var v=-1,p=e.length;++v<p;)(i=e[v])&&wu(i,v,a,o),n.push(i)}return pu(u,a)},yu.filter=function(t){var n,e,r=[];"function"!=typeof t&&(t=st(t));for(var i=0,o=this.length;i<o;i++){r.push(n=[]);for(var a,u=0,s=(a=this[i]).length;u<s;u++)(e=a[u])&&t.call(e,e.__data__,u,i)&&n.push(e)}return pu(r,this.id)},yu.tween=function(t,n){var e=this.id;return arguments.length<2?this.node().__transition__[e].tween.get(t):lt(this,null==n?function(n){n.__transition__[e].tween.remove(t)}:function(r){r.__transition__[e].tween.set(t,n)})},yu.attr=function(t,n){if(arguments.length<2){for(n in t)this.attr(n,t[n]);return this}var e="transform"==t?_o:io,r=a.ns.qualify(t);function i(){this.removeAttribute(r)}function o(){this.removeAttributeNS(r.space,r.local)}return xu(this,"attr."+t,n,r.local?function(t){return null==t?o:(t+="",function(){var n,i=this.getAttributeNS(r.space,r.local);return i!==t&&(n=e(i,t),function(t){this.setAttributeNS(r.space,r.local,n(t))})})}:function(t){return null==t?i:(t+="",function(){var n,i=this.getAttribute(r);return i!==t&&(n=e(i,t),function(t){this.setAttribute(r,n(t))})})})},yu.attrTween=function(t,n){var e=a.ns.qualify(t);return this.tween("attr."+t,e.local?function(t,r){var i=n.call(this,t,r,this.getAttributeNS(e.space,e.local));return i&&function(t){this.setAttributeNS(e.space,e.local,i(t))}}:function(t,r){var i=n.call(this,t,r,this.getAttribute(e));return i&&function(t){this.setAttribute(e,i(t))}})},yu.style=function(t,n,e){var r=arguments.length;if(r<3){if("string"!=typeof t){for(e in r<2&&(n=""),t)this.style(e,t[e],n);return this}e=""}function i(){this.style.removeProperty(t)}return xu(this,"style."+t,n,function(n){return null==n?i:(n+="",function(){var r,i=h.getComputedStyle(this,null).getPropertyValue(t);return i!==n&&(r=io(i,n),function(n){this.style.setProperty(t,r(n),e)})})})},yu.styleTween=function(t,n,e){return arguments.length<3&&(e=""),this.tween("style."+t,function(r,i){var o=n.call(this,r,i,h.getComputedStyle(this,null).getPropertyValue(t));return o&&function(n){this.style.setProperty(t,o(n),e)}})},yu.text=function(t){return xu(this,"text",t,bu)},yu.remove=function(){return this.each("end.transition",function(){var t;this.__transition__.count<2&&(t=this.parentNode)&&t.removeChild(this)})},yu.ease=function(t){var n=this.id;return arguments.length<1?this.node().__transition__[n].ease:("function"!=typeof t&&(t=a.ease.apply(a,arguments)),lt(this,function(e){e.__transition__[n].ease=t}))},yu.delay=function(t){var n=this.id;return arguments.length<1?this.node().__transition__[n].delay:lt(this,"function"==typeof t?function(e,r,i){e.__transition__[n].delay=+t.call(e,e.__data__,r,i)}:(t=+t,function(e){e.__transition__[n].delay=t}))},yu.duration=function(t){var n=this.id;return arguments.length<1?this.node().__transition__[n].duration:lt(this,"function"==typeof t?function(e,r,i){e.__transition__[n].duration=Math.max(1,t.call(e,e.__data__,r,i))}:(t=Math.max(1,t),function(e){e.__transition__[n].duration=t}))},yu.each=function(t,n){var e=this.id;if(arguments.length<2){var r=du,i=gu;gu=e,lt(this,function(n,r,i){du=n.__transition__[e],t.call(n,n.__data__,r,i)}),du=r,gu=i}else lt(this,function(r){var i=r.__transition__[e];(i.event||(i.event=a.dispatch("start","end"))).on(t,n)});return this},yu.transition=function(){for(var t,n,e,r=this.id,i=++mu,o=[],a=0,u=this.length;a<u;a++){o.push(t=[]);for(var s,l=0,c=(s=this[a]).length;l<c;l++)(n=s[l])&&((e=Object.create(n.__transition__[r])).delay+=e.duration,wu(n,l,i,e)),t.push(n)}return pu(o,i)},a.svg.axis=function(){var t,n=a.scale.linear(),e=Mu,r=6,i=6,o=3,u=[10],s=null;function l(l){l.each(function(){var l,c=a.select(this),h=this.__chart__||n,f=this.__chart__=n.copy(),v=null==s?f.ticks?f.ticks.apply(f,u):f.domain():s,p=null==t?f.tickFormat?f.tickFormat.apply(f,u):_n:t,g=c.selectAll(".tick").data(v,f),d=g.enter().insert("g",".domain").attr("class","tick").style("opacity",Et),y=a.transition(g.exit()).style("opacity",Et).remove(),m=a.transition(g.order()).style("opacity",1),x=xa(f),b=c.selectAll(".domain").data([0]),w=(b.enter().append("path").attr("class","domain"),a.transition(b));d.append("line"),d.append("text");var M=d.select("line"),k=m.select("line"),_=g.select("text").text(p),S=d.select("text"),A=m.select("text");switch(e){case"bottom":l=_u,M.attr("y2",r),S.attr("y",Math.max(r,0)+o),k.attr("x2",0).attr("y2",r),A.attr("x",0).attr("y",Math.max(r,0)+o),_.attr("dy",".71em").style("text-anchor","middle"),w.attr("d","M"+x[0]+","+i+"V0H"+x[1]+"V"+i);break;case"top":l=_u,M.attr("y2",-r),S.attr("y",-(Math.max(r,0)+o)),k.attr("x2",0).attr("y2",-r),A.attr("x",0).attr("y",-(Math.max(r,0)+o)),_.attr("dy","0em").style("text-anchor","middle"),w.attr("d","M"+x[0]+","+-i+"V0H"+x[1]+"V"+-i);break;case"left":l=Su,M.attr("x2",-r),S.attr("x",-(Math.max(r,0)+o)),k.attr("x2",-r).attr("y2",0),A.attr("x",-(Math.max(r,0)+o)).attr("y",0),_.attr("dy",".32em").style("text-anchor","end"),w.attr("d","M"+-i+","+x[0]+"H0V"+x[1]+"H"+-i);break;case"right":l=Su,M.attr("x2",r),S.attr("x",Math.max(r,0)+o),k.attr("x2",r).attr("y2",0),A.attr("x",Math.max(r,0)+o).attr("y",0),_.attr("dy",".32em").style("text-anchor","start"),w.attr("d","M"+i+","+x[0]+"H0V"+x[1]+"H"+i)}if(f.rangeBand){var j=f,E=j.rangeBand()/2;h=f=function(t){return j(t)+E}}else h.rangeBand?h=f:y.call(l,f);d.call(l,h),m.call(l,f)})}return l.scale=function(t){return arguments.length?(n=t,l):n},l.orient=function(t){return arguments.length?(e=t in ku?t+"":Mu,l):e},l.ticks=function(){return arguments.length?(u=arguments,l):u},l.tickValues=function(t){return arguments.length?(s=t,l):s},l.tickFormat=function(n){return arguments.length?(t=n,l):t},l.tickSize=function(t){var n=arguments.length;return n?(r=+t,i=+arguments[n-1],l):r},l.innerTickSize=function(t){return arguments.length?(r=+t,l):r},l.outerTickSize=function(t){return arguments.length?(i=+t,l):i},l.tickPadding=function(t){return arguments.length?(o=+t,l):o},l.tickSubdivide=function(){return arguments.length&&l},l};var Mu="bottom",ku={top:1,right:1,bottom:1,left:1};function _u(t,n){t.attr("transform",function(t){return"translate("+n(t)+",0)"})}function Su(t,n){t.attr("transform",function(t){return"translate(0,"+n(t)+")"})}a.svg.brush=function(){var t,n,e=I(f,"brushstart","brush","brushend"),r=null,i=null,o=[0,0],u=[0,0],s=!0,l=!0,c=ju[0];function f(t){t.each(function(){var t=a.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",d).on("touchstart.brush",d),n=t.selectAll(".background").data([0]);n.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),t.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var e=t.selectAll(".resize").data(c,_n);e.exit().remove(),e.enter().append("g").attr("class",function(t){return"resize "+t}).style("cursor",function(t){return Au[t]}).append("rect").attr("x",function(t){return/[ew]$/.test(t)?-3:null}).attr("y",function(t){return/^[ns]/.test(t)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),e.style("display",f.empty()?"none":null);var o,u=a.transition(t),s=a.transition(n);r&&(o=xa(r),s.attr("x",o[0]).attr("width",o[1]-o[0]),p(u)),i&&(o=xa(i),s.attr("y",o[0]).attr("height",o[1]-o[0]),g(u)),v(u)})}function v(t){t.selectAll(".resize").attr("transform",function(t){return"translate("+o[+/e$/.test(t)]+","+u[+/^s/.test(t)]+")"})}function p(t){t.select(".extent").attr("x",o[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",o[1]-o[0])}function g(t){t.select(".extent").attr("y",u[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",u[1]-u[0])}function d(){var c,d,y=this,m=a.select(a.event.target),x=e.of(y,arguments),b=a.select(y),w=m.datum(),M=!/^(n|s)$/.test(w)&&r,k=!/^(e|w)$/.test(w)&&i,_=m.classed("extent"),S=bt(),A=a.mouse(y),j=a.select(h).on("keydown.brush",function(){32==a.event.keyCode&&(_||(c=null,A[0]-=o[1],A[1]-=u[1],_=2),D())}).on("keyup.brush",function(){32==a.event.keyCode&&2==_&&(A[0]+=o[1],A[1]+=u[1],_=0,D())});if(a.event.changedTouches?j.on("touchmove.brush",C).on("touchend.brush",L):j.on("mousemove.brush",C).on("mouseup.brush",L),b.interrupt().selectAll("*").interrupt(),_)A[0]=o[0]-A[0],A[1]=u[0]-A[1];else if(w){var E=+/w$/.test(w),N=+/^n/.test(w);d=[o[1-E]-A[0],u[1-N]-A[1]],A[0]=o[E],A[1]=u[N]}else a.event.altKey&&(c=A.slice());function C(){var t=a.mouse(y),n=!1;d&&(t[0]+=d[0],t[1]+=d[1]),_||(a.event.altKey?(c||(c=[(o[0]+o[1])/2,(u[0]+u[1])/2]),A[0]=o[+(t[0]<c[0])],A[1]=u[+(t[1]<c[1])]):c=null),M&&T(t,r,0)&&(p(b),n=!0),k&&T(t,i,1)&&(g(b),n=!0),n&&(v(b),x({type:"brush",mode:_?"move":"resize"}))}function T(e,r,i){var a,h,f=xa(r),v=f[0],p=f[1],g=A[i],d=i?u:o,y=d[1]-d[0];if(_&&(v-=g,p-=y+g),a=(i?l:s)?Math.max(v,Math.min(p,e[i])):e[i],_?h=(a+=g)+y:(c&&(g=Math.max(v,Math.min(p,2*c[i]-a))),g<a?(h=a,a=g):h=g),d[0]!=a||d[1]!=h)return i?n=null:t=null,d[0]=a,d[1]=h,!0}function L(){C(),b.style("pointer-events","all").selectAll(".resize").style("display",f.empty()?"none":null),a.select("body").style("cursor",null),j.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),S(),x({type:"brushend"})}b.style("pointer-events","none").selectAll(".resize").style("display",null),a.select("body").style("cursor",m.style("cursor")),x({type:"brushstart"}),C()}return f.event=function(r){r.each(function(){var r=e.of(this,arguments),i={x:o,y:u,i:t,j:n},s=this.__chart__||i;this.__chart__=i,gu?a.select(this).transition().each("start.brush",function(){t=s.i,n=s.j,o=s.x,u=s.y,r({type:"brushstart"})}).tween("brush:brush",function(){var e=oo(o,i.x),a=oo(u,i.y);return t=n=null,function(t){o=i.x=e(t),u=i.y=a(t),r({type:"brush",mode:"resize"})}}).each("end.brush",function(){t=i.i,n=i.j,r({type:"brush",mode:"resize"}),r({type:"brushend"})}):(r({type:"brushstart"}),r({type:"brush",mode:"resize"}),r({type:"brushend"}))})},f.x=function(t){return arguments.length?(c=ju[!(r=t)<<1|!i],f):r},f.y=function(t){return arguments.length?(c=ju[!r<<1|!(i=t)],f):i},f.clamp=function(t){return arguments.length?(r&&i?(s=!!t[0],l=!!t[1]):r?s=!!t:i&&(l=!!t),f):r&&i?[s,l]:r?s:i?l:null},f.extent=function(e){var a,s,l,c,h;return arguments.length?(r&&(a=e[0],s=e[1],i&&(a=a[0],s=s[0]),t=[a,s],r.invert&&(a=r(a),s=r(s)),s<a&&(h=a,a=s,s=h),a==o[0]&&s==o[1]||(o=[a,s])),i&&(l=e[0],c=e[1],r&&(l=l[1],c=c[1]),n=[l,c],i.invert&&(l=i(l),c=i(c)),c<l&&(h=l,l=c,c=h),l==u[0]&&c==u[1]||(u=[l,c])),f):(r&&(t?(a=t[0],s=t[1]):(a=o[0],s=o[1],r.invert&&(a=r.invert(a),s=r.invert(s)),s<a&&(h=a,a=s,s=h))),i&&(n?(l=n[0],c=n[1]):(l=u[0],c=u[1],i.invert&&(l=i.invert(l),c=i.invert(c)),c<l&&(h=l,l=c,c=h))),r&&i?[[a,l],[s,c]]:r?[a,s]:i&&[l,c])},f.clear=function(){return f.empty()||(o=[0,0],u=[0,0],t=n=null),f},f.empty=function(){return!!r&&o[0]==o[1]||!!i&&u[0]==u[1]},a.rebind(f,e,"on")};var Au={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},ju=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Eu=Fn.format=ye.timeFormat,Nu=Eu.utc,Cu=Nu("%Y-%m-%dT%H:%M:%S.%LZ");function Tu(t){return t.toISOString()}function Lu(t,n,e){function r(n){return t(n)}function i(t,e){var r=(t[1]-t[0])/e,i=a.bisect(zu,r);return i==zu.length?[n.year,Aa(t.map(function(t){return t/31536e6}),e)[2]]:i?n[r/zu[i-1]<zu[i]/r?i-1:i]:[Vu,Aa(t,e)[2]]}return r.invert=function(n){return Ou(t.invert(n))},r.domain=function(n){return arguments.length?(t.domain(n),r):t.domain().map(Ou)},r.nice=function(t,n){var e=r.domain(),o=ma(e),a=null==t?i(o,10):"number"==typeof t&&i(o,t);function u(e){return!isNaN(e)&&!t.range(e,Ou(+e+1),n).length}return a&&(t=a[0],n=a[1]),r.domain(wa(e,n>1?{floor:function(n){for(;u(n=t.floor(n));)n=Ou(n-1);return n},ceil:function(n){for(;u(n=t.ceil(n));)n=Ou(+n+1);return n}}:t))},r.ticks=function(t,n){var e=ma(r.domain()),o=null==t?i(e,10):"number"==typeof t?i(e,t):!t.range&&[{range:t},n];return o&&(t=o[0],n=o[1]),t.range(e[0],Ou(+e[1]+1),n<1?1:n)},r.tickFormat=function(){return e},r.copy=function(){return Lu(t.copy(),n,e)},_a(r,t)}function Ou(t){return new Date(t)}Eu.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Tu:Cu,Tu.parse=function(t){var n=new Date(t);return isNaN(n)?null:n},Tu.toString=Cu.toString,Fn.second=Wn(function(t){return new Hn(1e3*Math.floor(t/1e3))},function(t,n){t.setTime(t.getTime()+1e3*Math.floor(n))},function(t){return t.getSeconds()}),Fn.seconds=Fn.second.range,Fn.seconds.utc=Fn.second.utc.range,Fn.minute=Wn(function(t){return new Hn(6e4*Math.floor(t/6e4))},function(t,n){t.setTime(t.getTime()+6e4*Math.floor(n))},function(t){return t.getMinutes()}),Fn.minutes=Fn.minute.range,Fn.minutes.utc=Fn.minute.utc.range,Fn.hour=Wn(function(t){var n=t.getTimezoneOffset()/60;return new Hn(36e5*(Math.floor(t/36e5-n)+n))},function(t,n){t.setTime(t.getTime()+36e5*Math.floor(n))},function(t){return t.getHours()}),Fn.hours=Fn.hour.range,Fn.hours.utc=Fn.hour.utc.range,Fn.month=Wn(function(t){return(t=Fn.day(t)).setDate(1),t},function(t,n){t.setMonth(t.getMonth()+n)},function(t){return t.getMonth()}),Fn.months=Fn.month.range,Fn.months.utc=Fn.month.utc.range;var zu=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Pu=[[Fn.second,1],[Fn.second,5],[Fn.second,15],[Fn.second,30],[Fn.minute,1],[Fn.minute,5],[Fn.minute,15],[Fn.minute,30],[Fn.hour,1],[Fn.hour,3],[Fn.hour,6],[Fn.hour,12],[Fn.day,1],[Fn.day,2],[Fn.week,1],[Fn.month,1],[Fn.month,3],[Fn.year,1]],qu=Eu.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",nr]]),Vu={range:function(t,n,e){return a.range(Math.ceil(t/e)*e,+n,e).map(Ou)},floor:_n,ceil:_n};Pu.year=Fn.year,Fn.scale=function(){return Lu(a.scale.linear(),Pu,qu)};var Du=Pu.map(function(t){return[t[0].utc,t[1]]}),Ru=Nu.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],["%b %d",function(t){return 1!=t.getUTCDate()}],["%B",function(t){return t.getUTCMonth()}],["%Y",nr]]);function Iu(t){return JSON.parse(t.responseText)}function Uu(t){var n=l.createRange();return n.selectNode(l.body),n.createContextualFragment(t.responseText)}Du.year=Fn.year.utc,Fn.scale.utc=function(){return Lu(a.scale.linear(),Du,Ru)},a.text=Sn(function(t){return t.responseText}),a.json=function(t,n){return An(t,"application/json",Iu,n)},a.html=function(t,n){return An(t,"text/html",Uu,n)},a.xml=Sn(function(t){return t.responseXML}),void 0===(i="function"==typeof(r=a)?r.call(n,e,n,t):r)||(t.exports=i)}()},46:function(t,n,e){(function(e){var i,o,a,u,s;function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}s=function(){return function t(n,e,r){function i(a,s){if(!e[a]){if(!n[a]){if(!s&&("function"==typeof u&&u))return u(a,!0);if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=e[a]={exports:{}};n[a][0].call(c.exports,function(t){var e=n[a][1][t];return i(e||t)},c,c.exports,t,n,e,r)}return e[a].exports}for(var o="function"==typeof u&&u,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(t,n,e){},{}],2:[function(t,n,e){function i(t){var n,e,r=t[0]/255,i=t[1]/255,o=t[2]/255,a=Math.min(r,i,o),u=Math.max(r,i,o),s=u-a;return u==a?n=0:r==u?n=(i-o)/s:i==u?n=2+(o-r)/s:o==u&&(n=4+(r-i)/s),(n=Math.min(60*n,360))<0&&(n+=360),e=(a+u)/2,[n,100*(u==a?0:e<=.5?s/(u+a):s/(2-u-a)),100*e]}function o(t){var n,e,r=t[0],i=t[1],o=t[2],a=Math.min(r,i,o),u=Math.max(r,i,o),s=u-a;return e=0==u?0:s/u*1e3/10,u==a?n=0:r==u?n=(i-o)/s:i==u?n=2+(o-r)/s:o==u&&(n=4+(r-i)/s),(n=Math.min(60*n,360))<0&&(n+=360),[n,e,u/255*1e3/10]}function a(t){var n=t[0],e=t[1],r=t[2];return[i(t)[0],100*(1/255*Math.min(n,Math.min(e,r))),100*(r=1-1/255*Math.max(n,Math.max(e,r)))]}function u(t){var n,e=t[0]/255,r=t[1]/255,i=t[2]/255;return[100*((1-e-(n=Math.min(1-e,1-r,1-i)))/(1-n)||0),100*((1-r-n)/(1-n)||0),100*((1-i-n)/(1-n)||0),100*n]}function s(t){return S[JSON.stringify(t)]}function l(t){var n=t[0]/255,e=t[1]/255,r=t[2]/255;return[100*(.4124*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)+.3576*(e=e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92)+.1805*(r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92)),100*(.2126*n+.7152*e+.0722*r),100*(.0193*n+.1192*e+.9505*r)]}function c(t){var n=l(t),e=n[0],r=n[1],i=n[2];return r/=100,i/=108.883,e=(e/=95.047)>.008856?Math.pow(e,1/3):7.787*e+16/116,[116*(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116)-16,500*(e-r),200*(r-(i=i>.008856?Math.pow(i,1/3):7.787*i+16/116))]}function h(t){var n,e,r,i,o,a=t[0]/360,u=t[1]/100,s=t[2]/100;if(0==u)return[o=255*s,o,o];n=2*s-(e=s<.5?s*(1+u):s+u-s*u),i=[0,0,0];for(var l=0;l<3;l++)(r=a+1/3*-(l-1))<0&&r++,r>1&&r--,o=6*r<1?n+6*(e-n)*r:2*r<1?e:3*r<2?n+(e-n)*(2/3-r)*6:n,i[l]=255*o;return i}function f(t){var n=t[0]/60,e=t[1]/100,r=t[2]/100,i=Math.floor(n)%6,o=n-Math.floor(n),a=255*r*(1-e),u=255*r*(1-e*o),s=255*r*(1-e*(1-o));r*=255;switch(i){case 0:return[r,s,a];case 1:return[u,r,a];case 2:return[a,r,s];case 3:return[a,u,r];case 4:return[s,a,r];case 5:return[r,a,u]}}function v(t){var n,e,i,o,a=t[0]/360,u=t[1]/100,s=t[2]/100,l=u+s;switch(l>1&&(u/=l,s/=l),i=6*a-(n=Math.floor(6*a)),0!=(1&n)&&(i=1-i),o=u+i*((e=1-s)-u),n){default:case 6:case 0:r=e,g=o,b=u;break;case 1:r=o,g=e,b=u;break;case 2:r=u,g=e,b=o;break;case 3:r=u,g=o,b=e;break;case 4:r=o,g=u,b=e;break;case 5:r=e,g=u,b=o}return[255*r,255*g,255*b]}function p(t){var n=t[0]/100,e=t[1]/100,r=t[2]/100,i=t[3]/100;return[255*(1-Math.min(1,n*(1-i)+i)),255*(1-Math.min(1,e*(1-i)+i)),255*(1-Math.min(1,r*(1-i)+i))]}function d(t){var n,e,r,i=t[0]/100,o=t[1]/100,a=t[2]/100;return e=-.9689*i+1.8758*o+.0415*a,r=.0557*i+-.204*o+1.057*a,n=(n=3.2406*i+-1.5372*o+-.4986*a)>.0031308?1.055*Math.pow(n,1/2.4)-.055:n*=12.92,e=e>.0031308?1.055*Math.pow(e,1/2.4)-.055:e*=12.92,r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:r*=12.92,[255*(n=Math.min(Math.max(0,n),1)),255*(e=Math.min(Math.max(0,e),1)),255*(r=Math.min(Math.max(0,r),1))]}function y(t){var n=t[0],e=t[1],r=t[2];return e/=100,r/=108.883,n=(n/=95.047)>.008856?Math.pow(n,1/3):7.787*n+16/116,[116*(e=e>.008856?Math.pow(e,1/3):7.787*e+16/116)-16,500*(n-e),200*(e-(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116))]}function m(t){var n,e,r,i,o=t[0],a=t[1],u=t[2];return o<=8?i=(e=100*o/903.3)/100*7.787+16/116:(e=100*Math.pow((o+16)/116,3),i=Math.pow(e/100,1/3)),[n=n/95.047<=.008856?n=95.047*(a/500+i-16/116)/7.787:95.047*Math.pow(a/500+i,3),e,r=r/108.883<=.008859?r=108.883*(i-u/200-16/116)/7.787:108.883*Math.pow(i-u/200,3)]}function x(t){var n,e=t[0],r=t[1],i=t[2];return(n=360*Math.atan2(i,r)/2/Math.PI)<0&&(n+=360),[e,Math.sqrt(r*r+i*i),n]}function w(t){return d(m(t))}function M(t){var n,e=t[0],r=t[1];return n=t[2]/360*2*Math.PI,[e,r*Math.cos(n),r*Math.sin(n)]}function k(t){return _[t]}n.exports={rgb2hsl:i,rgb2hsv:o,rgb2hwb:a,rgb2cmyk:u,rgb2keyword:s,rgb2xyz:l,rgb2lab:c,rgb2lch:function(t){return x(c(t))},hsl2rgb:h,hsl2hsv:function(t){var n=t[0],e=t[1]/100,r=t[2]/100;if(0===r)return[0,0,0];return[n,100*(2*(e*=(r*=2)<=1?r:2-r)/(r+e)),100*((r+e)/2)]},hsl2hwb:function(t){return a(h(t))},hsl2cmyk:function(t){return u(h(t))},hsl2keyword:function(t){return s(h(t))},hsv2rgb:f,hsv2hsl:function(t){var n,e,r=t[0],i=t[1]/100,o=t[2]/100;return n=i*o,[r,100*(n=(n/=(e=(2-i)*o)<=1?e:2-e)||0),100*(e/=2)]},hsv2hwb:function(t){return a(f(t))},hsv2cmyk:function(t){return u(f(t))},hsv2keyword:function(t){return s(f(t))},hwb2rgb:v,hwb2hsl:function(t){return i(v(t))},hwb2hsv:function(t){return o(v(t))},hwb2cmyk:function(t){return u(v(t))},hwb2keyword:function(t){return s(v(t))},cmyk2rgb:p,cmyk2hsl:function(t){return i(p(t))},cmyk2hsv:function(t){return o(p(t))},cmyk2hwb:function(t){return a(p(t))},cmyk2keyword:function(t){return s(p(t))},keyword2rgb:k,keyword2hsl:function(t){return i(k(t))},keyword2hsv:function(t){return o(k(t))},keyword2hwb:function(t){return a(k(t))},keyword2cmyk:function(t){return u(k(t))},keyword2lab:function(t){return c(k(t))},keyword2xyz:function(t){return l(k(t))},xyz2rgb:d,xyz2lab:y,xyz2lch:function(t){return x(y(t))},lab2xyz:m,lab2rgb:w,lab2lch:x,lch2lab:M,lch2xyz:function(t){return m(M(t))},lch2rgb:function(t){return w(M(t))}};var _={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},S={};for(var A in _)S[JSON.stringify(_[A])]=A},{}],3:[function(t,n,e){var r=t("./conversions"),i=function(){return new l};for(var o in r){i[o+"Raw"]=function(t){return function(n){return"number"==typeof n&&(n=Array.prototype.slice.call(arguments)),r[t](n)}}(o);var a=/(\w+)2(\w+)/.exec(o),u=a[1],s=a[2];(i[u]=i[u]||{})[s]=i[o]=function(t){return function(n){"number"==typeof n&&(n=Array.prototype.slice.call(arguments));var e=r[t](n);if("string"==typeof e||void 0===e)return e;for(var i=0;i<e.length;i++)e[i]=Math.round(e[i]);return e}}(o)}var l=function(){this.convs={}};l.prototype.routeSpace=function(t,n){var e=n[0];return void 0===e?this.getValues(t):("number"==typeof e&&(e=Array.prototype.slice.call(n)),this.setValues(t,e))},l.prototype.setValues=function(t,n){return this.space=t,this.convs={},this.convs[t]=n,this},l.prototype.getValues=function(t){var n=this.convs[t];if(!n){var e=this.space,r=this.convs[e];n=i[e][t](r),this.convs[t]=n}return n},["rgb","hsl","hsv","cmyk","keyword"].forEach(function(t){l.prototype[t]=function(n){return this.routeSpace(t,arguments)}}),n.exports=i},{"./conversions":2}],4:[function(t,n,e){var r=t("../internal/baseFlatten"),i=t("../internal/isIterateeCall");n.exports=function(t,n,e){var o=t?t.length:0;return e&&i(t,n,e)&&(n=!1),o?r(t,n):[]}},{"../internal/baseFlatten":23,"../internal/isIterateeCall":56}],5:[function(t,n,e){n.exports=function(t){var n=t?t.length:0;return n?t[n-1]:void 0}},{}],6:[function(t,n,e){var r=t("../internal/baseDifference"),i=t("../internal/isArrayLike"),o=t("../function/restParam")(function(t,n){return i(t)?r(t,n):[]});n.exports=o},{"../function/restParam":10,"../internal/baseDifference":21,"../internal/isArrayLike":54}],7:[function(t,n,e){n.exports=t("./forEach")},{"./forEach":8}],8:[function(t,n,e){var r=t("../internal/arrayEach"),i=t("../internal/baseEach"),o=t("../internal/createForEach")(r,i);n.exports=o},{"../internal/arrayEach":12,"../internal/baseEach":22,"../internal/createForEach":46}],9:[function(t,n,e){var r=t("../internal/arrayMap"),i=t("../internal/baseCallback"),o=t("../internal/baseMap"),a=t("../lang/isArray");n.exports=function(t,n,e){return(a(t)?r:o)(t,n=i(n,e,3))}},{"../internal/arrayMap":13,"../internal/baseCallback":19,"../internal/baseMap":31,"../lang/isArray":65}],10:[function(t,n,e){var r="Expected a function",i=Math.max;n.exports=function(t,n){if("function"!=typeof t)throw new TypeError(r);return n=i(void 0===n?t.length-1:+n||0,0),function(){for(var e=arguments,r=-1,o=i(e.length-n,0),a=Array(o);++r<o;)a[r]=e[n+r];switch(n){case 0:return t.call(this,a);case 1:return t.call(this,e[0],a);case 2:return t.call(this,e[0],e[1],a)}var u=Array(n+1);for(r=-1;++r<n;)u[r]=e[r];return u[n]=a,t.apply(this,u)}}},{}],11:[function(t,n,r){(function(e){var r=t("./cachePush"),i=t("./getNative"),o=i(e,"Set"),a=i(Object,"create");function u(t){var n=t?t.length:0;for(this.data={hash:a(null),set:new o};n--;)this.push(t[n])}u.prototype.push=r,n.exports=u}).call(this,void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./cachePush":40,"./getNative":52}],12:[function(t,n,e){n.exports=function(t,n){for(var e=-1,r=t.length;++e<r&&!1!==n(t[e],e,t););return t}},{}],13:[function(t,n,e){n.exports=function(t,n){for(var e=-1,r=t.length,i=Array(r);++e<r;)i[e]=n(t[e],e,t);return i}},{}],14:[function(t,n,e){n.exports=function(t,n){for(var e=-1,r=n.length,i=t.length;++e<r;)t[i+e]=n[e];return t}},{}],15:[function(t,n,e){n.exports=function(t,n){for(var e=-1,r=t.length;++e<r;)if(n(t[e],e,t))return!0;return!1}},{}],16:[function(t,n,e){n.exports=function(t,n){return void 0===t?n:t}},{}],17:[function(t,n,e){var r=t("../object/keys");n.exports=function(t,n,e){for(var i=-1,o=r(n),a=o.length;++i<a;){var u=o[i],s=t[u],l=e(s,n[u],u,t,n);(l==l?l===s:s!=s)&&(void 0!==s||u in t)||(t[u]=l)}return t}},{"../object/keys":72}],18:[function(t,n,e){var r=t("./baseCopy"),i=t("../object/keys");n.exports=function(t,n){return null==n?t:r(n,i(n),t)}},{"../object/keys":72,"./baseCopy":20}],19:[function(t,n,e){var r=t("./baseMatches"),i=t("./baseMatchesProperty"),o=t("./bindCallback"),a=t("../utility/identity"),u=t("../utility/property");n.exports=function(t,n,e){var s=l(t);return"function"==s?void 0===n?t:o(t,n,e):null==t?a:"object"==s?r(t):void 0===n?u(t):i(t,n)}},{"../utility/identity":75,"../utility/property":76,"./baseMatches":32,"./baseMatchesProperty":33,"./bindCallback":38}],20:[function(t,n,e){n.exports=function(t,n,e){e||(e={});for(var r=-1,i=n.length;++r<i;){var o=n[r];e[o]=t[o]}return e}},{}],21:[function(t,n,e){var r=t("./baseIndexOf"),i=t("./cacheIndexOf"),o=t("./createCache"),a=200;n.exports=function(t,n){var e=t?t.length:0,u=[];if(!e)return u;var s=-1,l=r,c=!0,h=c&&n.length>=a?o(n):null,f=n.length;h&&(l=i,c=!1,n=h);t:for(;++s<e;){var v=t[s];if(c&&v==v){for(var p=f;p--;)if(n[p]===v)continue t;u.push(v)}else l(n,v,0)<0&&u.push(v)}return u}},{"./baseIndexOf":27,"./cacheIndexOf":39,"./createCache":44}],22:[function(t,n,e){var r=t("./baseForOwn"),i=t("./createBaseEach")(r);n.exports=i},{"./baseForOwn":25,"./createBaseEach":42}],23:[function(t,n,e){var r=t("./arrayPush"),i=t("../lang/isArguments"),o=t("../lang/isArray"),a=t("./isArrayLike"),u=t("./isObjectLike");n.exports=function t(n,e,s,l){l||(l=[]);for(var c=-1,h=n.length;++c<h;){var f=n[c];u(f)&&a(f)&&(s||o(f)||i(f))?e?t(f,e,s,l):r(l,f):s||(l[l.length]=f)}return l}},{"../lang/isArguments":64,"../lang/isArray":65,"./arrayPush":14,"./isArrayLike":54,"./isObjectLike":59}],24:[function(t,n,e){var r=t("./createBaseFor")();n.exports=r},{"./createBaseFor":43}],25:[function(t,n,e){var r=t("./baseFor"),i=t("../object/keys");n.exports=function(t,n){return r(t,n,i)}},{"../object/keys":72,"./baseFor":24}],26:[function(t,n,e){var r=t("./toObject");n.exports=function(t,n,e){if(null!=t){void 0!==e&&e in r(t)&&(n=[e]);for(var i=0,o=n.length;null!=t&&i<o;)t=t[n[i++]];return i&&i==o?t:void 0}}},{"./toObject":62}],27:[function(t,n,e){var r=t("./indexOfNaN");n.exports=function(t,n,e){if(n!=n)return r(t,e);for(var i=e-1,o=t.length;++i<o;)if(t[i]===n)return i;return-1}},{"./indexOfNaN":53}],28:[function(t,n,e){var r=t("./baseIsEqualDeep"),i=t("../lang/isObject"),o=t("./isObjectLike");n.exports=function t(n,e,a,u,s,l){return n===e||(null==n||null==e||!i(n)&&!o(e)?n!=n&&e!=e:r(n,e,t,a,u,s,l))}},{"../lang/isObject":68,"./baseIsEqualDeep":29,"./isObjectLike":59}],29:[function(t,n,e){var r=t("./equalArrays"),i=t("./equalByTag"),o=t("./equalObjects"),a=t("../lang/isArray"),u=t("../lang/isTypedArray"),s="[object Arguments]",l="[object Array]",c="[object Object]",h=Object.prototype,f=h.hasOwnProperty,v=h.toString;n.exports=function(t,n,e,h,p,g,d){var y=a(t),m=a(n),x=l,b=l;y||((x=v.call(t))==s?x=c:x!=c&&(y=u(t))),m||((b=v.call(n))==s?b=c:b!=c&&(m=u(n)));var w=x==c,M=b==c,k=x==b;if(k&&!y&&!w)return i(t,n,x);if(!p){var _=w&&f.call(t,"__wrapped__"),S=M&&f.call(n,"__wrapped__");if(_||S)return e(_?t.value():t,S?n.value():n,h,p,g,d)}if(!k)return!1;g||(g=[]),d||(d=[]);for(var A=g.length;A--;)if(g[A]==t)return d[A]==n;g.push(t),d.push(n);var j=(y?r:o)(t,n,e,h,p,g,d);return g.pop(),d.pop(),j}},{"../lang/isArray":65,"../lang/isTypedArray":69,"./equalArrays":47,"./equalByTag":48,"./equalObjects":49}],30:[function(t,n,e){var r=t("./baseIsEqual"),i=t("./toObject");n.exports=function(t,n,e){var o=n.length,a=o,u=!e;if(null==t)return!a;for(t=i(t);o--;){var s=n[o];if(u&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++o<a;){var l=(s=n[o])[0],c=t[l],h=s[1];if(u&&s[2]){if(void 0===c&&!(l in t))return!1}else{var f=e?e(c,h,l):void 0;if(!(void 0===f?r(h,c,e,!0):f))return!1}}return!0}},{"./baseIsEqual":28,"./toObject":62}],31:[function(t,n,e){var r=t("./baseEach"),i=t("./isArrayLike");n.exports=function(t,n){var e=-1,o=i(t)?Array(t.length):[];return r(t,function(t,r,i){o[++e]=n(t,r,i)}),o}},{"./baseEach":22,"./isArrayLike":54}],32:[function(t,n,e){var r=t("./baseIsMatch"),i=t("./getMatchData"),o=t("./toObject");n.exports=function(t){var n=i(t);if(1==n.length&&n[0][2]){var e=n[0][0],a=n[0][1];return function(t){return null!=t&&t[e]===a&&(void 0!==a||e in o(t))}}return function(t){return r(t,n)}}},{"./baseIsMatch":30,"./getMatchData":51,"./toObject":62}],33:[function(t,n,e){var r=t("./baseGet"),i=t("./baseIsEqual"),o=t("./baseSlice"),a=t("../lang/isArray"),u=t("./isKey"),s=t("./isStrictComparable"),l=t("../array/last"),c=t("./toObject"),h=t("./toPath");n.exports=function(t,n){var e=a(t),f=u(t)&&s(n),v=t+"";return t=h(t),function(a){if(null==a)return!1;var u=v;if(a=c(a),(e||!f)&&!(u in a)){if(null==(a=1==t.length?a:r(a,o(t,0,-1))))return!1;u=l(t),a=c(a)}return a[u]===n?void 0!==n||u in a:i(n,a[u],void 0,!0)}}},{"../array/last":5,"../lang/isArray":65,"./baseGet":26,"./baseIsEqual":28,"./baseSlice":36,"./isKey":57,"./isStrictComparable":60,"./toObject":62,"./toPath":63}],34:[function(t,n,e){n.exports=function(t){return function(n){return null==n?void 0:n[t]}}},{}],35:[function(t,n,e){var r=t("./baseGet"),i=t("./toPath");n.exports=function(t){var n=t+"";return t=i(t),function(e){return r(e,t,n)}}},{"./baseGet":26,"./toPath":63}],36:[function(t,n,e){n.exports=function(t,n,e){var r=-1,i=t.length;(n=null==n?0:+n||0)<0&&(n=-n>i?0:i+n),(e=void 0===e||e>i?i:+e||0)<0&&(e+=i),i=n>e?0:e-n>>>0,n>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+n];return o}},{}],37:[function(t,n,e){n.exports=function(t){return null==t?"":t+""}},{}],38:[function(t,n,e){var r=t("../utility/identity");n.exports=function(t,n,e){if("function"!=typeof t)return r;if(void 0===n)return t;switch(e){case 1:return function(e){return t.call(n,e)};case 3:return function(e,r,i){return t.call(n,e,r,i)};case 4:return function(e,r,i,o){return t.call(n,e,r,i,o)};case 5:return function(e,r,i,o,a){return t.call(n,e,r,i,o,a)}}return function(){return t.apply(n,arguments)}}},{"../utility/identity":75}],39:[function(t,n,e){var r=t("../lang/isObject");n.exports=function(t,n){var e=t.data;return("string"==typeof n||r(n)?e.set.has(n):e.hash[n])?0:-1}},{"../lang/isObject":68}],40:[function(t,n,e){var r=t("../lang/isObject");n.exports=function(t){var n=this.data;"string"==typeof t||r(t)?n.set.add(t):n.hash[t]=!0}},{"../lang/isObject":68}],41:[function(t,n,e){var r=t("./bindCallback"),i=t("./isIterateeCall"),o=t("../function/restParam");n.exports=function(t){return o(function(n,e){var o=-1,a=null==n?0:e.length,u=a>2?e[a-2]:void 0,s=a>2?e[2]:void 0,l=a>1?e[a-1]:void 0;for("function"==typeof u?(u=r(u,l,5),a-=2):a-=(u="function"==typeof l?l:void 0)?1:0,s&&i(e[0],e[1],s)&&(u=a<3?void 0:u,a=1);++o<a;){var c=e[o];c&&t(n,c,u)}return n})}},{"../function/restParam":10,"./bindCallback":38,"./isIterateeCall":56}],42:[function(t,n,e){var r=t("./getLength"),i=t("./isLength"),o=t("./toObject");n.exports=function(t,n){return function(e,a){var u=e?r(e):0;if(!i(u))return t(e,a);for(var s=n?u:-1,l=o(e);(n?s--:++s<u)&&!1!==a(l[s],s,l););return e}}},{"./getLength":50,"./isLength":58,"./toObject":62}],43:[function(t,n,e){var r=t("./toObject");n.exports=function(t){return function(n,e,i){for(var o=r(n),a=i(n),u=a.length,s=t?u:-1;t?s--:++s<u;){var l=a[s];if(!1===e(o[l],l,o))break}return n}}},{"./toObject":62}],44:[function(t,n,r){(function(e){var r=t("./SetCache"),i=t("./getNative"),o=i(e,"Set"),a=i(Object,"create");n.exports=function(t){return a&&o?new r(t):null}}).call(this,void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./SetCache":11,"./getNative":52}],45:[function(t,n,e){var r=t("../function/restParam");n.exports=function(t,n){return r(function(e){var r=e[0];return null==r?r:(e.push(n),t.apply(void 0,e))})}},{"../function/restParam":10}],46:[function(t,n,e){var r=t("./bindCallback"),i=t("../lang/isArray");n.exports=function(t,n){return function(e,o,a){return"function"==typeof o&&void 0===a&&i(e)?t(e,o):n(e,r(o,a,3))}}},{"../lang/isArray":65,"./bindCallback":38}],47:[function(t,n,e){var r=t("./arraySome");n.exports=function(t,n,e,i,o,a,u){var s=-1,l=t.length,c=n.length;if(l!=c&&!(o&&c>l))return!1;for(;++s<l;){var h=t[s],f=n[s],v=i?i(o?f:h,o?h:f,s):void 0;if(void 0!==v){if(v)continue;return!1}if(o){if(!r(n,function(t){return h===t||e(h,t,i,o,a,u)}))return!1}else if(h!==f&&!e(h,f,i,o,a,u))return!1}return!0}},{"./arraySome":15}],48:[function(t,n,e){var r="[object Boolean]",i="[object Date]",o="[object Error]",a="[object Number]",u="[object RegExp]",s="[object String]";n.exports=function(t,n,e){switch(e){case r:case i:return+t==+n;case o:return t.name==n.name&&t.message==n.message;case a:return t!=+t?n!=+n:t==+n;case u:case s:return t==n+""}return!1}},{}],49:[function(t,n,e){var r=t("../object/keys"),i=Object.prototype.hasOwnProperty;n.exports=function(t,n,e,o,a,u,s){var l=r(t),c=l.length;if(c!=r(n).length&&!a)return!1;for(var h=c;h--;){var f=l[h];if(!(a?f in n:i.call(n,f)))return!1}for(var v=a;++h<c;){var p=t[f=l[h]],g=n[f],d=o?o(a?g:p,a?p:g,f):void 0;if(!(void 0===d?e(p,g,o,a,u,s):d))return!1;v||(v="constructor"==f)}if(!v){var y=t.constructor,m=n.constructor;if(y!=m&&"constructor"in t&&"constructor"in n&&!("function"==typeof y&&y instanceof y&&"function"==typeof m&&m instanceof m))return!1}return!0}},{"../object/keys":72}],50:[function(t,n,e){var r=t("./baseProperty")("length");n.exports=r},{"./baseProperty":34}],51:[function(t,n,e){var r=t("./isStrictComparable"),i=t("../object/pairs");n.exports=function(t){for(var n=i(t),e=n.length;e--;)n[e][2]=r(n[e][1]);return n}},{"../object/pairs":74,"./isStrictComparable":60}],52:[function(t,n,e){var r=t("../lang/isNative");n.exports=function(t,n){var e=null==t?void 0:t[n];return r(e)?e:void 0}},{"../lang/isNative":67}],53:[function(t,n,e){n.exports=function(t,n,e){for(var r=t.length,i=n+(e?0:-1);e?i--:++i<r;){var o=t[i];if(o!=o)return i}return-1}},{}],54:[function(t,n,e){var r=t("./getLength"),i=t("./isLength");n.exports=function(t){return null!=t&&i(r(t))}},{"./getLength":50,"./isLength":58}],55:[function(t,n,e){var r=/^\d+$/,i=9007199254740991;n.exports=function(t,n){return t="number"==typeof t||r.test(t)?+t:-1,n=null==n?i:n,t>-1&&t%1==0&&t<n}},{}],56:[function(t,n,e){var r=t("./isArrayLike"),i=t("./isIndex"),o=t("../lang/isObject");n.exports=function(t,n,e){if(!o(e))return!1;var a=l(n);if("number"==a?r(e)&&i(n,e.length):"string"==a&&n in e){var u=e[n];return t==t?t===u:u!=u}return!1}},{"../lang/isObject":68,"./isArrayLike":54,"./isIndex":55}],57:[function(t,n,e){var r=t("../lang/isArray"),i=t("./toObject"),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,a=/^\w*$/;n.exports=function(t,n){var e=l(t);return!!("string"==e&&a.test(t)||"number"==e)||!r(t)&&(!o.test(t)||null!=n&&t in i(n))}},{"../lang/isArray":65,"./toObject":62}],58:[function(t,n,e){var r=9007199254740991;n.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=r}},{}],59:[function(t,n,e){n.exports=function(t){return!!t&&"object"==l(t)}},{}],60:[function(t,n,e){var r=t("../lang/isObject");n.exports=function(t){return t==t&&!r(t)}},{"../lang/isObject":68}],61:[function(t,n,e){var r=t("../lang/isArguments"),i=t("../lang/isArray"),o=t("./isIndex"),a=t("./isLength"),u=t("../object/keysIn"),s=Object.prototype.hasOwnProperty;n.exports=function(t){for(var n=u(t),e=n.length,l=e&&t.length,c=!!l&&a(l)&&(i(t)||r(t)),h=-1,f=[];++h<e;){var v=n[h];(c&&o(v,l)||s.call(t,v))&&f.push(v)}return f}},{"../lang/isArguments":64,"../lang/isArray":65,"../object/keysIn":73,"./isIndex":55,"./isLength":58}],62:[function(t,n,e){var r=t("../lang/isObject");n.exports=function(t){return r(t)?t:Object(t)}},{"../lang/isObject":68}],63:[function(t,n,e){var r=t("./baseToString"),i=t("../lang/isArray"),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,a=/\\(\\)?/g;n.exports=function(t){if(i(t))return t;var n=[];return r(t).replace(o,function(t,e,r,i){n.push(r?i.replace(a,"$1"):e||t)}),n}},{"../lang/isArray":65,"./baseToString":37}],64:[function(t,n,e){var r=t("../internal/isArrayLike"),i=t("../internal/isObjectLike"),o=Object.prototype,a=o.hasOwnProperty,u=o.propertyIsEnumerable;n.exports=function(t){return i(t)&&r(t)&&a.call(t,"callee")&&!u.call(t,"callee")}},{"../internal/isArrayLike":54,"../internal/isObjectLike":59}],65:[function(t,n,e){var r=t("../internal/getNative"),i=t("../internal/isLength"),o=t("../internal/isObjectLike"),a=Object.prototype.toString,u=r(Array,"isArray")||function(t){return o(t)&&i(t.length)&&"[object Array]"==a.call(t)};n.exports=u},{"../internal/getNative":52,"../internal/isLength":58,"../internal/isObjectLike":59}],66:[function(t,n,e){var r=t("./isObject"),i="[object Function]",o=Object.prototype.toString;n.exports=function(t){return r(t)&&o.call(t)==i}},{"./isObject":68}],67:[function(t,n,e){var r=t("./isFunction"),i=t("../internal/isObjectLike"),o=/^\[object .+?Constructor\]$/,a=Object.prototype,u=Function.prototype.toString,s=a.hasOwnProperty,l=RegExp("^"+u.call(s).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");n.exports=function(t){return null!=t&&(r(t)?l.test(u.call(t)):i(t)&&o.test(t))}},{"../internal/isObjectLike":59,"./isFunction":66}],68:[function(t,n,e){n.exports=function(t){var n=l(t);return!!t&&("object"==n||"function"==n)}},{}],69:[function(t,n,e){var r=t("../internal/isLength"),i=t("../internal/isObjectLike"),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1;var a=Object.prototype.toString;n.exports=function(t){return i(t)&&r(t.length)&&!!o[a.call(t)]}},{"../internal/isLength":58,"../internal/isObjectLike":59}],70:[function(t,n,e){var r=t("../internal/assignWith"),i=t("../internal/baseAssign"),o=t("../internal/createAssigner")(function(t,n,e){return e?r(t,n,e):i(t,n)});n.exports=o},{"../internal/assignWith":17,"../internal/baseAssign":18,"../internal/createAssigner":41}],71:[function(t,n,e){var r=t("./assign"),i=t("../internal/assignDefaults"),o=t("../internal/createDefaults")(r,i);n.exports=o},{"../internal/assignDefaults":16,"../internal/createDefaults":45,"./assign":70}],72:[function(t,n,e){var r=t("../internal/getNative"),i=t("../internal/isArrayLike"),o=t("../lang/isObject"),a=t("../internal/shimKeys"),u=r(Object,"keys"),s=u?function(t){var n=null==t?void 0:t.constructor;return"function"==typeof n&&n.prototype===t||"function"!=typeof t&&i(t)?a(t):o(t)?u(t):[]}:a;n.exports=s},{"../internal/getNative":52,"../internal/isArrayLike":54,"../internal/shimKeys":61,"../lang/isObject":68}],73:[function(t,n,e){var r=t("../lang/isArguments"),i=t("../lang/isArray"),o=t("../internal/isIndex"),a=t("../internal/isLength"),u=t("../lang/isObject"),s=Object.prototype.hasOwnProperty;n.exports=function(t){if(null==t)return[];u(t)||(t=Object(t));var n=t.length;n=n&&a(n)&&(i(t)||r(t))&&n||0;for(var e=t.constructor,l=-1,c="function"==typeof e&&e.prototype===t,h=Array(n),f=n>0;++l<n;)h[l]=l+"";for(var v in t)f&&o(v,n)||"constructor"==v&&(c||!s.call(t,v))||h.push(v);return h}},{"../internal/isIndex":55,"../internal/isLength":58,"../lang/isArguments":64,"../lang/isArray":65,"../lang/isObject":68}],74:[function(t,n,e){var r=t("./keys"),i=t("../internal/toObject");n.exports=function(t){t=i(t);for(var n=-1,e=r(t),o=e.length,a=Array(o);++n<o;){var u=e[n];a[n]=[u,t[u]]}return a}},{"../internal/toObject":62,"./keys":72}],75:[function(t,n,e){n.exports=function(t){return t}},{}],76:[function(t,n,e){var r=t("../internal/baseProperty"),i=t("../internal/basePropertyDeep"),o=t("../internal/isKey");n.exports=function(t){return o(t)?r(t):i(t)}},{"../internal/baseProperty":34,"../internal/basePropertyDeep":35,"../internal/isKey":57}],77:[function(t,n,e){var r=t("./vdom/create-element.js");n.exports=r},{"./vdom/create-element.js":89}],78:[function(t,n,e){var r=t("./vtree/diff.js");n.exports=r},{"./vtree/diff.js":112}],79:[function(t,n,e){var r=t("./virtual-hyperscript/index.js");n.exports=r},{"./virtual-hyperscript/index.js":97}],80:[function(t,n,e){var r,i,o;
/*!
       * Cross-Browser Split 1.1.1
       * Copyright 2007-2012 Steven Levithan <stevenlevithan.com>
       * Available under the MIT License
       * ECMAScript compliant, uniform cross-browser split method
       */
n.exports=(i=String.prototype.split,o=/()??/.exec("")[1]===r,function(t,n,e){if("[object RegExp]"!==Object.prototype.toString.call(n))return i.call(t,n,e);var a,u,s,l,c=[],h=(n.ignoreCase?"i":"")+(n.multiline?"m":"")+(n.extended?"x":"")+(n.sticky?"y":""),f=0;for(n=new RegExp(n.source,h+"g"),t+="",o||(a=new RegExp("^"+n.source+"$(?!\\s)",h)),e=e===r?-1>>>0:e>>>0;(u=n.exec(t))&&!((s=u.index+u[0].length)>f&&(c.push(t.slice(f,u.index)),!o&&u.length>1&&u[0].replace(a,function(){for(var t=1;t<arguments.length-2;t++)arguments[t]===r&&(u[t]=r)}),u.length>1&&u.index<t.length&&Array.prototype.push.apply(c,u.slice(1)),l=u[0].length,f=s,c.length>=e));)n.lastIndex===u.index&&n.lastIndex++;return f===t.length?!l&&n.test("")||c.push(""):c.push(t.slice(f)),c.length>e?c.slice(0,e):c})},{}],81:[function(t,n,e){"use strict";t("individual/one-version")("ev-store","7");var r="__EV_STORE_KEY@7";n.exports=function(t){var n=t[r];n||(n=t[r]={});return n}},{"individual/one-version":83}],82:[function(t,n,r){(function(t){"use strict";var e="undefined"!=typeof window?window:void 0!==t?t:{};n.exports=function(t,n){if(t in e)return e[t];return e[t]=n,n}}).call(this,void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],83:[function(t,n,e){"use strict";var r=t("./index.js");n.exports=function(t,n,e){var i="__INDIVIDUAL_ONE_VERSION_"+t,o=r(i+"_ENFORCE_SINGLETON",n);if(o!==n)throw new Error("Can only have one copy of "+t+".\nYou already have version "+o+" installed.\nThis means you cannot install version "+n);return r(i,e)}},{"./index.js":82}],84:[function(t,n,r){(function(e){var r=void 0!==e?e:"undefined"!=typeof window?window:{},i=t("min-document");if("undefined"!=typeof document)n.exports=document;else{var o=r["__GLOBAL_DOCUMENT_CACHE@4"];o||(o=r["__GLOBAL_DOCUMENT_CACHE@4"]=i),n.exports=o}}).call(this,void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"min-document":1}],85:[function(t,n,e){"use strict";n.exports=function(t){return"object"===l(t)&&null!==t}},{}],86:[function(t,n,e){var r=Array.isArray,i=Object.prototype.toString;n.exports=r||function(t){return"[object Array]"===i.call(t)}},{}],87:[function(t,n,e){var r=t("./vdom/patch.js");n.exports=r},{"./vdom/patch.js":92}],88:[function(t,n,e){var r=t("is-object"),i=t("../vnode/is-vhook.js");function o(t,n,e,r){if(r){var o=r[n];if(i(o))o.unhook&&o.unhook(t,n,e);else if("attributes"===n)for(var a in o)t.removeAttribute(a);else if("style"===n)for(var u in o)t.style[u]="";else t[n]="string"==typeof o?"":null}}function a(t,n,e,i,o){var a=e?e[i]:void 0;if("attributes"!==i)if(a&&r(a)&&u(a)!==u(o))t[i]=o;else{r(t[i])||(t[i]={});var s="style"===i?"":void 0;for(var l in o){var c=o[l];t[i][l]=void 0===c?s:c}}else for(var h in o){var f=o[h];void 0===f?t.removeAttribute(h):t.setAttribute(h,f)}}function u(t){return Object.getPrototypeOf?Object.getPrototypeOf(t):t.__proto__?t.__proto__:t.constructor?t.constructor.prototype:void 0}n.exports=function(t,n,e){for(var u in n){var s=n[u];void 0===s?o(t,u,s,e):i(s)?(o(t,u,s,e),s.hook&&s.hook(t,u,e?e[u]:void 0)):r(s)?a(t,n,e,u,s):t[u]=s}}},{"../vnode/is-vhook.js":103,"is-object":85}],89:[function(t,n,e){var r=t("global/document"),i=t("./apply-properties"),o=t("../vnode/is-vnode.js"),a=t("../vnode/is-vtext.js"),u=t("../vnode/is-widget.js"),s=t("../vnode/handle-thunk.js");n.exports=function t(n,e){var l=e&&e.document||r;var c=e?e.warn:null;n=s(n).a;if(u(n))return n.init();if(a(n))return l.createTextNode(n.text);if(!o(n))return c&&c("Item is not a valid virtual dom node",n),null;var h=null===n.namespace?l.createElement(n.tagName):l.createElementNS(n.namespace,n.tagName);var f=n.properties;i(h,f);var v=n.children;for(var p=0;p<v.length;p++){var g=t(v[p],e);g&&h.appendChild(g)}return h}},{"../vnode/handle-thunk.js":101,"../vnode/is-vnode.js":104,"../vnode/is-vtext.js":105,"../vnode/is-widget.js":106,"./apply-properties":88,"global/document":84}],90:[function(t,n,e){var r={};function i(t,n,e){if(0===t.length)return!1;for(var r,i,o=0,a=t.length-1;o<=a;){if(i=t[r=(a+o)/2>>0],o===a)return i>=n&&i<=e;if(i<n)o=r+1;else{if(!(i>e))return!0;a=r-1}}return!1}function o(t,n){return t>n?1:-1}n.exports=function(t,n,e,a){return e&&0!==e.length?(e.sort(o),function t(n,e,o,a,u){a=a||{};if(n){i(o,u,u)&&(a[u]=n);var s=e.children;if(s)for(var l=n.childNodes,c=0;c<e.children.length;c++){u+=1;var h=s[c]||r,f=u+(h.count||0);i(o,u,f)&&t(l[c],h,o,a,u),u=f}}return a}(t,n,e,a,0)):{}}},{}],91:[function(t,n,e){var r=t("./apply-properties"),i=t("../vnode/is-widget.js"),o=t("../vnode/vpatch.js"),a=t("./update-widget");function u(t,n){"function"==typeof n.destroy&&i(n)&&n.destroy(t)}n.exports=function(t,n,e){var i=t.type,s=t.vNode,l=t.patch;switch(i){case o.REMOVE:return function(t,n){var e=t.parentNode;e&&e.removeChild(t);return u(t,n),null}(n,s);case o.INSERT:return function(t,n,e){var r=e.render(n,e);t&&t.appendChild(r);return t}(n,l,e);case o.VTEXT:return function(t,n,e,r){var i;if(3===t.nodeType)t.replaceData(0,t.length,e.text),i=t;else{var o=t.parentNode;i=r.render(e,r),o&&i!==t&&o.replaceChild(i,t)}return i}(n,0,l,e);case o.WIDGET:return function(t,n,e,r){var i,o=a(n,e);i=o?e.update(n,t)||t:r.render(e,r);var s=t.parentNode;s&&i!==t&&s.replaceChild(i,t);o||u(t,n);return i}(n,s,l,e);case o.VNODE:return function(t,n,e,r){var i=t.parentNode,o=r.render(e,r);i&&o!==t&&i.replaceChild(o,t);return o}(n,0,l,e);case o.ORDER:return function(t,n){for(var e,r,i,o=t.childNodes,a={},u=0;u<n.removes.length;u++)r=n.removes[u],e=o[r.from],r.key&&(a[r.key]=e),t.removeChild(e);for(var s=o.length,l=0;l<n.inserts.length;l++)i=n.inserts[l],e=a[i.key],t.insertBefore(e,i.to>=s++?null:o[i.to])}(n,l),n;case o.PROPS:return r(n,l,s.properties),n;case o.THUNK:return function(t,n){t&&n&&t!==n&&t.parentNode&&t.parentNode.replaceChild(n,t);return n}(n,e.patch(n,l,e));default:return n}}},{"../vnode/is-widget.js":106,"../vnode/vpatch.js":109,"./apply-properties":88,"./update-widget":93}],92:[function(t,n,e){var r=t("global/document"),i=t("x-is-array"),o=t("./create-element"),a=t("./dom-index"),u=t("./patch-op");function s(t,n,e){var i=function(t){var n=[];for(var e in t)"a"!==e&&n.push(Number(e));return n}(n);if(0===i.length)return t;var o=a(t,n.a,i),u=t.ownerDocument;e.document||u===r||(e.document=u);for(var s=0;s<i.length;s++){var c=i[s];t=l(t,o[c],n[c],e)}return t}function l(t,n,e,r){if(!n)return t;var o;if(i(e))for(var a=0;a<e.length;a++)o=u(e[a],n,r),n===t&&(t=o);else o=u(e,n,r),n===t&&(t=o);return t}n.exports=function t(n,e,r){r=r||{};r.patch=r.patch&&r.patch!==t?r.patch:s;r.render=r.render||o;return r.patch(n,e,r)}},{"./create-element":89,"./dom-index":90,"./patch-op":91,"global/document":84,"x-is-array":86}],93:[function(t,n,e){var r=t("../vnode/is-widget.js");n.exports=function(t,n){if(r(t)&&r(n))return"name"in t&&"name"in n?t.id===n.id:t.init===n.init;return!1}},{"../vnode/is-widget.js":106}],94:[function(t,n,e){"use strict";function r(t,n){if(!(this instanceof r))return new r(t,n);this.namespace=t,this.value=n}n.exports=r,r.prototype.hook=function(t,n,e){e&&"AttributeHook"===e.type&&e.value===this.value&&e.namespace===this.namespace||t.setAttributeNS(this.namespace,n,this.value)},r.prototype.unhook=function(t,n,e){if(!e||"AttributeHook"!==e.type||e.namespace!==this.namespace){var r=n.indexOf(":"),i=r>-1?n.substr(r+1):n;t.removeAttributeNS(this.namespace,i)}},r.prototype.type="AttributeHook"},{}],95:[function(t,n,e){"use strict";var r=t("ev-store");function i(t){if(!(this instanceof i))return new i(t);this.value=t}n.exports=i,i.prototype.hook=function(t,n){r(t)[n.substr(3)]=this.value},i.prototype.unhook=function(t,n){r(t)[n.substr(3)]=void 0}},{"ev-store":81}],96:[function(t,n,e){"use strict";function r(t){if(!(this instanceof r))return new r(t);this.value=t}n.exports=r,r.prototype.hook=function(t,n){t[n]!==this.value&&(t[n]=this.value)}},{}],97:[function(t,n,e){"use strict";var r=t("x-is-array"),i=t("../vnode/vnode.js"),o=t("../vnode/vtext.js"),a=t("../vnode/is-vnode"),u=t("../vnode/is-vtext"),s=t("../vnode/is-widget"),l=t("../vnode/is-vhook"),c=t("../vnode/is-thunk"),h=t("./parse-tag.js"),f=t("./hooks/soft-set-hook.js"),v=t("./hooks/ev-hook.js");function p(t){return a(t)||u(t)||s(t)||c(t)}function g(t){try{return JSON.stringify(t,null,"    ")}catch(n){return String(t)}}n.exports=function(t,n,e){var a,u,s,c,d=[];!e&&(y=n,"string"==typeof y||r(y)||p(y))&&(e=n,u={});var y;a=h(t,u=u||n||{}),u.hasOwnProperty("key")&&(s=u.key,u.key=void 0);u.hasOwnProperty("namespace")&&(c=u.namespace,u.namespace=void 0);"INPUT"!==a||c||!u.hasOwnProperty("value")||void 0===u.value||l(u.value)||(u.value=f(u.value));(function(t){for(var n in t)if(t.hasOwnProperty(n)){var e=t[n];if(l(e))continue;"ev-"===n.substr(0,3)&&(t[n]=v(e))}})(u),null!=e&&function t(n,e,i,a){if("string"==typeof n)e.push(new o(n));else if("number"==typeof n)e.push(new o(String(n)));else if(p(n))e.push(n);else{if(!r(n)){if(null==n)return;throw s={foreignObject:n,parentVnode:{tagName:i,properties:a}},(l=new Error).type="virtual-hyperscript.unexpected.virtual-element",l.message="Unexpected virtual child passed to h().\nExpected a VNode / Vthunk / VWidget / string but:\ngot:\n"+g(s.foreignObject)+".\nThe parent vnode is:\n"+g(s.parentVnode),l.foreignObject=s.foreignObject,l.parentVnode=s.parentVnode,l}for(var u=0;u<n.length;u++)t(n[u],e,i,a)}var s,l}(e,d,a,u);return new i(a,u,d,s,c)}},{"../vnode/is-thunk":102,"../vnode/is-vhook":103,"../vnode/is-vnode":104,"../vnode/is-vtext":105,"../vnode/is-widget":106,"../vnode/vnode.js":108,"../vnode/vtext.js":110,"./hooks/ev-hook.js":95,"./hooks/soft-set-hook.js":96,"./parse-tag.js":98,"x-is-array":86}],98:[function(t,n,e){"use strict";var r=t("browser-split"),i=/([\.#]?[a-zA-Z0-9\u007F-\uFFFF_:-]+)/,o=/^\.|#/;n.exports=function(t,n){if(!t)return"DIV";var e,a,u,s,l=!n.hasOwnProperty("id"),c=r(t,i),h=null;o.test(c[1])&&(h="DIV");for(s=0;s<c.length;s++)(a=c[s])&&(u=a.charAt(0),h?"."===u?(e=e||[]).push(a.substring(1,a.length)):"#"===u&&l&&(n.id=a.substring(1,a.length)):h=a);e&&(n.className&&e.push(n.className),n.className=e.join(" "));return n.namespace?h:h.toUpperCase()}},{"browser-split":80}],99:[function(t,n,e){"use strict";var r="http://www.w3.org/1999/xlink",i="http://www.w3.org/XML/1998/namespace",o={about:null,"accent-height":null,accumulate:null,additive:null,"alignment-baseline":null,alphabetic:null,amplitude:null,"arabic-form":null,ascent:null,attributeName:null,attributeType:null,azimuth:null,bandwidth:null,baseFrequency:null,baseProfile:null,"baseline-shift":null,bbox:null,begin:null,bias:null,by:null,calcMode:null,"cap-height":null,class:null,clip:null,"clip-path":null,"clip-rule":null,clipPathUnits:null,color:null,"color-interpolation":null,"color-interpolation-filters":null,"color-profile":null,"color-rendering":null,content:null,contentScriptType:null,contentStyleType:null,cursor:null,cx:null,cy:null,d:null,datatype:null,defaultAction:null,descent:null,diffuseConstant:null,direction:null,display:null,divisor:null,"dominant-baseline":null,dur:null,dx:null,dy:null,edgeMode:null,editable:null,elevation:null,"enable-background":null,end:null,"ev:event":"http://www.w3.org/2001/xml-events",event:null,exponent:null,externalResourcesRequired:null,fill:null,"fill-opacity":null,"fill-rule":null,filter:null,filterRes:null,filterUnits:null,"flood-color":null,"flood-opacity":null,focusHighlight:null,focusable:null,"font-family":null,"font-size":null,"font-size-adjust":null,"font-stretch":null,"font-style":null,"font-variant":null,"font-weight":null,format:null,from:null,fx:null,fy:null,g1:null,g2:null,"glyph-name":null,"glyph-orientation-horizontal":null,"glyph-orientation-vertical":null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:null,height:null,"horiz-adv-x":null,"horiz-origin-x":null,"horiz-origin-y":null,id:null,ideographic:null,"image-rendering":null,in:null,in2:null,initialVisibility:null,intercept:null,k:null,k1:null,k2:null,k3:null,k4:null,kernelMatrix:null,kernelUnitLength:null,kerning:null,keyPoints:null,keySplines:null,keyTimes:null,lang:null,lengthAdjust:null,"letter-spacing":null,"lighting-color":null,limitingConeAngle:null,local:null,"marker-end":null,"marker-mid":null,"marker-start":null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:null,mediaTime:null,method:null,min:null,mode:null,name:null,"nav-down":null,"nav-down-left":null,"nav-down-right":null,"nav-left":null,"nav-next":null,"nav-prev":null,"nav-right":null,"nav-up":null,"nav-up-left":null,"nav-up-right":null,numOctaves:null,observer:null,offset:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,"overline-position":null,"overline-thickness":null,"panose-1":null,path:null,pathLength:null,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,playbackOrder:null,"pointer-events":null,points:null,pointsAtX:null,pointsAtY:null,pointsAtZ:null,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:null,r:null,radius:null,refX:null,refY:null,rel:null,"rendering-intent":null,repeatCount:null,repeatDur:null,requiredExtensions:null,requiredFeatures:null,requiredFonts:null,requiredFormats:null,resource:null,restart:null,result:null,rev:null,role:null,rotate:null,rx:null,ry:null,scale:null,seed:null,"shape-rendering":null,slope:null,snapshotTime:null,spacing:null,specularConstant:null,specularExponent:null,spreadMethod:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,"stop-color":null,"stop-opacity":null,"strikethrough-position":null,"strikethrough-thickness":null,string:null,stroke:null,"stroke-dasharray":null,"stroke-dashoffset":null,"stroke-linecap":null,"stroke-linejoin":null,"stroke-miterlimit":null,"stroke-opacity":null,"stroke-width":null,surfaceScale:null,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:null,tableValues:null,target:null,targetX:null,targetY:null,"text-anchor":null,"text-decoration":null,"text-rendering":null,textLength:null,timelineBegin:null,title:null,to:null,transform:null,transformBehavior:null,type:null,typeof:null,u1:null,u2:null,"underline-position":null,"underline-thickness":null,unicode:null,"unicode-bidi":null,"unicode-range":null,"units-per-em":null,"v-alphabetic":null,"v-hanging":null,"v-ideographic":null,"v-mathematical":null,values:null,version:null,"vert-adv-y":null,"vert-origin-x":null,"vert-origin-y":null,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,"word-spacing":null,"writing-mode":null,x:null,"x-height":null,x1:null,x2:null,xChannelSelector:null,"xlink:actuate":r,"xlink:arcrole":r,"xlink:href":r,"xlink:role":r,"xlink:show":r,"xlink:title":r,"xlink:type":r,"xml:base":i,"xml:id":i,"xml:lang":i,"xml:space":i,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null};n.exports=function(t){if(o.hasOwnProperty(t))return o[t]}},{}],100:[function(t,n,e){"use strict";var r=t("x-is-array"),i=t("./index.js"),o=t("./svg-attribute-namespace"),a=t("./hooks/attribute-hook"),u="http://www.w3.org/2000/svg";n.exports=function(t,n,e){!e&&(s=n,"string"==typeof s||r(s))&&(e=n,n={});var s;(n=n||{}).namespace=u;var l=n.attributes||(n.attributes={});for(var c in n)if(n.hasOwnProperty(c)){var h=o(c);if(void 0!==h){var f=n[c];"string"!=typeof f&&"number"!=typeof f&&"boolean"!=typeof f||(null===h?(l[c]=f,n[c]=void 0):n[c]=a(h,f))}}return i(t,n,e)}},{"./hooks/attribute-hook":94,"./index.js":97,"./svg-attribute-namespace":99,"x-is-array":86}],101:[function(t,n,e){var r=t("./is-vnode"),i=t("./is-vtext"),o=t("./is-widget"),a=t("./is-thunk");function u(t,n){var e=t.vnode;if(e||(e=t.vnode=t.render(n)),!(r(e)||i(e)||o(e)))throw new Error("thunk did not return a valid node");return e}n.exports=function(t,n){var e=t,r=n;a(n)&&(r=u(n,t));a(t)&&(e=u(t,null));return{a:e,b:r}}},{"./is-thunk":102,"./is-vnode":104,"./is-vtext":105,"./is-widget":106}],102:[function(t,n,e){n.exports=function(t){return t&&"Thunk"===t.type}},{}],103:[function(t,n,e){n.exports=function(t){return t&&("function"==typeof t.hook&&!t.hasOwnProperty("hook")||"function"==typeof t.unhook&&!t.hasOwnProperty("unhook"))}},{}],104:[function(t,n,e){var r=t("./version");n.exports=function(t){return t&&"VirtualNode"===t.type&&t.version===r}},{"./version":107}],105:[function(t,n,e){var r=t("./version");n.exports=function(t){return t&&"VirtualText"===t.type&&t.version===r}},{"./version":107}],106:[function(t,n,e){n.exports=function(t){return t&&"Widget"===t.type}},{}],107:[function(t,n,e){n.exports="2"},{}],108:[function(t,n,e){var r=t("./version"),i=t("./is-vnode"),o=t("./is-widget"),a=t("./is-thunk"),u=t("./is-vhook");n.exports=c;var s={},l=[];function c(t,n,e,r,c){this.tagName=t,this.properties=n||s,this.children=e||l,this.key=null!=r?String(r):void 0,this.namespace="string"==typeof c?c:null;var h,f=e&&e.length||0,v=0,p=!1,g=!1,d=!1;for(var y in n)if(n.hasOwnProperty(y)){var m=n[y];u(m)&&m.unhook&&(h||(h={}),h[y]=m)}for(var x=0;x<f;x++){var b=e[x];i(b)?(v+=b.count||0,!p&&b.hasWidgets&&(p=!0),!g&&b.hasThunks&&(g=!0),d||!b.hooks&&!b.descendantHooks||(d=!0)):!p&&o(b)?"function"==typeof b.destroy&&(p=!0):!g&&a(b)&&(g=!0)}this.count=f+v,this.hasWidgets=p,this.hasThunks=g,this.hooks=h,this.descendantHooks=d}c.prototype.version=r,c.prototype.type="VirtualNode"},{"./is-thunk":102,"./is-vhook":103,"./is-vnode":104,"./is-widget":106,"./version":107}],109:[function(t,n,e){var r=t("./version");function i(t,n,e){this.type=Number(t),this.vNode=n,this.patch=e}i.NONE=0,i.VTEXT=1,i.VNODE=2,i.WIDGET=3,i.PROPS=4,i.ORDER=5,i.INSERT=6,i.REMOVE=7,i.THUNK=8,n.exports=i,i.prototype.version=r,i.prototype.type="VirtualPatch"},{"./version":107}],110:[function(t,n,e){var r=t("./version");function i(t){this.text=String(t)}n.exports=i,i.prototype.version=r,i.prototype.type="VirtualText"},{"./version":107}],111:[function(t,n,e){var r=t("is-object"),i=t("../vnode/is-vhook");function o(t){return Object.getPrototypeOf?Object.getPrototypeOf(t):t.__proto__?t.__proto__:t.constructor?t.constructor.prototype:void 0}n.exports=function t(n,e){var a;for(var u in n){u in e||((a=a||{})[u]=void 0);var s=n[u],l=e[u];if(s!==l)if(r(s)&&r(l))if(o(l)!==o(s))(a=a||{})[u]=l;else if(i(l))(a=a||{})[u]=l;else{var c=t(s,l);c&&((a=a||{})[u]=c)}else(a=a||{})[u]=l}for(var h in e)h in n||((a=a||{})[h]=e[h]);return a}},{"../vnode/is-vhook":103,"is-object":85}],112:[function(t,n,e){var r=t("x-is-array"),i=t("../vnode/vpatch"),o=t("../vnode/is-vnode"),a=t("../vnode/is-vtext"),u=t("../vnode/is-widget"),s=t("../vnode/is-thunk"),l=t("../vnode/handle-thunk"),c=t("./diff-props");function h(t,n){var e={a:t};return f(t,n,e,0),e}function f(t,n,e,r){if(t!==n){var l=e[r],h=!1;if(s(t)||s(n))p(t,n,e,r);else if(null==n)u(t)||(v(t,e,r),l=e[r]),l=y(l,new i(i.REMOVE,t,n));else if(o(n))if(o(t))if(t.tagName===n.tagName&&t.namespace===n.namespace&&t.key===n.key){var m=c(t.properties,n.properties);m&&(l=y(l,new i(i.PROPS,t,m))),l=function(t,n,e,r,a){for(var u=t.children,s=function(t,n){var e=d(n),r=e.keys,i=e.free;if(i.length===n.length)return{children:n,moves:null};var o=d(t),a=o.keys;if(o.free.length===t.length)return{children:n,moves:null};for(var u=[],s=0,l=i.length,c=0,h=0;h<t.length;h++){var f,v=t[h];v.key?r.hasOwnProperty(v.key)?(f=r[v.key],u.push(n[f])):(f=h-c++,u.push(null)):s<l?(f=i[s++],u.push(n[f])):(f=h-c++,u.push(null))}for(var p=s>=i.length?n.length:i[s],y=0;y<n.length;y++){var m=n[y];m.key?a.hasOwnProperty(m.key)||u.push(m):y>=p&&u.push(m)}for(var x,b=u.slice(),w=0,M=[],k=[],_=0;_<n.length;){var S=n[_];for(x=b[w];null===x&&b.length;)M.push(g(b,w,null)),x=b[w];x&&x.key===S.key?(w++,_++):S.key?(x&&x.key&&r[x.key]!==_+1?(M.push(g(b,w,x.key)),(x=b[w])&&x.key===S.key?w++:k.push({key:S.key,to:_})):k.push({key:S.key,to:_}),_++):x&&x.key&&M.push(g(b,w,x.key))}for(;w<b.length;)x=b[w],M.push(g(b,w,x&&x.key));if(M.length===c&&!k.length)return{children:u,moves:null};return{children:u,moves:{removes:M,inserts:k}}}(u,n.children),l=s.children,c=u.length,h=l.length,v=c>h?c:h,p=0;p<v;p++){var m=u[p],x=l[p];a+=1,m?f(m,x,e,a):x&&(r=y(r,new i(i.INSERT,null,x))),o(m)&&m.count&&(a+=m.count)}s.moves&&(r=y(r,new i(i.ORDER,t,s.moves)));return r}(t,n,e,l,r)}else l=y(l,new i(i.VNODE,t,n)),h=!0;else l=y(l,new i(i.VNODE,t,n)),h=!0;else a(n)?a(t)?t.text!==n.text&&(l=y(l,new i(i.VTEXT,t,n))):(l=y(l,new i(i.VTEXT,t,n)),h=!0):u(n)&&(u(t)||(h=!0),l=y(l,new i(i.WIDGET,t,n)));l&&(e[r]=l),h&&v(t,e,r)}}function v(t,n,e){!function t(n,e,r){if(o(n)){if(n.hooks&&(e[r]=y(e[r],new i(i.PROPS,n,function(t){var n={};for(var e in t)n[e]=void 0;return n}(n.hooks)))),n.descendantHooks||n.hasThunks)for(var a=n.children,u=a.length,l=0;l<u;l++){var c=a[l];t(c,e,r+=1),o(c)&&c.count&&(r+=c.count)}}else s(n)&&p(n,null,e,r)}(t,n,e),function t(n,e,r){if(u(n))"function"==typeof n.destroy&&(e[r]=y(e[r],new i(i.REMOVE,n,null)));else if(o(n)&&(n.hasWidgets||n.hasThunks))for(var a=n.children,l=a.length,c=0;c<l;c++){var h=a[c];t(h,e,r+=1),o(h)&&h.count&&(r+=h.count)}else s(n)&&p(n,null,e,r)}(t,n,e)}function p(t,n,e,r){var o=l(t,n),a=h(o.a,o.b);(function(t){for(var n in t)if("a"!==n)return!0;return!1})(a)&&(e[r]=new i(i.THUNK,null,a))}function g(t,n,e){return t.splice(n,1),{from:n,key:e}}function d(t){for(var n={},e=[],r=t.length,i=0;i<r;i++){var o=t[i];o.key?n[o.key]=i:e.push(i)}return{keys:n,free:e}}function y(t,n){return t?(r(t)?t.push(n):t=[t,n],t):n}n.exports=h},{"../vnode/handle-thunk":101,"../vnode/is-thunk":102,"../vnode/is-vnode":104,"../vnode/is-vtext":105,"../vnode/is-widget":106,"../vnode/vpatch":109,"./diff-props":111,"x-is-array":86}],113:[function(t,n,e){var r=t("./bezier"),i=t("./vector"),o=t("./utils"),a=function(){};a.prototype={type:"anchor",add:function(t){var n=this.copy();return n.vec1&&(n.vec1=n.vec1.add(t)),n.vec2&&(n.vec2=n.vec2.add(t)),n.vec3&&(n.vec3=n.vec3.add(t)),n},sub:function(t){var n=this.copy();return n.vec1&&(n.vec1=n.vec1.sub(t)),n.vec2&&(n.vec2=n.vec2.sub(t)),n.vec3&&(n.vec3=n.vec3.sub(t)),n},multiply:function(t){var n=this.copy();return n.vec1&&(n.vec1=n.vec1.multiply(t)),n.vec2&&(n.vec2=n.vec2.multiply(t)),n.vec3&&(n.vec3=n.vec3.multiply(t)),n},copy:function(){var t=new a;return t.command=this.command,this.vec1&&(t.vec1=this.vec1.copy()),this.vec2&&(t.vec2=this.vec2.copy()),this.vec3&&(t.vec3=this.vec3.copy()),t},setMove:function(t,n){return this.command="move",this.vec1=t instanceof i?t:new i(t,n),this},setLine:function(t,n){return this.command="line",this.vec1=t instanceof i?t:new i(t,n),this},setCurve:function(t,n,e,r,i,a){var u=o.expandVectorArguments(arguments);return this._setCurveImpl.apply(this,u),this},_setCurveImpl:function(t,n,e,r,o,a){void 0!==a?(this.command="cubic",this.vec1=new i(t,n),this.vec2=new i(e,r),this.vec3=new i(o,a)):(this.command="quad",this.vec1=new i(t,n),this.vec2=new i(e,r))},setClose:function(){return this.command="close",this},length:function(){if("move"==this.command)return 0;if("line"==this.command)return this.vec1.length();if("quad"==this.command)return new r(0,0,this.vec1.x,this.vec1.y,this.vec2.x,this.vec2.y).length();if("cubic"==this.command)return new r(0,0,this.vec1.x,this.vec1.y,this.vec2.x,this.vec2.y,this.vec3.x,this.vec3.y).length();throw new Error("Cannot compute length for this type of anchor")},vectorAt:function(t){if(t>1&&(t=1),t<0&&(t=0),"line"==this.command)return new i(this.vec1.x,this.vec1.y).multiply(t);if("quad"==this.command)return new r(0,0,this.vec1.x,this.vec1.y,this.vec2.x,this.vec2.y).get(t);if("cubic"==this.command)return new r(0,0,this.vec1.x,this.vec1.y,this.vec2.x,this.vec2.y,this.vec3.x,this.vec3.y).get(t);throw new Error("Cannot compute vectorAt for this type of anchor")}},n.exports=a},{"./bezier":114,"./utils":134,"./vector":135}],114:[function(t,n,e){!function(){"use strict";var t=Math.abs,e=(Math.min,Math.max,Math.cos),r=Math.sin,i=(Math.acos,Math.asin,Math.atan2),o=Math.sqrt,a=(Math.PI,{x:0,y:0,z:0}),u={Tvalues:[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213],Cvalues:[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872],arcfn:function(t,n){var e=n(t),r=e.x*e.x+e.y*e.y;return void 0!==e.z&&(r+=e.z*e.z),o(r)},length:function(t){var n,e,r=0,i=this.Tvalues.length;for(n=0;n<i;n++)e=.5*this.Tvalues[n]+.5,r+=this.Cvalues[n]*this.arcfn(e,t);return.5*r},angle:function(t,n,e){var r=n.x-t.x,a=n.y-t.y,u=e.x-t.x,s=e.y-t.y,l=r*s-a*u,c=o(r*r+a*a),h=o(u*u+s*s);return i(l,(r/=c)*(u/=h)+(a/=c)*(s/=h))},dist:function(t,n){var e=t.x-n.x,r=t.y-n.y;return o(e*e+r*r)},align:function(t,n){var o=n.p1.x,a=n.p1.y,u=-i(n.p2.y-a,n.p2.x-o);return t.map(function(t){return{x:(t.x-o)*e(u)-(t.y-a)*r(u),y:(t.x-o)*r(u)+(t.y-a)*e(u)}})}},s=function(n){var e=n&&n.forEach?n:arguments;if("object"===l(e[0])){e=[];for(var r=0;r<n.length;r++)["x","y","z"].forEach(function(t){void 0!==n[r][t]&&e.push(n[r][t])})}var i=e.length;if(6!==i&&8!==i&&9!==i&&12!==i)throw console.log(n),new Error("This Bezier curve library only supports quadratic and cubic curves (in 2d and 3d)");var o=9===i||12===i;this._3d=o;for(var a=[],s=0,c=o?3:2;s<i;s+=c){var h={x:e[s],y:e[s+1]};o&&(h.z=e[s+2]),a.push(h)}this.order=a.length-1,this.points=a;var f=["x","y"];o&&f.push("z"),this.dims=f,this.dimlen=f.length,function(n){for(var e=u.align(a,{p1:a[0],p2:a[n.order]}),r=0;r<e.length;r++)if(t(e[r].y)>1e-4)return void(n._linear=!1);n._linear=!0}(this),this._t1=0,this._t2=1,this.update()};s.utils=u,s.prototype={update:function(){this.dpoints=[];for(var t=this.points,n=t.length,e=n-1;n>1;n--,e--){for(var r,i=[],o=0;o<e;o++)r={x:e*(t[o+1].x-t[o].x),y:e*(t[o+1].y-t[o].y)},this._3d&&(r.z=e*(t[o+1].z-t[o].z)),i.push(r);this.dpoints.push(i),t=i}this.computedirection()},computedirection:function(){var t=this.points,n=u.angle(t[0],t[this.order],t[1]);this.clockwise=n>0},length:function(){return u.length(this.derivative.bind(this))},get:function(t){return this.compute(t)},compute:function(t){if(0===t)return this.points[0];if(1===t)return this.points[this.order];var n,e,r,i=1-t,o=i*i,u=t*t,s=0,l=this.points;2===this.order&&(l=[l[0],l[1],l[2],a],n=o,e=i*t*2,r=u),3===this.order&&(n=o*i,e=o*t*3,r=i*u*3,s=t*u);var c={x:n*l[0].x+e*l[1].x+r*l[2].x+s*l[3].x,y:n*l[0].y+e*l[1].y+r*l[2].y+s*l[3].y};return this._3d&&(c.z=n*l[0].z+e*l[1].z+r*l[2].z+s*l[3].z),c},derivative:function(t){var n,e,r=1-t,i=0,o=this.dpoints[0];2===this.order&&(o=[o[0],o[1],a],n=r,e=t),3===this.order&&(n=r*r,e=r*t*2,i=t*t);var u={x:n*o[0].x+e*o[1].x+i*o[2].x,y:n*o[0].y+e*o[1].y+i*o[2].y};return this._3d&&(u.z=n*o[0].z+e*o[1].z+i*o[2].z),u}},n.exports=s}()},{}],115:[function(t,n,e){var r=t("color-convert"),i=function t(n,e,r,i,o){if(this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1},n instanceof t)return n;if("hsv"==n)this.setValues("hsv",{h:e%360,s:r,v:i}),o&&this.setValues("alpha",o);else if("string"==typeof n){var a=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(n);if(!a)throw new Error('Unable to parse color from string "'+n+'"');this.setValues("rgb",[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]),e&&this.setValues("alpha",e)}else void 0===r?(this.setValues("rgb",{r:n,g:n,b:n}),e&&this.setValues("alpha",e)):void 0!==n&&(this.setValues("rgb",{r:n,g:e,b:r}),i&&this.setValues("alpha",i))};i.prototype={type:"color",rgb:function(t){return this.setSpace("rgb",arguments)},hsl:function(t){return this.setSpace("hsl",arguments)},hsv:function(t){return this.setSpace("hsv",arguments)},hwb:function(t){return this.setSpace("hwb",arguments)},cmyk:function(t){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){return 1!==this.values.alpha?this.values.hwb.concat([this.values.alpha]):this.values.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){return this.values.rgb.concat([this.values.alpha])},hslaArray:function(){return this.values.hsl.concat([this.values.alpha])},alpha:function(t){return void 0===t?this.values.alpha:(this.setValues("alpha",t),this)},red:function(t){return this.setChannel("rgb",0,t)},green:function(t){return this.setChannel("rgb",1,t)},blue:function(t){return this.setChannel("rgb",2,t)},hue:function(t){return this.setChannel("hsl",0,t)},saturation:function(t){return this.setChannel("hsl",1,t)},lightness:function(t){return this.setChannel("hsl",2,t)},saturationv:function(t){return this.setChannel("hsv",1,t)},whiteness:function(t){return this.setChannel("hwb",1,t)},blackness:function(t){return this.setChannel("hwb",2,t)},value:function(t){return this.setChannel("hsv",2,t)},cyan:function(t){return this.setChannel("cmyk",0,t)},magenta:function(t){return this.setChannel("cmyk",1,t)},yellow:function(t){return this.setChannel("cmyk",2,t)},black:function(t){return this.setChannel("cmyk",3,t)},luminosity:function(){for(var t=this.values.rgb,n=[],e=0;e<t.length;e++){var r=t[e]/255;n[e]=r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4)}return.2126*n[0]+.7152*n[1]+.0722*n[2]},contrast:function(t){var n=this.luminosity(),e=t.luminosity();return n>e?(n+.05)/(e+.05):(e+.05)/(n+.05)},level:function(t){var n=this.contrast(t);return n>=7.1?"AAA":n>=4.5?"AA":""},dark:function(){var t=this.values.rgb;return(299*t[0]+587*t[1]+114*t[2])/1e3<128},light:function(){return!this.dark()},negate:function(){for(var t=[],n=0;n<3;n++)t[n]=255-this.values.rgb[n];return this.setValues("rgb",t),this},lighten:function(t){return this.values.hsl[2]+=this.values.hsl[2]*t,this.setValues("hsl",this.values.hsl),this},darken:function(t){return this.values.hsl[2]-=this.values.hsl[2]*t,this.setValues("hsl",this.values.hsl),this},saturate:function(t){return this.values.hsl[1]+=this.values.hsl[1]*t,this.setValues("hsl",this.values.hsl),this},desaturate:function(t){return this.values.hsl[1]-=this.values.hsl[1]*t,this.setValues("hsl",this.values.hsl),this},whiten:function(t){return this.values.hwb[1]+=this.values.hwb[1]*t,this.setValues("hwb",this.values.hwb),this},blacken:function(t){return this.values.hwb[2]+=this.values.hwb[2]*t,this.setValues("hwb",this.values.hwb),this},greyscale:function(){var t=this.values.rgb,n=.3*t[0]+.59*t[1]+.11*t[2];return this.setValues("rgb",[n,n,n]),this},clearer:function(t){return this.setValues("alpha",this.values.alpha-this.values.alpha*t),this},opaquer:function(t){return this.setValues("alpha",this.values.alpha+this.values.alpha*t),this},rotate:function(t){var n=this.values.hsl[0];return n=(n=(n+t)%360)<0?360+n:n,this.values.hsl[0]=n,this.setValues("hsl",this.values.hsl),this},mix:function(t,n){var e=t,r=void 0!==n?n:.5,i=2*r-1,o=this.alpha()-e.alpha(),a=((i*o==-1?i:(i+o)/(1+i*o))+1)/2,u=1-a;return this.rgb(a*this.red()+u*e.red(),a*this.green()+u*e.green(),a*this.blue()+u*e.blue()).alpha(this.alpha()*r+e.alpha()*(1-r))},toJSON:function(){return this.rgb()},copy:function(){return(new i).rgb(this.rgb())},getValues:function(t){for(var n={},e=0;e<t.length;e++)n[t.charAt(e)]=this.values[t][e];return 1!=this.values.alpha&&(n.a=this.values.alpha),n},setValues:function(t,n){var e={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},i={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},o=1;if("alpha"==t)o=n;else if(n.length)this.values[t]=n.slice(0,t.length),o=n[t.length];else if(void 0!==n[t.charAt(0)]){for(var a=0;a<t.length;a++)this.values[t][a]=n[t.charAt(a)];o=n.a}else if(void 0!==n[e[t][0]]){var u=e[t];for(a=0;a<t.length;a++)this.values[t][a]=n[u[a]];o=n.alpha}if(this.values.alpha=Math.max(0,Math.min(1,void 0!==o?o:this.values.alpha)),"alpha"!=t){for(a=0;a<t.length;a++){var s=Math.max(0,Math.min(i[t][a],this.values[t][a]));this.values[t][a]=Math.round(s)}for(var l in e){l!=t&&(this.values[l]=r[t][l](this.values[t]));for(a=0;a<l.length;a++){s=Math.max(0,Math.min(i[l][a],this.values[l][a]));this.values[l][a]=Math.round(s)}}return!0}},setSpace:function(t,n){var e=n[0];return void 0===e?this.getValues(t):("number"==typeof e&&(e=Array.prototype.slice.call(n)),this.setValues(t,e),this)},setChannel:function(t,n,e){return void 0===e?this.values[t][n]:(this.values[t][n]=e,this.setValues(t,this.values[t]),this)}},i.Convert=r,n.exports=i},{"color-convert":3}],116:[function(t,n,e){n.exports={on:function(t,n){return this._events||(this._events={}),this._events[t]=this._events[t]||[],this._events[t].push(n),this},off:function(t,n){if(this._events[t]&&!n)delete this._events[t];else if(this._events[t])for(var e=(t=this._events[t]).length;e--;)t[e]===n&&t.splice(e-1,1);else 0===arguments.length&&(this._events={});return this},trigger:function(t){if(this._events&&this._events[t])for(var n=this._events[t],e=arguments.length>1?[arguments[1]]:[],r=n.length;r--;)n[r].apply(this,e);return this}}},{}],117:[function(t,n,e){var r=t("lodash/object/assign"),i=t("lodash/object/defaults"),o=t("./mixins/moveable"),a=t("./group"),u=function(t){this.moveable(),this.modules=[];var n=i(t||{},{x:0,y:0,columns:10,rows:1,gutterWidth:0,gutterHeight:0,moduleWidth:50,moduleHeight:500});void 0!==n.gutter&&(n.gutterWidth=n.gutter,n.gutterHeight=n.gutter),void 0!==n.width?n.moduleWidth=(n.width-(n.columns-1)*n.gutterWidth)/n.columns:n.width=n.moduleWidth*n.columns+n.gutterWidth*(n.columns-1),void 0!==n.height?n.moduleHeight=(n.height-(n.rows-1)*n.gutterHeight)/n.rows:n.height=n.moduleHeight*n.rows+n.gutterHeight*(n.rows-1),r(this.vars,n),this.computeGrid()};r(u.prototype={add:function(t,n,e){n||(n=1),e||(e=1);var r=n-1+(e-1)*this.vars.columns;if(!this.modules[r])throw new Error("Column or row does not exist");this.modules[r].add(t)},getModule:function(t,n){var e=t-1+(n-1)*this.vars.columns;return this.modules[e]?this.modules[e]:void 0},computeGrid:function(){this.modules=[];for(var t=0;t<this.vars.rows;t++)for(var n=0;n<this.vars.columns;n++){var e=n*this.vars.moduleWidth+n*this.vars.gutterWidth,r=t*this.vars.moduleHeight+t*this.vars.gutterHeight;this.modules.push(new a(e,r))}}},o,{type:"grid"}),n.exports=u},{"./group":118,"./mixins/moveable":119,"lodash/object/assign":70,"lodash/object/defaults":71}],118:[function(t,n,e){var r=t("lodash/array/without"),i=t("lodash/object/assign"),o=t("lodash/collection/each"),a=t("./mixins/moveable"),u=t("./mixins/vectors_acceptable"),s=t("./utils"),l=(t("./vector"),function(t,n){this.moveable(),this.vectorsAcceptable(arguments)});i(l.prototype={init:function(t,n){this.children=[],void 0!==t&&(this.vars.x=t),void 0!==n&&(this.vars.y=n)},add:function(t){t.parent&&t.parent.remove(t),this.children.push(t),t.parent=this},remove:function(t){this.children=r(this.children,t),t.parent=!1},copy:function(t){for(var n=new l,e=0;e<this.children.length;e++)this.children[e].copy(n);return s.copyMixinVars(this,n),s.groupLogic(n,this.parent,t),n},scale:function(t){return o(this.children,function(n){n.vars.x*=t,n.vars.y*=t,n.scale(t)}),this}},a,u,{type:"group"}),n.exports=l},{"./mixins/moveable":119,"./mixins/vectors_acceptable":122,"./utils":134,"./vector":135,"lodash/array/without":6,"lodash/collection/each":7,"lodash/object/assign":70}],119:[function(t,n,e){var r=t("../vector"),i={moveable:function(t){this.vars=this.vars||{},this.vars.x=t?t.vars.x:0,this.vars.y=t?t.vars.y:0,this.vars.rotation=t?t.vars.rotation:0,this.vars.rotationX=t?t.vars.rotationX:0,this.vars.rotationY=t?t.vars.rotationY:0},move:function(t,n,e){return this.vars.x=e?this.vars.x+t:t,this.vars.y=e?this.vars.y+n:n,this},rotate:function(t,n,e,r){return this.vars.rotation=t,(n||e)&&(this.vars.rotationX=n||0,this.vars.rotationY=e||0),r&&(this.vars.rotationX+=this.vars.x,this.vars.rotationY+=this.vars.y),this},addParent:function(t){return t.add(this),this},removeParent:function(){return this.parent&&this.parent.remove(this),this},stagepos:function(){var t=new r(this.vars.x,this.vars.y);return this.parent&&(t=t.add(this.parent.stagepos())),t}};n.exports=i},{"../vector":135}],120:[function(t,n,e){n.exports={sizeable:function(t){this.vars=this.vars||{},this.vars.width=t?t.vars.width:0,this.vars.height=t?t.vars.height:0},scaleSizeable:function(t){this.vars.width*=t,this.vars.height*=t}}},{}],121:[function(t,n,e){var r=t("../color"),i={styleable:function(t){this.vars=this.vars||{},this.vars.fill=new r(128),this.vars.stroke=new r(0),t&&(!1===t.vars.fill?this.vars.fill=!1:t.vars.fill&&(this.vars.fill=t.vars.fill.copy()),!1===t.vars.stroke?this.vars.stroke=!1:t.vars.stroke&&(this.vars.stroke=t.vars.stroke.copy()),t.vars.strokeWidth&&(this.vars.strokeWidth=t.vars.strokeWidth),t.vars.strokeCap&&(this.vars.strokeCap=t.vars.strokeCap),t.vars.strokeJoin&&(this.vars.strokeJoin=t.vars.strokeJoin),t.vars.strokeMiterlimit&&(this.vars.strokeMiterlimit=t.vars.strokeMiterlimit),t.vars.strokeDash&&(this.vars.strokeDash=t.vars.strokeDash),t.vars.strokeDashOffset&&(this.vars.strokeDashOffset=t.vars.strokeDashOffset))},fill:function(t,n,e,i,o){return this.vars.fill=!1!==t&&new r(t,n,e,i,o),this},stroke:function(t,n,e,i,o){return this.vars.stroke=!1!==t&&new r(t,n,e,i,o),this},strokeWidth:function(t){return this.vars.strokeWidth=t,this},strokeCap:function(t){return this.vars.strokeCap=t,this},strokeJoin:function(t){return this.vars.strokeJoin=t,this},strokeMiterlimit:function(t){return this.vars.strokeMiterlimit=t,this},strokeDash:function(t){return this.vars.strokeDash=t,this},strokeDashOffset:function(t){return this.vars.strokeDashOffset=t,this},scaleStyleable:function(t){this.vars.strokeWidth?this.vars.strokeWidth*=t:this.vars.strokeWidth=t}};n.exports=i},{"../color":115}],122:[function(t,n,e){var r=t("../utils"),i={vectorsAcceptable:function(t){var n=r.expandVectorArguments(t);if(!this.init)throw new Error("init() function does not exist for initializing from vectors");this.init.apply(this,n)}};n.exports=i},{"../utils":134}],123:[function(t,n,e){var r=t("lodash/array/flatten"),i=t("lodash/collection/each"),o=t("lodash/collection/map"),a=t("./shapes/circle"),u=t("./shapes/rectangle"),s=t("./shapes/line"),l=(t("virtual-dom/h"),t("virtual-dom/diff")),c=t("virtual-dom/patch"),h=t("virtual-dom/create-element"),f=t("virtual-dom/virtual-hyperscript/svg"),v=function(t){this.params=t,this.tree=f("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:this.s(t.width),height:this.s(t.height)}),this.el=h(this.tree)};v.prototype={render:function(t,n){var e=f("svg",{width:this.s(this.params.width),height:this.s(this.params.height)},[this.objectsToSVG(t.children,n)]),r=l(this.tree,e);this.el=c(this.el,r),this.tree=e},objectToSVG:function(t,n){if(this[t.type+"ToSVG"])return this[t.type+"ToSVG"](t,n);console.error("Rune.Render: Object not recognized",t)},objectsToSVG:function(t,n){for(var e=[],i=0;i<t.length;i++)e.push(this.objectToSVG(t[i],n));return r(e,!0)},rectangleToSVG:function(t){var n={x:this.s(t.vars.x),y:this.s(t.vars.y),width:this.s(t.vars.width),height:this.s(t.vars.height)};return t.vars.rx&&(n.rx=this.s(t.vars.rx)),t.vars.ry&&(n.ry=this.s(t.vars.ry)),this.transformAttribute(n,t),this.styleableAttributes(t,n),f("rect",n)},ellipseToSVG:function(t){var n={cx:this.s(t.vars.x),cy:this.s(t.vars.y),rx:this.s(t.vars.width/2),ry:this.s(t.vars.height/2)};return this.transformAttribute(n,t),this.styleableAttributes(t,n),f("ellipse",n)},circleToSVG:function(t){var n={cx:this.s(t.vars.x),cy:this.s(t.vars.y),r:this.s(t.vars.radius)};return this.transformAttribute(n,t),this.styleableAttributes(t,n),f("circle",n)},lineToSVG:function(t){var n={x1:this.s(t.vars.x),y1:this.s(t.vars.y),x2:this.s(t.vars.x2),y2:this.s(t.vars.y2)};return this.transformAttribute(n,t),this.styleableAttributes(t,n),f("line",n)},triangleToSVG:function(t){var n={points:"0 0 "+t.vars.x2+" "+t.vars.y2+" "+t.vars.x3+" "+t.vars.y3};return this.transformAttribute(n,t),this.styleableAttributes(t,n),f("polygon",n)},polygonToSVG:function(t){var n={points:o(t.vars.vectors,function(t){return t.x+" "+t.y}).join(" ")};return this.transformAttribute(n,t),this.styleableAttributes(t,n),f("polygon",n)},pathToSVG:function(t,n){var e={};this.dAttribute(t,e),this.transformAttribute(e,t),this.styleableAttributes(t,e),this.optionalAttributes(t,e,{fillRule:"fill-rule"});var r=[f("path",e)];return n&&n.debug&&(r=r.concat(this.debugPathToSVG(t))),r},textToSVG:function(t,n){var e={x:this.s(t.vars.x),y:this.s(t.vars.y)};if(this.transformAttribute(e,t),this.styleableAttributes(t,e),t.vars.textAlign){var r={left:"start",center:"middle",right:"end"};e["text-anchor"]=r[t.vars.textAlign]}if(this.optionalAttributes(t,e,{fontFamily:"font-family",textAlign:"text-align",fontStyle:"font-style",fontWeight:"font-weight",fontSize:"font-size",letterSpacing:"letter-spacing",textDecoration:"text-decoration"}),t.vars.textAlign){r={left:"start",center:"middle",right:"end"};e["text-anchor"]=r[t.vars.textAlign]}return f("text",e,t.vars.text)},imageToSVG:function(t){var n={"xlink:href":this.s(t.vars.url),x:this.s(t.vars.x),y:this.s(t.vars.y)};return this.optionalAttributes(t,n,{width:"width",height:"height"}),this.transformAttribute(n,t),f("image",n)},groupToSVG:function(t,n){if(t.children&&0!=t.children.length){var e={};return this.transformAttribute(e,t),f("g",e,this.objectsToSVG(t.children,n))}},gridToSVG:function(t,n){var e={};this.transformAttribute(e,t);var i=this.objectsToSVG(t.modules);return n&&n.debug&&(i=i.concat(this.debugGridToSVG(t))),f("g",e,r(i,!0))},optionalAttributes:function(t,n,e){i(e,function(e,r){t.vars[r]&&(n[e]=this.s(t.vars[r]))},this)},sizeableAttributes:function(t,n){n.width=this.s(t.vars.width),n.height=this.s(t.vars.height)},styleableAttributes:function(t,n){if(!1===t.vars.fill)n.fill="none";else if(t.vars.fill){n.fill="rgb("+t.vars.fill.values.rgb[0]+", "+t.vars.fill.values.rgb[1]+", "+t.vars.fill.values.rgb[2]+")",(e=t.vars.fill.values.alpha)<1&&(n["fill-opacity"]=this.s(e))}if(!1===t.vars.stroke)n.stroke="none";else if(t.vars.stroke){var e;n.stroke="rgb("+t.vars.stroke.values.rgb[0]+", "+t.vars.stroke.values.rgb[1]+", "+t.vars.stroke.values.rgb[2]+")",(e=t.vars.stroke.values.alpha)<1&&(n["stroke-opacity"]=this.s(e))}t.vars.strokeWidth&&(n["stroke-width"]=this.s(t.vars.strokeWidth)),t.vars.strokeCap&&(n["stroke-linecap"]=t.vars.strokeCap),t.vars.strokeJoin&&(n["stroke-linejoin"]=t.vars.strokeJoin),t.vars.strokeMiterlimit&&(n["stroke-miterlimit"]=this.s(t.vars.strokeMiterlimit)),t.vars.strokeDash&&(n["stroke-dasharray"]=t.vars.strokeDash),t.vars.strokeDashOffset&&(n["stroke-dashoffset"]=this.s(t.vars.strokeDashOffset))},transformAttribute:function(t,n){var e=n.vars,r=[];if(e.rotation){var i="rotate("+e.rotation;(e.rotationX||e.rotationY)&&(i+=" "+e.rotationX+" "+e.rotationY),r.push(i+")")}"group"!=n.type&&"path"!=n.type&&"polygon"!=n.type&&"grid"!=n.type&&"triangle"!=n.type||!e.x&&!e.y||r.push("translate("+e.x+" "+e.y+")"),r.length>0&&(t.transform=r.join(" ").trim())},dAttribute:function(t,n){n.d=o(t.vars.anchors,function(t){return"move"==t.command?"M "+t.vec1.x+" "+t.vec1.y:"line"==t.command?"L "+t.vec1.x+" "+t.vec1.y:"cubic"==t.command?"C "+t.vec1.x+" "+t.vec1.y+" "+t.vec2.x+" "+t.vec2.y+" "+t.vec3.x+" "+t.vec3.y:"quad"==t.command&&void 0!==t.vec2?"Q "+t.vec1.x+" "+t.vec1.y+" "+t.vec2.x+" "+t.vec2.y:"quad"==t.command?"T "+t.vec1.x+" "+t.vec1.y:"close"==t.command?"Z":void 0}).join(" ").trim()},debugPathToSVG:function(t){var n=this,e=[];return i(t.vars.anchors,function(r,i){if("cubic"==r.command){e.push(n.debugLine(t.vars.x+r.vec1.x,t.vars.y+r.vec1.y,t.vars.x+r.vec3.x,t.vars.y+r.vec3.y)),e.push(n.debugLine(t.vars.x+r.vec2.x,t.vars.y+r.vec2.y,t.vars.x+r.vec3.x,t.vars.y+r.vec3.y));for(i=1;i<4;i++)e.push(n.debugCircle(t.vars.x+r["vec"+i].x,t.vars.y+r["vec"+i].y))}else if("quad"==r.command&&void 0!==r.vec2){e.push(n.debugLine(t.vars.x+r.vec1.x,t.vars.y+r.vec1.y,t.vars.x+r.vec2.x,t.vars.y+r.vec2.y));for(i=1;i<3;i++)e.push(n.debugCircle(t.vars.x+r["vec"+i].x,t.vars.y+r["vec"+i].y))}}),e},debugGridToSVG:function(t){var n=[];n.push(this.debugRect(0,0,t.vars.width,t.vars.height));for(var e=0,r=0;r<t.vars.columns-1;r++)e+=t.vars.moduleWidth,n.push(this.debugLine(e,0,e,t.vars.height)),e+=t.vars.gutterWidth,n.push(this.debugLine(e,0,e,t.vars.height));var i=0;for(r=0;r<t.vars.rows-1;r++)i+=t.vars.moduleHeight,n.push(this.debugLine(0,i,t.vars.width,i)),i+=t.vars.gutterHeight,n.push(this.debugLine(0,i,t.vars.width,i));return n},debugCircle:function(t,n){var e=new a(t,n,4).fill(212,18,229).stroke(!1);return this.circleToSVG(e)},debugRect:function(t,n,e,r){var i=new u(t,n,e,r).stroke(212,18,229).fill(!1);return this.rectangleToSVG(i)},debugLine:function(t,n,e,r){var i=new s(t,n,e,r).stroke(212,18,229);return this.lineToSVG(i)},s:function(t){return"string"!=typeof t&&void 0!==t.toString?t.toString():t}},n.exports=v},{"./shapes/circle":125,"./shapes/line":128,"./shapes/rectangle":131,"lodash/array/flatten":4,"lodash/collection/each":7,"lodash/collection/map":9,"virtual-dom/create-element":77,"virtual-dom/diff":78,"virtual-dom/h":79,"virtual-dom/patch":87,"virtual-dom/virtual-hyperscript/svg":100}],124:[function(t,n,e){var r=t("lodash/object/defaults"),i=t("lodash/object/assign"),o=t("lodash/collection/each"),a=t("./vector"),u=t("./anchor"),s=t("./color"),l=t("./group"),c=t("./grid"),h=t("./utils"),f=t("./events"),v=t("./render"),p=t("./shapes/circle"),g=t("./shapes/ellipse"),d=t("./shapes/line"),y=t("./shapes/triangle"),m=t("./shapes/path"),x=t("./shapes/polygon"),b=t("./shapes/rectangle"),w=t("./shapes/text"),M=t("./shapes/image"),k=t("./mixins/sizeable"),_=t("./mixins/moveable"),S=t("./mixins/styleable"),A=function(t){var n=r(t||{},{width:640,height:480,debug:!1,frameRate:60});this.width=n.width,this.height=n.height,this.renderer=new v(n),this.stage=new l,this.debug=n.debug,this.frameCount=1,this.frameRate=n.frameRate,n.container&&"undefined"!=typeof window&&("string"==typeof n.container&&(n.container=document.querySelector(n.container)),n.container?this.appendTo(n.container):console.error("Container element not found")),this.initEvents()};A.prototype={initEvents:function(){"undefined"!=typeof window&&this.initMouseEvents()},relativePos:function(t,n){var e=this.renderer.el.getBoundingClientRect();return{x:t-e.left,y:n-e.top}},initMouseEvents:function(){o(["mousemove","mousedown","mouseup","click"],function(t){var n=this;this.renderer.el.addEventListener(t,function(e){var r=n.relativePos(e.pageX,e.pageY);n.trigger(t,{x:r.x,y:r.y})})},this)},group:function(t,n,e){var r=h.invokeConstructor(l,arguments);return h.groupLogic(r,this.stage,arguments[arguments.length-1]),r},triangle:function(t,n,e,r,i,o,a){var u=h.invokeConstructor(y,arguments);return h.groupLogic(u,this.stage,arguments[arguments.length-1]),u},rect:function(t,n,e,r,i){var o=h.invokeConstructor(b,arguments);return h.groupLogic(o,this.stage,arguments[arguments.length-1]),o},ellipse:function(t,n,e,r,i){var o=h.invokeConstructor(g,arguments);return h.groupLogic(o,this.stage,arguments[arguments.length-1]),o},circle:function(t,n,e,r){var i=h.invokeConstructor(p,arguments);return h.groupLogic(i,this.stage,arguments[arguments.length-1]),i},line:function(t,n,e,r,i){var o=h.invokeConstructor(d,arguments);return h.groupLogic(o,this.stage,arguments[arguments.length-1]),o},polygon:function(t,n,e){var r=h.invokeConstructor(x,arguments);return h.groupLogic(r,this.stage,arguments[arguments.length-1]),r},path:function(t,n,e){var r=h.invokeConstructor(m,arguments);return h.groupLogic(r,this.stage,arguments[arguments.length-1]),r},text:function(t,n,e,r){var i=h.invokeConstructor(w,arguments);return h.groupLogic(i,this.stage,arguments[arguments.length-1]),i},image:function(t,n,e,r,i,o){var a=h.invokeConstructor(M,arguments);return h.groupLogic(a,this.stage,arguments[arguments.length-1]),a},grid:function(t,n){var e=new c(t);return h.groupLogic(e,this.stage,n),e},play:function(){if(this.pauseNext)this.pauseNext=!1;else if(this.frameRate>=60)this.playNow();else{var t=this;setTimeout(function(){t.playNow()},1e3/this.frameRate)}},playNow:function(){var t=this;this.trigger("draw",{frameCount:this.frameCount}),this.animationFrame=requestAnimationFrame(function(){t.play()}),this.draw()},pause:function(){this.pauseNext=!0},getEl:function(){return this.renderer.el},appendTo:function(t){return t.appendChild(this.renderer.el),this},draw:function(){this.renderer.render(this.stage,{debug:this.debug}),this.frameCount+=1}},i(A,h),i(A.prototype,h),i(A.prototype,f),A.Vector=a,A.Anchor=u,A.Color=s,A.Group=l,A.Grid=c,A.Circle=p,A.Ellipse=g,A.Line=d,A.Triangle=y,A.Path=m,A.Polygon=x,A.Rectangle=b,A.Text=w,A.Image=M,A.Moveable=_,A.Styleable=S,A.Sizeable=k,n.exports=A},{"./anchor":113,"./color":115,"./events":116,"./grid":117,"./group":118,"./mixins/moveable":119,"./mixins/sizeable":120,"./mixins/styleable":121,"./render":123,"./shapes/circle":125,"./shapes/ellipse":126,"./shapes/image":127,"./shapes/line":128,"./shapes/path":129,"./shapes/polygon":130,"./shapes/rectangle":131,"./shapes/text":132,"./shapes/triangle":133,"./utils":134,"./vector":135,"lodash/collection/each":7,"lodash/object/assign":70,"lodash/object/defaults":71}],125:[function(t,n,e){var r=t("lodash/object/assign"),i=t("../mixins/moveable"),o=t("../mixins/styleable"),a=t("../mixins/vectors_acceptable"),u=t("./ellipse"),s=t("../utils"),l=function(t,n,e){this.moveable(),this.styleable(),this.vectorsAcceptable(arguments)};r(l.prototype={init:function(t,n,e){this.vars.x=t,this.vars.y=n,this.vars.radius=e},toPolygon:function(t,n){var e=new u(this.vars.x,this.vars.y,2*this.vars.radius,2*this.vars.radius).toPolygon(t,!1);return s.copyMixinVars(this,e),s.groupLogic(e,this.parent,n),e},scale:function(t){return this.scaleStyleable(t),this.vars.radius*=t,this},copy:function(t){var n=new l;return n.vars.radius=this.vars.radius,s.copyMixinVars(this,n),s.groupLogic(n,this.parent,t),n}},i,o,a,{type:"circle"}),n.exports=l},{"../mixins/moveable":119,"../mixins/styleable":121,"../mixins/vectors_acceptable":122,"../utils":134,"./ellipse":126,"lodash/object/assign":70}],126:[function(t,n,e){var r=t("lodash/object/assign"),i=t("../mixins/moveable"),o=t("../mixins/sizeable"),a=t("../mixins/styleable"),u=t("../mixins/vectors_acceptable"),s=t("./polygon"),l=t("../utils"),c=function(t,n,e,r){this.moveable(),this.sizeable(),this.styleable(),this.vectorsAcceptable(arguments)};r(c.prototype={init:function(t,n,e,r){this.vars.x=t,this.vars.y=n,this.vars.width=e,this.vars.height=r},toPolygon:function(t,n){var e=16;t&&t.spacing&&(e=Math.PI*(this.vars.width+this.vars.height)/t.spacing);for(var r=360/e,i=new s(this.vars.x,this.vars.y),o=0;o<e;o++){var a=Math.cos(l.radians(o*r))*this.vars.width,u=Math.sin(l.radians(o*r))*this.vars.height;i.lineTo(a,u)}return l.copyMixinVars(this,i),l.groupLogic(i,this.parent,n),i},scale:function(t){return this.scaleSizeable(t),this.scaleStyleable(t),this},copy:function(t){var n=new c;return l.copyMixinVars(this,n),l.groupLogic(n,this.parent,t),n}},i,o,a,u,{type:"ellipse"}),n.exports=c},{"../mixins/moveable":119,"../mixins/sizeable":120,"../mixins/styleable":121,"../mixins/vectors_acceptable":122,"../utils":134,"./polygon":130,"lodash/object/assign":70}],127:[function(t,n,e){var r=t("lodash/object/assign"),i=t("../mixins/moveable"),o=(t("../mixins/styleable"),t("../mixins/sizeable")),a=t("../mixins/vectors_acceptable"),u=t("../utils"),s=function(t,n,e,r,i){this.moveable(),this.sizeable(),this.vectorsAcceptable(arguments)};r(s.prototype={init:function(t,n,e,r,i){this.vars.url=t,this.vars.x=n,this.vars.y=e,this.vars.width=r,this.vars.height=i},scale:function(t){return this.scaleSizeable(t),this},copy:function(t){var n=new s;return n.vars.url=this.vars.url,u.copyMixinVars(this,n),u.groupLogic(n,this.parent,t),n}},i,o,a,{type:"image"}),n.exports=s},{"../mixins/moveable":119,"../mixins/sizeable":120,"../mixins/styleable":121,"../mixins/vectors_acceptable":122,"../utils":134,"lodash/object/assign":70}],128:[function(t,n,e){var r=t("lodash/object/assign"),i=t("../mixins/moveable"),o=t("../mixins/styleable"),a=t("../mixins/vectors_acceptable"),u=t("../vector"),s=t("../utils"),l=function(t,n,e,r){this.moveable(),this.styleable(),this.vectorsAcceptable(arguments)};r(l.prototype={init:function(t,n,e,r){this.vars.x=t,this.vars.y=n,this.vars.x2=e,this.vars.y2=r},copy:function(t){var n=new l;return n.vars.x2=this.vars.x2,n.vars.y2=this.vars.y2,s.copyMixinVars(this,n),s.groupLogic(n,this.parent,t),n},scale:function(t){this.scaleStyleable(t);var n=new u(this.vars.x,this.vars.y),e=new u(this.vars.x2,this.vars.y2).sub(n).multiply(t).add(n);return this.vars.x2=e.x,this.vars.y2=e.y,this}},i,o,a,{type:"line"}),n.exports=l},{"../mixins/moveable":119,"../mixins/styleable":121,"../mixins/vectors_acceptable":122,"../utils":134,"../vector":135,"lodash/object/assign":70}],129:[function(t,n,e){var r=t("lodash/collection/each"),i=t("lodash/collection/map"),o=t("lodash/object/assign"),a=t("../mixins/moveable"),u=t("../mixins/styleable"),s=t("../mixins/vectors_acceptable"),l=t("../anchor"),c=t("../vector"),h=t("./polygon"),f=t("../utils"),v=function(t,n){this.moveable(),this.styleable(),this.vectorsAcceptable(arguments)};o(v.prototype={init:function(t,n){this.vars.anchors=[],void 0!==t&&(this.vars.x=t),void 0!==n&&(this.vars.y=n)},moveTo:function(t,n){return this.vars.anchors.push((new l).setMove(t,n)),this},lineTo:function(t,n){return this.checkStartMove(),this.vars.anchors.push((new l).setLine(t,n)),this},curveTo:function(t,n,e,r,i,o){return this.checkStartMove(),this.vars.anchors.push((new l).setCurve(t,n,e,r,i,o)),this},closePath:function(){return this.checkStartMove(),this.vars.anchors.push((new l).setClose()),this},startVector:function(){return this.vars.anchors[0]&&"move"==this.vars.anchors[0].command?this.vars.anchors[0].vec1.copy():new c(0,0)},subpaths:function(t){var n=[],e=0;return r(this.vars.anchors,function(r,i){var o="move"==r.command,a=this.vars.anchors[i-1]&&"close"==this.vars.anchors[i-1].command,u=i==this.vars.anchors.length-1;if(i>e&&(o||a||u)){u&&i++;var s=this.copy(t);s.vars.anchors=s.vars.anchors.slice(e,i),n.push(s),e=i}},this),n},length:function(){for(var t=0,n=this.subpaths(!1),e=0;e<n.length;e++)for(var r=n[e].vars.anchors,i=0;i<r.length-1;i++){var o=r[i],a=o.vec3||o.vec2||o.vec1,u=r[i+1];"close"==u.command&&(u=n[e].startVector()),t+=u.sub(a).length()}return t},vectorAtLength:function(t){for(var n=0,e=this.subpaths(!1),r=0;r<e.length;r++)for(var i=e[r].vars.anchors,o=0;o<i.length-1;o++){var a=i[o],u=a.vec3||a.vec2||a.vec1,s=i[o+1];if("close"==s.command){var c=e[r].startVector();s=(new l).setLine(c.x,c.y)}var h=s.sub(u),f=h.length();if(n+f>t){var v=t-n;return u.add(h.vectorAt(v/f))}n+=f}return this.startVector()},vectorAt:function(t){return this.vectorAtLength(this.length()*t)},toPolygons:function(t,n){var e=this.subpaths(!1),i=[];return t&&t.spacing&&r(e,function(e){for(var r=new h(e.vars.x,e.vars.y),o=e.length()/t.spacing,a=0;a<o;a++){var u=e.vectorAtLength(a*t.spacing);r.lineTo(u.x,u.y)}f.copyMixinVars(this,r),f.groupLogic(r,this.parent,n),i.push(r)},this),i},copy:function(t){var n=new v;return n.vars.anchors=i(this.vars.anchors,function(t){return t.copy()}),f.copyMixinVars(this,n),f.groupLogic(n,this.parent,t),n},scale:function(t){return this.scaleStyleable(t),this.vars.anchors=i(this.vars.anchors,function(n){return n.multiply(t)}),this},fillRule:function(t){return this.vars.fillRule=t,this},checkStartMove:function(){0==this.vars.anchors.length&&this.moveTo(0,0)}},a,u,s,{type:"path"}),n.exports=v},{"../anchor":113,"../mixins/moveable":119,"../mixins/styleable":121,"../mixins/vectors_acceptable":122,"../utils":134,"../vector":135,"./polygon":130,"lodash/collection/each":7,"lodash/collection/map":9,"lodash/object/assign":70}],130:[function(t,n,e){var r=t("lodash/object/assign"),i=t("lodash/collection/each"),o=t("lodash/collection/map"),a=t("lodash/array/flatten"),u=t("../mixins/moveable"),s=t("../mixins/styleable"),l=t("../mixins/vectors_acceptable"),c=t("../vector"),h=t("../utils"),f=function(t,n){this.moveable(),this.styleable(),this.vectorsAcceptable(arguments)};r(f.prototype={init:function(t,n){this.vars.vectors=[],void 0!==t&&(this.vars.x=t),void 0!==n&&(this.vars.y=n)},lineTo:function(t,n){return t instanceof c?this.vars.vectors.push(t):this.vars.vectors.push(new c(t,n)),this},length:function(){for(var t=0,n=0;n<this.vars.vectors.length;n++){var e=this.vars.vectors[n];t+=this.vars.vectors[(n+1)%this.vars.vectors.length].sub(e).length()}return t},vectorAtLength:function(t){for(var n=0,e=0;e<this.vars.vectors.length;e++){var r=this.vars.vectors[e],i=this.vars.vectors[(e+1)%this.vars.vectors.length].sub(r),o=i.length();if(n+o>t){var a=t-n;return r.add(i.normalize().multiply(a))}n+=o}return this.vars.vectors[0].copy()},vectorAt:function(t){return this.vectorAtLength(this.length()*t)},area:function(){for(var t=0,n=0;n<this.vars.vectors.length-1;n++)t+=this.vars.vectors[n].x*this.vars.vectors[n+1].y-this.vars.vectors[n+1].x*this.vars.vectors[n].y;return t/=2,Math.abs(t)},bounds:function(){var t=void 0,n=void 0,e=void 0,r=void 0;return i(this.vars.vectors,function(i){(void 0===e||i.x<e)&&(e=i.x),(void 0===t||i.x>t)&&(t=i.x),(void 0===r||i.y<r)&&(r=i.y),(void 0===n||i.y>n)&&(n=i.y)}),{x:e,y:r,width:t-e,height:n-r}},centroid:function(){for(var t=0,n=0,e=0,r=0;r<this.vars.vectors.length;r++){var i=this.vars.vectors[r],o=this.vars.vectors[(r+1)%this.vars.vectors.length];t+=i.x*o.y-o.x*i.y,n+=(i.x+o.x)*(i.x*o.y-o.x*i.y),e+=(i.y+o.y)*(i.x*o.y-o.x*i.y)}return new c(n/(6*(t/=2)),e/(6*t))},toPolygon:function(t,n){if(t&&t.spacing){for(var e=new f(this.vars.x,this.vars.y),r=this.length()/t.spacing,i=0;i<r;i++){var o=this.vectorAtLength(i*t.spacing);e.lineTo(o.x,o.y)}return h.copyMixinVars(this,e),h.groupLogic(e,this.parent,n),e}return this},copy:function(t){var n=new f;return n.vars.vectors=o(this.vars.vectors,function(t){return t.copy()}),h.copyMixinVars(this,n),h.groupLogic(n,this.parent,t),n},contains:function(t,n){for(var e,r,i=this.stagepos(),u=a(o(this.vars.vectors,function(t){return[i.x+t.x,i.y+t.y]},this)),s=u.length>>1,l=u[2*s-3]-n,c=u[2*s-2]-t,h=u[2*s-1]-n,f=0;f<s;f++)e=c,l=h,c=u[2*f]-t,l!=(h=u[2*f+1]-n)&&(r=h>l);var v=0;for(f=0;f<s;f++)if(e=c,l=h,c=u[2*f]-t,h=u[2*f+1]-n,!(l<0&&h<0||l>0&&h>0||e<0&&c<0)){if(l==h&&Math.min(e,c)<=0)return!0;if(l!=h){var p=e+(c-e)*-l/(h-l);if(0==p)return!0;p>0&&v++,0==l&&r&&h>l&&v--,0==l&&!r&&h<l&&v--,r=h>l}}return 1==(1&v)},scale:function(t){return this.scaleStyleable(t),this.vars.vectors=o(this.vars.vectors,function(n){return n.multiply(t)}),this}},u,s,l,{type:"polygon"}),n.exports=f},{"../mixins/moveable":119,"../mixins/styleable":121,"../mixins/vectors_acceptable":122,"../utils":134,"../vector":135,"lodash/array/flatten":4,"lodash/collection/each":7,"lodash/collection/map":9,"lodash/object/assign":70}],131:[function(t,n,e){var r=t("lodash/object/assign"),i=t("../mixins/moveable"),o=t("../mixins/styleable"),a=t("../mixins/sizeable"),u=t("../mixins/vectors_acceptable"),s=t("./polygon"),l=t("../utils"),c=function(t,n,e,r){this.moveable(),this.sizeable(),this.styleable(),this.vectorsAcceptable(arguments)};r(c.prototype={init:function(t,n,e,r){this.vars.x=t,this.vars.y=n,this.vars.width=e,this.vars.height=r},round:function(t,n){n||(n=t),this.vars.rx=t,this.vars.ry=n},toPolygon:function(t,n){var e=new s(this.vars.x,this.vars.y).lineTo(0,0).lineTo(this.vars.width,0).lineTo(this.vars.width,this.vars.height).lineTo(0,this.vars.height);return t&&(e=e.toPolygon(t,!1)),l.copyMixinVars(this,e),l.groupLogic(e,this.parent,n),e},copy:function(t){var n=new c;return l.copyMixinVars(this,n),l.groupLogic(n,this.parent,t),n},scale:function(t){return this.scaleSizeable(t),this.scaleStyleable(t),this}},i,a,o,u,{type:"rectangle"}),n.exports=c},{"../mixins/moveable":119,"../mixins/sizeable":120,"../mixins/styleable":121,"../mixins/vectors_acceptable":122,"../utils":134,"./polygon":130,"lodash/object/assign":70}],132:[function(t,n,e){var r=t("lodash/object/assign"),i=t("../mixins/moveable"),o=t("../mixins/styleable"),a=t("../mixins/vectors_acceptable"),u=t("../utils"),s=function(t,n,e){this.moveable(),this.styleable(),this.vectorsAcceptable(arguments)};r(s.prototype={init:function(t,n,e){this.vars.text=t,this.vars.x=n,this.vars.y=e,this.vars.fontSize=16},toPolygon:function(){throw new Error("You need the Rune.Font plugin to convert text to polygon")},textAlign:function(t){return this.vars.textAlign=t,this},fontFamily:function(t){return this.vars.fontFamily=t,this},fontStyle:function(t){return this.vars.fontStyle=t,this},fontWeight:function(t){return this.vars.fontWeight=t,this},fontSize:function(t){return this.vars.fontSize=t,this},letterSpacing:function(t){return this.vars.letterSpacing=t,this},textDecoration:function(t){return this.vars.textDecoration=t,this},copy:function(t){var n=new s;return n.vars.text=this.vars.text,n.vars.textAlign=this.vars.textAlign,n.vars.fontFamily=this.vars.fontFamily,n.vars.fontStyle=this.vars.fontStyle,n.vars.fontWeight=this.vars.fontWeight,n.vars.fontSize=this.vars.fontSize,n.vars.letterSpacing=this.vars.letterSpacing,n.vars.textDecoration=this.vars.textDecoration,u.copyMixinVars(this,n),u.groupLogic(n,this.parent,t),n},scale:function(t){return this.scaleStyleable(t),this.vars.fontSize*=t,this}},i,o,a,{type:"text"}),n.exports=s},{"../mixins/moveable":119,"../mixins/styleable":121,"../mixins/vectors_acceptable":122,"../utils":134,"lodash/object/assign":70}],133:[function(t,n,e){var r=t("lodash/object/assign"),i=t("../mixins/moveable"),o=t("../mixins/styleable"),a=t("../mixins/vectors_acceptable"),u=t("../utils"),s=function(t,n,e,r,i,o){this.moveable(),this.styleable(),this.vectorsAcceptable(arguments)};r(s.prototype={init:function(t,n,e,r,i,o){this.vars.x=t,this.vars.y=n,this.vars.x2=e-t,this.vars.y2=r-n,this.vars.x3=i-t,this.vars.y3=o-n},copy:function(t){var n=new s;return n.vars.x2=this.vars.x2,n.vars.y2=this.vars.y2,n.vars.x3=this.vars.x3,n.vars.y3=this.vars.y3,u.copyMixinVars(this,n),u.groupLogic(n,this.parent,t),n},scale:function(t){return this.scaleStyleable(t),this.vars.x2*=t,this.vars.y2*=t,this.vars.x3*=t,this.vars.y3*=t,this}},i,o,a,{type:"triangle"}),n.exports=s},{"../mixins/moveable":119,"../mixins/styleable":121,"../mixins/vectors_acceptable":122,"../utils":134,"lodash/object/assign":70}],134:[function(t,n,e){var r={random:function(t,n){return void 0===n&&(n=t,t=0),t+Math.random()*(n-t)},degrees:function(t){return t*(180/Math.PI)},radians:function(t){return t*(Math.PI/180)},groupLogic:function(t,n,e){e&&"group"==e.type?e.add(t):!1!==e&&n&&"group"==n.type&&n.add(t)},copyMixinVars:function(t,n){t.moveable&&n.moveable&&n.moveable(t),t.sizeable&&n.sizeable&&n.sizeable(t),t.styleable&&n.styleable&&n.styleable(t)},round:function(t,n){return Number(Math.round(t+"e"+n)+"e-"+n)},argumentsToArray:function(t){return Array.prototype.slice.call(t)},invokeConstructor:function(t,n){var e=this.argumentsToArray(n),r=[null].concat(e);return new(t.bind.apply(t,r))},expandVectorArguments:function(t){for(var n=this.argumentsToArray(t),e=0;e<n.length;e++)if(n[e]&&"vector"==n[e].type){var r=n[e];n.splice(e,1),n.splice(e,0,r.y),n.splice(e,0,r.x)}return n}};n.exports=r},{}],135:[function(t,n,e){var r=t("./utils"),i=function(t,n){this.x=t||0,this.y=n||0};i.prototype={type:"vector",set:function(t,n){this.x=t,this.y=n},add:function(t){return new i(this.x+t.x,this.y+t.y)},sub:function(t){return new i(this.x-t.x,this.y-t.y)},multiply:function(t){return new i(this.x*t,this.y*t)},divide:function(t){var n=new i(0,0);return t&&(n.x=this.x/t,n.y=this.y/t),n},distance:function(t){return Math.sqrt(this.distanceSquared(t))},distanceSquared:function(t){var n=this.x-t.x,e=this.y-t.y;return n*n+e*e},lerp:function(t,n){var e=(t.x-this.x)*n+this.x,r=(t.y-this.y)*n+this.y;return new i(e,r)},dot:function(t){return this.x*t.x+this.y*t.y},length:function(){return Math.sqrt(this.lengthSquared())},lengthSquared:function(){return this.x*this.x+this.y*this.y},normalize:function(){return this.divide(this.length())},rotation:function(){return r.degrees(Math.atan2(this.y,this.x))},rotate:function(t){var n=r.radians(this.rotation()+t),e=this.length(),o=r.round(Math.cos(n)*e,9),a=r.round(Math.sin(n)*e,9);return new i(o,a)},copy:function(){return new i(this.x,this.y)},toString:function(){return"(x: "+this.x+", y: "+this.y+")"}},n.exports=i},{"./utils":134}]},{},[124])(124)},"object"===l(n)&&void 0!==t?t.exports=s():(o=[],void 0===(a="function"==typeof(i=s)?i.apply(n,o):i)||(t.exports=a))}).call(this,e(12))}}]);